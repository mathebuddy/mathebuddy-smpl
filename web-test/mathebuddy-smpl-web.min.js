"use strict";var mathebuddySMPL=(()=>{var Ua=Object.create;var it=Object.defineProperty;var Xa=Object.getOwnPropertyDescriptor;var Za=Object.getOwnPropertyNames;var Va=Object.getPrototypeOf,Ha=Object.prototype.hasOwnProperty;var lr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ja=(r,e)=>{for(var n in e)it(r,n,{get:e[n],enumerable:!0})},Qn=(r,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Za(e))!Ha.call(r,i)&&i!==n&&it(r,i,{get:()=>e[i],enumerable:!(t=Xa(e,i))||t.enumerable});return r};var Vr=(r,e,n)=>(n=r!=null?Ua(Va(r)):{},Qn(e||!r||!r.__esModule?it(n,"default",{value:r,enumerable:!0}):n,r)),Ga=r=>Qn(it({},"__esModule",{value:!0}),r);var Mi=lr((Rt,kt)=>{(function(r,e){typeof Rt=="object"&&typeof kt<"u"?kt.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.typed=e())})(Rt,function(){"use strict";function r(a,s){var p=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!p){if(Array.isArray(a)||(p=e(a))||s&&a&&typeof a.length=="number"){p&&(a=p);var m=0,v=function(){};return{s:v,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(g){throw g},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,d=!1,D;return{s:function(){p=p.call(a)},n:function(){var g=p.next();return f=g.done,g},e:function(g){d=!0,D=g},f:function(){try{!f&&p.return!=null&&p.return()}finally{if(d)throw D}}}}function e(a,s){if(!!a){if(typeof a=="string")return n(a,s);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return n(a,s)}}function n(a,s){(s==null||s>a.length)&&(s=a.length);for(var p=0,m=new Array(s);p<s;p++)m[p]=a[p];return m}function t(a){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(a)}function i(){return!0}function o(){return!1}function l(){}var h="Argument is not a typed-function.";function c(){function a(E){return t(E)==="object"&&E!==null&&E.constructor===Object}var s=[{name:"number",test:function(A){return typeof A=="number"}},{name:"string",test:function(A){return typeof A=="string"}},{name:"boolean",test:function(A){return typeof A=="boolean"}},{name:"Function",test:function(A){return typeof A=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(A){return A instanceof Date}},{name:"RegExp",test:function(A){return A instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(A){return A===null}},{name:"undefined",test:function(A){return A===void 0}}],p={name:"any",test:i,isAny:!0},m,v,f=0,d={createCount:0};function D(E){var A=m.get(E);if(A)return A;var b='Unknown type "'+E+'"',_=E.toLowerCase(),k,P=r(v),q;try{for(P.s();!(q=P.n()).done;)if(k=q.value,k.toLowerCase()===_){b+='. Did you mean "'+k+'" ?';break}}catch(I){P.e(I)}finally{P.f()}throw new TypeError(b)}function C(E){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",b=A?D(A).index:v.length,_=[],k=0;k<E.length;++k){if(!E[k]||typeof E[k].name!="string"||typeof E[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var P=E[k].name;if(m.has(P))throw new TypeError('Duplicate type name "'+P+'"');_.push(P),m.set(P,{name:P,test:E[k].test,isAny:E[k].isAny,index:b+k,conversionsTo:[]})}var q=v.slice(b);v=v.slice(0,b).concat(_).concat(q);for(var I=b+_.length;I<v.length;++I)m.get(v[I]).index=I}function g(){m=new Map,v=[],f=0,C([p],!1)}g(),C(s);function N(){var E,A=r(v),b;try{for(A.s();!(b=A.n()).done;)E=b.value,m.get(E).conversionsTo=[]}catch(_){A.e(_)}finally{A.f()}f=0}function w(E){var A=v.filter(function(b){var _=m.get(b);return!_.isAny&&_.test(E)});return A.length?A:["any"]}function x(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function y(E,A,b){if(!x(E))throw new TypeError(h);var _=b&&b.exact,k=Array.isArray(A)?A.join(","):A,P=R(k),q=S(P);if(!_||q in E.signatures){var I=E._typedFunctionData.signatureMap.get(q);if(I)return I}var z=P.length,Q;if(_){Q=[];var ee;for(ee in E.signatures)Q.push(E._typedFunctionData.signatureMap.get(ee))}else Q=E._typedFunctionData.signatures;for(var Z=0;Z<z;++Z){var Re=P[Z],_e=[],Oe=void 0,we=r(Q),Xe;try{for(we.s();!(Xe=we.n()).done;){Oe=Xe.value;var Ce=V(Oe.params,Z);if(!(!Ce||Re.restParam&&!Ce.restParam)){if(!Ce.hasAny){var Qe=function(){var Ze=H(Ce);if(Re.types.some(function(Er){return!Ze.has(Er.name)}))return"continue"}();if(Qe==="continue")continue}_e.push(Oe)}}}catch(Ze){we.e(Ze)}finally{we.f()}if(Q=_e,Q.length===0)break}var ke,Pe=r(Q),xr;try{for(Pe.s();!(xr=Pe.n()).done;)if(ke=xr.value,ke.params.length<=z)return ke}catch(Ze){Pe.e(Ze)}finally{Pe.f()}throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+S(P,", ")+"))")}function F(E,A,b){return y(E,A,b).implementation}function T(E,A){var b=D(A);if(b.test(E))return E;var _=b.conversionsTo;if(_.length===0)throw new Error("There are no conversions to "+A+" defined.");for(var k=0;k<_.length;k++){var P=D(_[k].from);if(P.test(E))return _[k].convert(E)}throw new Error("Cannot convert "+E+" to "+A)}function S(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(function(b){return b.name}).join(A)}function O(E){var A=E.indexOf("...")===0,b=A?E.length>3?E.slice(3):"any":E,_=b.split("|").map(function(I){return D(I.trim())}),k=!1,P=A?"...":"",q=_.map(function(I){return k=I.isAny||k,P+=I.name+"|",{name:I.name,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:null,conversionIndex:-1}});return{types:q,name:P.slice(0,-1),hasAny:k,hasConversion:!1,restParam:A}}function U(E){var A=E.types.map(function(q){return q.name}),b=me(A),_=E.hasAny,k=E.name,P=b.map(function(q){var I=D(q.from);return _=I.isAny||_,k+="|"+q.from,{name:q.from,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:q,conversionIndex:q.index}});return{types:E.types.concat(P),name:k,hasAny:_,hasConversion:P.length>0,restParam:E.restParam}}function H(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(function(A){return E.typeSet.add(A.name)})),E.typeSet}function R(E){var A=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");var b=E.trim();if(b==="")return A;for(var _=b.split(","),k=0;k<_.length;++k){var P=O(_[k].trim());if(P.restParam&&k!==_.length-1)throw new SyntaxError('Unexpected rest parameter "'+_[k]+'": only allowed for the last parameter');if(P.types.length===0)return null;A.push(P)}return A}function L(E){var A=Ke(E);return A?A.restParam:!1}function M(E){if(!E||E.types.length===0)return i;if(E.types.length===1)return D(E.types[0].name).test;if(E.types.length===2){var A=D(E.types[0].name).test,b=D(E.types[1].name).test;return function(P){return A(P)||b(P)}}else{var _=E.types.map(function(k){return D(k.name).test});return function(P){for(var q=0;q<_.length;q++)if(_[q](P))return!0;return!1}}}function G(E){var A,b,_;if(L(E)){A=Nr(E).map(M);var k=A.length,P=M(Ke(E)),q=function(z){for(var Q=k;Q<z.length;Q++)if(!P(z[Q]))return!1;return!0};return function(z){for(var Q=0;Q<A.length;Q++)if(!A[Q](z[Q]))return!1;return q(z)&&z.length>=k+1}}else return E.length===0?function(z){return z.length===0}:E.length===1?(b=M(E[0]),function(z){return b(z[0])&&z.length===1}):E.length===2?(b=M(E[0]),_=M(E[1]),function(z){return b(z[0])&&_(z[1])&&z.length===2}):(A=E.map(M),function(z){for(var Q=0;Q<A.length;Q++)if(!A[Q](z[Q]))return!1;return z.length===A.length})}function V(E,A){return A<E.length?E[A]:L(E)?Ke(E):null}function j(E,A){var b=V(E,A);return b?H(b):new Set}function J(E){return E.conversion===null||E.conversion===void 0}function ae(E,A){var b=new Set;return E.forEach(function(_){var k=j(_.params,A),P,q=r(k),I;try{for(q.s();!(I=q.n()).done;)P=I.value,b.add(P)}catch(z){q.e(z)}finally{q.f()}}),b.has("any")?["any"]:Array.from(b)}function ie(E,A,b){var _,k,P=E||"unnamed",q=b,I,z=function(){var we=[];if(q.forEach(function(Ce){var Qe=V(Ce.params,I),ke=M(Qe);(I<Ce.params.length||L(Ce.params))&&ke(A[I])&&we.push(Ce)}),we.length===0){if(k=ae(q,I),k.length>0){var Xe=w(A[I]);return _=new TypeError("Unexpected type of argument in function "+P+" (expected: "+k.join(" or ")+", actual: "+Xe.join(" | ")+", index: "+I+")"),_.data={category:"wrongType",fn:P,index:I,actual:Xe,expected:k},{v:_}}}else q=we};for(I=0;I<A.length;I++){var Q=z();if(t(Q)==="object")return Q.v}var ee=q.map(function(Oe){return L(Oe.params)?1/0:Oe.params.length});if(A.length<Math.min.apply(null,ee))return k=ae(q,I),_=new TypeError("Too few arguments in function "+P+" (expected: "+k.join(" or ")+", index: "+A.length+")"),_.data={category:"tooFewArgs",fn:P,index:A.length,expected:k},_;var Z=Math.max.apply(null,ee);if(A.length>Z)return _=new TypeError("Too many arguments in function "+P+" (expected: "+Z+", actual: "+A.length+")"),_.data={category:"tooManyArgs",fn:P,index:A.length,expectedLength:Z},_;for(var Re=[],_e=0;_e<A.length;++_e)Re.push(w(A[_e]).join("|"));return _=new TypeError('Arguments of type "'+Re.join(", ")+'" do not match any of the defined signatures of function '+P+"."),_.data={category:"mismatch",actual:Re},_}function ne(E){for(var A=v.length+1,b=0;b<E.types.length;b++)J(E.types[b])&&(A=Math.min(A,E.types[b].typeIndex));return A}function de(E){for(var A=f+1,b=0;b<E.types.length;b++)J(E.types[b])||(A=Math.min(A,E.types[b].conversionIndex));return A}function De(E,A){if(E.hasAny){if(!A.hasAny)return 1}else if(A.hasAny)return-1;if(E.restParam){if(!A.restParam)return 1}else if(A.restParam)return-1;if(E.hasConversion){if(!A.hasConversion)return 1}else if(A.hasConversion)return-1;var b=ne(E)-ne(A);if(b<0)return-1;if(b>0)return 1;var _=de(E)-de(A);return _<0?-1:_>0?1:0}function ye(E,A){var b=E.params,_=A.params,k=Ke(b),P=Ke(_),q=L(b),I=L(_);if(q&&k.hasAny){if(!I||!P.hasAny)return 1}else if(I&&P.hasAny)return-1;var z=0,Q=0,ee,Z=r(b),Re;try{for(Z.s();!(Re=Z.n()).done;)ee=Re.value,ee.hasAny&&++z,ee.hasConversion&&++Q}catch(Ur){Z.e(Ur)}finally{Z.f()}var _e=0,Oe=0,we=r(_),Xe;try{for(we.s();!(Xe=we.n()).done;)ee=Xe.value,ee.hasAny&&++_e,ee.hasConversion&&++Oe}catch(Ur){we.e(Ur)}finally{we.f()}if(z!==_e)return z-_e;if(q&&k.hasConversion){if(!I||!P.hasConversion)return 1}else if(I&&P.hasConversion)return-1;if(Q!==Oe)return Q-Oe;if(q){if(!I)return 1}else if(I)return-1;var Ce=(b.length-_.length)*(q?-1:1);if(Ce!==0)return Ce;for(var Qe=[],ke=0,Pe=0;Pe<b.length;++Pe){var xr=De(b[Pe],_[Pe]);Qe.push(xr),ke+=xr}if(ke!==0)return ke;for(var Ze,Er=0,rt=Qe;Er<rt.length;Er++)if(Ze=rt[Er],Ze!==0)return Ze;return 0}function me(E){if(E.length===0)return[];var A=E.map(D);E.length>1&&A.sort(function(z,Q){return z.index-Q.index});var b=A[0].conversionsTo;if(E.length===1)return b;b=b.concat([]);for(var _=new Set(E),k=1;k<A.length;++k){var P=void 0,q=r(A[k].conversionsTo),I;try{for(q.s();!(I=q.n()).done;)P=I.value,_.has(P.from)||(b.push(P),_.add(P.from))}catch(z){q.e(z)}finally{q.f()}}return b}function Ue(E,A){var b=A;if(E.some(function(I){return I.hasConversion})){var _=L(E),k=E.map(ve);b=function(){for(var z=[],Q=_?arguments.length-1:arguments.length,ee=0;ee<Q;ee++)z[ee]=k[ee](arguments[ee]);return _&&(z[Q]=arguments[Q].map(k[Q])),A.apply(this,z)}}var P=b;if(L(E)){var q=E.length-1;P=function(){return b.apply(this,qr(arguments,0,q).concat([qr(arguments,q)]))}}return P}function ve(E){var A,b,_,k,P=[],q=[];switch(E.types.forEach(function(I){I.conversion&&(P.push(D(I.conversion.from).test),q.push(I.conversion.convert))}),q.length){case 0:return function(z){return z};case 1:return A=P[0],_=q[0],function(z){return A(z)?_(z):z};case 2:return A=P[0],b=P[1],_=q[0],k=q[1],function(z){return A(z)?_(z):b(z)?k(z):z};default:return function(z){for(var Q=0;Q<q.length;Q++)if(P[Q](z))return q[Q](z);return z}}}function ce(E){function A(b,_,k){if(_<b.length){var P=b[_],q=[];if(P.restParam){var I=P.types.filter(J);I.length<P.types.length&&q.push({types:I,name:"..."+I.map(function(z){return z.name}).join("|"),hasAny:I.some(function(z){return z.isAny}),hasConversion:!1,restParam:!0}),q.push(P)}else q=P.types.map(function(z){return{types:[z],name:z.name,hasAny:z.isAny,hasConversion:z.conversion,restParam:!1}});return fa(q,function(z){return A(b,_+1,k.concat([z]))})}else return[k]}return A(E,0,[])}function Ye(E,A){for(var b=Math.max(E.length,A.length),_=0;_<b;_++){var k=j(E,_),P=j(A,_),q=!1,I=void 0,z=r(P),Q;try{for(z.s();!(Q=z.n()).done;)if(I=Q.value,k.has(I)){q=!0;break}}catch(Oe){z.e(Oe)}finally{z.f()}if(!q)return!1}var ee=E.length,Z=A.length,Re=L(E),_e=L(A);return Re?_e?ee===Z:Z>=ee:_e?ee>=Z:ee===Z}function Me(E){return E.map(function(A){return Vn(A)?Xn(A.referToSelf.callback):Zn(A)?Un(A.referTo.references,A.referTo.callback):A})}function se(E,A,b){var _=[],k,P=r(E),q;try{for(P.s();!(q=P.n()).done;){k=q.value;var I=b[k];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+k+'"');if(I=A[I],typeof I!="function")return!1;_.push(I)}}catch(z){P.e(z)}finally{P.f()}return _}function Se(E,A,b){for(var _=Me(E),k=new Array(_.length).fill(!1),P=!0;P;){P=!1;for(var q=!0,I=0;I<_.length;++I)if(!k[I]){var z=_[I];if(Vn(z))_[I]=z.referToSelf.callback(b),_[I].referToSelf=z.referToSelf,k[I]=!0,q=!1;else if(Zn(z)){var Q=se(z.referTo.references,_,A);Q?(_[I]=z.referTo.callback.apply(this,Q),_[I].referTo=z.referTo,k[I]=!0,q=!1):P=!0}}if(q&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return _}function Je(E){var A=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(function(b){var _=E[b];if(A.test(_.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function cr(E,A){if(d.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&Je(A);var b=[],_=[],k={},P=[],q,I=function(){if(!Object.prototype.hasOwnProperty.call(A,q))return"continue";var Be=R(q);if(!Be)return"continue";b.forEach(function(Tr){if(Ye(Tr,Be))throw new TypeError('Conflicting signatures "'+S(Tr)+'" and "'+S(Be)+'".')}),b.push(Be);var Gn=_.length;_.push(A[q]);var qa=Be.map(U),tt=void 0,nt=r(ce(qa)),Wn;try{for(nt.s();!(Wn=nt.n()).done;){tt=Wn.value;var Yn=S(tt);P.push({params:tt,name:Yn,fn:Gn}),tt.every(function(Tr){return!Tr.hasConversion})&&(k[Yn]=Gn)}}catch(Tr){nt.e(Tr)}finally{nt.f()}};for(q in A)var z=I();P.sort(ye);var Q=Se(_,k,Zr),ee;for(ee in k)Object.prototype.hasOwnProperty.call(k,ee)&&(k[ee]=Q[k[ee]]);for(var Z=[],Re=new Map,_e=0,Oe=P;_e<Oe.length;_e++)ee=Oe[_e],Re.has(ee.name)||(ee.fn=Q[ee.fn],Z.push(ee),Re.set(ee.name,ee));for(var we=Z[0]&&Z[0].params.length<=2&&!L(Z[0].params),Xe=Z[1]&&Z[1].params.length<=2&&!L(Z[1].params),Ce=Z[2]&&Z[2].params.length<=2&&!L(Z[2].params),Qe=Z[3]&&Z[3].params.length<=2&&!L(Z[3].params),ke=Z[4]&&Z[4].params.length<=2&&!L(Z[4].params),Pe=Z[5]&&Z[5].params.length<=2&&!L(Z[5].params),xr=we&&Xe&&Ce&&Qe&&ke&&Pe,Ze=0;Ze<Z.length;++Ze)Z[Ze].test=G(Z[Ze].params);for(var Er=we?M(Z[0].params[0]):o,rt=Xe?M(Z[1].params[0]):o,Ur=Ce?M(Z[2].params[0]):o,ma=Qe?M(Z[3].params[0]):o,va=ke?M(Z[4].params[0]):o,da=Pe?M(Z[5].params[0]):o,Da=we?M(Z[0].params[1]):o,ga=Xe?M(Z[1].params[1]):o,xa=Ce?M(Z[2].params[1]):o,Ea=Qe?M(Z[3].params[1]):o,ya=ke?M(Z[4].params[1]):o,wa=Pe?M(Z[5].params[1]):o,Xr=0;Xr<Z.length;++Xr)Z[Xr].implementation=Ue(Z[Xr].params,Z[Xr].fn);var Aa=we?Z[0].implementation:l,Ca=Xe?Z[1].implementation:l,Fa=Ce?Z[2].implementation:l,Na=Qe?Z[3].implementation:l,Ta=ke?Z[4].implementation:l,ba=Pe?Z[5].implementation:l,Ma=we?Z[0].params.length:-1,Sa=Xe?Z[1].params.length:-1,_a=Ce?Z[2].params.length:-1,Ba=Qe?Z[3].params.length:-1,Ia=ke?Z[4].params.length:-1,Oa=Pe?Z[5].params.length:-1,La=xr?6:0,Ra=Z.length,ka=Z.map(function(Ge){return Ge.test}),Pa=Z.map(function(Ge){return Ge.implementation}),za=function(){for(var Be=La;Be<Ra;Be++)if(ka[Be](arguments))return Pa[Be].apply(this,arguments);return d.onMismatch(E,arguments,Z)};function Zr(Ge,Be){return arguments.length===Ma&&Er(Ge)&&Da(Be)?Aa.apply(this,arguments):arguments.length===Sa&&rt(Ge)&&ga(Be)?Ca.apply(this,arguments):arguments.length===_a&&Ur(Ge)&&xa(Be)?Fa.apply(this,arguments):arguments.length===Ba&&ma(Ge)&&Ea(Be)?Na.apply(this,arguments):arguments.length===Ia&&va(Ge)&&ya(Be)?Ta.apply(this,arguments):arguments.length===Oa&&da(Ge)&&wa(Be)?ba.apply(this,arguments):za.apply(this,arguments)}try{Object.defineProperty(Zr,"name",{value:E})}catch{}return Zr.signatures=k,Zr._typedFunctionData={signatures:Z,signatureMap:Re},Zr}function ar(E,A,b){throw ie(E,A,b)}function Nr(E){return qr(E,0,E.length-1)}function Ke(E){return E[E.length-1]}function qr(E,A,b){return Array.prototype.slice.call(E,A,b)}function sa(E,A){for(var b=0;b<E.length;b++)if(A(E[b]))return E[b]}function fa(E,A){return Array.prototype.concat.apply([],E.map(A))}function ca(){var E=Nr(arguments).map(function(b){return S(R(b))}),A=Ke(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return Un(E,A)}function Un(E,A){return{referTo:{references:E,callback:A}}}function Xn(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function Zn(E){return E&&t(E.referTo)==="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function Vn(E){return E&&t(E.referToSelf)==="object"&&typeof E.referToSelf.callback=="function"}function Hn(E,A){if(!E)return A;if(A&&A!==E){var b=new Error("Function names do not match (expected: "+E+", actual: "+A+")");throw b.data={actual:A,expected:E},b}return E}function la(E){var A;for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(x(E[b])||typeof E[b].signature=="string")&&(A=Hn(A,E[b].name));return A}function pa(E,A){var b;for(b in A)if(Object.prototype.hasOwnProperty.call(A,b)){if(b in E&&A[b]!==E[b]){var _=new Error('Signature "'+b+'" is defined twice');throw _.data={signature:b,sourceFunction:A[b],destFunction:E[b]},_}E[b]=A[b]}}var ha=d;d=function(A){for(var b=typeof A=="string",_=b?1:0,k=b?A:"",P={},q=_;q<arguments.length;++q){var I=arguments[q],z={},Q=void 0;if(typeof I=="function"?(Q=I.name,typeof I.signature=="string"?z[I.signature]=I:x(I)&&(z=I.signatures)):a(I)&&(z=I,b||(Q=la(I))),Object.keys(z).length===0){var ee=new TypeError("Argument to 'typed' at index "+q+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ee.data={index:q,argument:I},ee}b||(k=Hn(k,Q)),pa(P,z)}return cr(k||"",P)},d.create=c,d.createCount=ha.createCount,d.onMismatch=ar,d.throwMismatchError=ar,d.createError=ie,d.clear=g,d.clearConversions=N,d.addTypes=C,d._findType=D,d.referTo=ca,d.referToSelf=Xn,d.convert=T,d.findSignature=y,d.find=F,d.isTypedFunction=x,d.warnAgainstDeprecatedThis=!0,d.addType=function(E,A){var b="any";A!==!1&&m.has("Object")&&(b="Object"),d.addTypes([E],b)};function jn(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return d.addConversion=function(E){jn(E);var A=D(E.to);if(A.conversionsTo.every(function(b){return b.from!==E.from}))A.conversionsTo.push({from:E.from,convert:E.convert,index:f++});else throw new Error('There is already a conversion from "'+E.from+'" to "'+A.name+'"')},d.addConversions=function(E){E.forEach(d.addConversion)},d.removeConversion=function(E){jn(E);var A=D(E.to),b=sa(A.conversionsTo,function(k){return k.from===E.from});if(!b)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(b.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");var _=A.conversionsTo.indexOf(b);A.conversionsTo.splice(_,1)},d.resolve=function(E,A){if(!x(E))throw new TypeError(h);for(var b=E._typedFunctionData.signatures,_=0;_<b.length;++_)if(b[_].test(A))return b[_];return null},d}var u=c();return u})});var mo=lr((rn,ho)=>{(function(r){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},n=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},t=function(u){var a=Math.PI/4;if(-a>u||u>a)return Math.cos(u)-1;var s=u*u;return s*(s*(s*(s*(s*(s*(s*(s/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,a){var s=Math.abs(u),p=Math.abs(a);return s<3e3&&p<3e3?Math.sqrt(s*s+p*p):(s<p?(s=p,p=u/a):p=a/u,s*Math.sqrt(1+p*p))},o=function(){throw SyntaxError("Invalid Param")};function l(u,a){var s=Math.abs(u),p=Math.abs(a);return u===0?Math.log(p):a===0?Math.log(s):s<3e3&&p<3e3?Math.log(u*u+a*a)*.5:(u=u/2,a=a/2,.5*Math.log(u*u+a*a)+Math.LN2)}var h=function(u,a){var s={re:0,im:0};if(u==null)s.re=s.im=0;else if(a!==void 0)s.re=u,s.im=a;else switch(typeof u){case"object":if("im"in u&&"re"in u)s.re=u.re,s.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return c.INFINITY;s.re=u.abs*Math.cos(u.arg),s.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return c.INFINITY;s.re=u.r*Math.cos(u.phi),s.im=u.r*Math.sin(u.phi)}else u.length===2?(s.re=u[0],s.im=u[1]):o();break;case"string":s.im=s.re=0;var p=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;p===null&&o();for(var f=0;f<p.length;f++){var d=p[f];d===" "||d==="	"||d===`
`||(d==="+"?m++:d==="-"?v++:d==="i"||d==="I"?(m+v===0&&o(),p[f+1]!==" "&&!isNaN(p[f+1])?(s.im+=parseFloat((v%2?"-":"")+p[f+1]),f++):s.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(d))&&o(),p[f+1]==="i"||p[f+1]==="I"?(s.im+=parseFloat((v%2?"-":"")+d),f++):s.re+=parseFloat((v%2?"-":"")+d),m=v=0))}m+v>0&&o();break;case"number":s.im=0,s.re=u;break;default:o()}return isNaN(s.re)||isNaN(s.im),s};function c(u,a){if(!(this instanceof c))return new c(u,a);var s=h(u,a);this.re=s.re,this.im=s.im}c.prototype={re:0,im:0,sign:function(){var u=this.abs();return new c(this.re/u,this.im/u)},add:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re+s.re,this.im+s.im)},sub:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re-s.re,this.im-s.im)},mul:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isZero()||this.isZero()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:s.im===0&&this.im===0?new c(this.re*s.re,0):new c(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(u,a){var s=new c(u,a);if(this.isZero()&&s.isZero()||this.isInfinite()&&s.isInfinite())return c.NAN;if(this.isInfinite()||s.isZero())return c.INFINITY;if(this.isZero()||s.isInfinite())return c.ZERO;u=this.re,a=this.im;var p=s.re,m=s.im,v,f;return m===0?new c(u/p,a/p):Math.abs(p)<Math.abs(m)?(f=p/m,v=p*f+m,new c((u*f+a)/v,(a*f-u)/v)):(f=m/p,v=m*f+p,new c((u+a*f)/v,(a-u*f)/v))},pow:function(u,a){var s=new c(u,a);if(u=this.re,a=this.im,s.isZero())return c.ONE;if(s.im===0){if(a===0&&u>0)return new c(Math.pow(u,s.re),0);if(u===0)switch((s.re%4+4)%4){case 0:return new c(Math.pow(a,s.re),0);case 1:return new c(0,Math.pow(a,s.re));case 2:return new c(-Math.pow(a,s.re),0);case 3:return new c(0,-Math.pow(a,s.re))}}if(u===0&&a===0&&s.re>0&&s.im>=0)return c.ZERO;var p=Math.atan2(a,u),m=l(u,a);return u=Math.exp(s.re*m-s.im*p),a=s.im*m+s.re*p,new c(u*Math.cos(a),u*Math.sin(a))},sqrt:function(){var u=this.re,a=this.im,s=this.abs(),p,m;if(u>=0){if(a===0)return new c(Math.sqrt(u),0);p=.5*Math.sqrt(2*(s+u))}else p=Math.abs(a)/Math.sqrt(2*(s-u));return u<=0?m=.5*Math.sqrt(2*(s-u)):m=Math.abs(a)/Math.sqrt(2*(s+u)),new c(p,a<0?-m:m)},exp:function(){var u=Math.exp(this.re);return this.im,new c(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,a=this.im;return new c(Math.expm1(u)*Math.cos(a)+t(a),Math.exp(u)*Math.sin(a))},log:function(){var u=this.re,a=this.im;return a===0&&u>0,new c(l(u,a),Math.atan2(a,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,a=this.im;return new c(Math.sin(u)*e(a),Math.cos(u)*n(a))},cos:function(){var u=this.re,a=this.im;return new c(Math.cos(u)*e(a),-Math.sin(u)*n(a))},tan:function(){var u=2*this.re,a=2*this.im,s=Math.cos(u)+e(a);return new c(Math.sin(u)/s,n(a)/s)},cot:function(){var u=2*this.re,a=2*this.im,s=Math.cos(u)-e(a);return new c(-Math.sin(u)/s,n(a)/s)},sec:function(){var u=this.re,a=this.im,s=.5*e(2*a)+.5*Math.cos(2*u);return new c(Math.cos(u)*e(a)/s,Math.sin(u)*n(a)/s)},csc:function(){var u=this.re,a=this.im,s=.5*e(2*a)-.5*Math.cos(2*u);return new c(Math.sin(u)*e(a)/s,-Math.cos(u)*n(a)/s)},asin:function(){var u=this.re,a=this.im,s=new c(a*a-u*u+1,-2*u*a).sqrt(),p=new c(s.re-a,s.im+u).log();return new c(p.im,-p.re)},acos:function(){var u=this.re,a=this.im,s=new c(a*a-u*u+1,-2*u*a).sqrt(),p=new c(s.re-a,s.im+u).log();return new c(Math.PI/2-p.im,p.re)},atan:function(){var u=this.re,a=this.im;if(u===0){if(a===1)return new c(0,1/0);if(a===-1)return new c(0,-1/0)}var s=u*u+(1-a)*(1-a),p=new c((1-a*a-u*u)/s,-2*u/s).log();return new c(-.5*p.im,.5*p.re)},acot:function(){var u=this.re,a=this.im;if(a===0)return new c(Math.atan2(1,u),0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).atan():new c(u!==0?u/0:0,a!==0?-a/0:0).atan()},asec:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,1/0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).acos():new c(u!==0?u/0:0,a!==0?-a/0:0).acos()},acsc:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(Math.PI/2,1/0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).asin():new c(u!==0?u/0:0,a!==0?-a/0:0).asin()},sinh:function(){var u=this.re,a=this.im;return new c(n(u)*Math.cos(a),e(u)*Math.sin(a))},cosh:function(){var u=this.re,a=this.im;return new c(e(u)*Math.cos(a),n(u)*Math.sin(a))},tanh:function(){var u=2*this.re,a=2*this.im,s=e(u)+Math.cos(a);return new c(n(u)/s,Math.sin(a)/s)},coth:function(){var u=2*this.re,a=2*this.im,s=e(u)-Math.cos(a);return new c(n(u)/s,-Math.sin(a)/s)},csch:function(){var u=this.re,a=this.im,s=Math.cos(2*a)-e(2*u);return new c(-2*n(u)*Math.cos(a)/s,2*e(u)*Math.sin(a)/s)},sech:function(){var u=this.re,a=this.im,s=Math.cos(2*a)+e(2*u);return new c(2*e(u)*Math.cos(a)/s,-2*n(u)*Math.sin(a)/s)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var a=this.asin();return this.re=-this.im,this.im=u,u=a.re,a.re=-a.im,a.im=u,a},acosh:function(){var u=this.acos();if(u.im<=0){var a=u.re;u.re=-u.im,u.im=a}else{var a=u.im;u.im=-u.re,u.re=a}return u},atanh:function(){var u=this.re,a=this.im,s=u>1&&a===0,p=1-u,m=1+u,v=p*p+a*a,f=v!==0?new c((m*p-a*a)/v,(a*p+m*a)/v):new c(u!==-1?u/0:0,a!==0?a/0:0),d=f.re;return f.re=l(f.re,f.im)/2,f.im=Math.atan2(f.im,d)/2,s&&(f.im=-f.im),f},acoth:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,Math.PI/2);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).atanh():new c(u!==0?u/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var u=this.re,a=this.im;if(a===0)return new c(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).asinh():new c(u!==0?u/0:0,a!==0?-a/0:0).asinh()},asech:function(){var u=this.re,a=this.im;if(this.isZero())return c.INFINITY;var s=u*u+a*a;return s!==0?new c(u/s,-a/s).acosh():new c(u!==0?u/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var u=this.re,a=this.im,s=u*u+a*a;return new c(u/s,-a/s)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new c(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new c(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new c(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,a){var s=new c(u,a);return Math.abs(s.re-this.re)<=c.EPSILON&&Math.abs(s.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var u=this.re,a=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<c.EPSILON&&(u=0),Math.abs(a)<c.EPSILON&&(a=0),a===0?s+u:(u!==0?(s+=u,s+=" ",a<0?(a=-a,s+="-"):s+="+",s+=" "):a<0&&(a=-a,s+="-"),a!==1&&(s+=a),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return c}):typeof rn=="object"?(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,ho.exports=c):r.Complex=c})(rn)});var Do=lr((nn,vo)=>{(function(r){"use strict";var e=2e3,n={s:1,n:0,d:1};function t(p,m){if(isNaN(p=parseInt(p,10)))throw s.InvalidParameter;return p*m}function i(p,m){if(m===0)throw s.DivisionByZero;var v=Object.create(s.prototype);v.s=p<0?-1:1,p=p<0?-p:p;var f=a(p,m);return v.n=p/f,v.d=m/f,v}function o(p){for(var m={},v=p,f=2,d=4;d<=v;){for(;v%f===0;)v/=f,m[f]=(m[f]||0)+1;d+=1+2*f++}return v!==p?v>1&&(m[v]=(m[v]||0)+1):m[p]=(m[p]||0)+1,m}var l=function(p,m){var v=0,f=1,d=1,D=0,C=0,g=0,N=1,w=1,x=0,y=1,F=1,T=1,S=1e7,O;if(p!=null)if(m!==void 0){if(v=p,f=m,d=v*f,v%1!==0||f%1!==0)throw s.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)v=p.n,f=p.d,"s"in p&&(v*=p.s);else if(0 in p)v=p[0],1 in p&&(f=p[1]);else throw s.InvalidParameter;d=v*f;break}case"number":{if(p<0&&(d=p,p=-p),p%1===0)v=p;else if(p>0){for(p>=1&&(w=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=w);y<=S&&T<=S;)if(O=(x+F)/(y+T),p===O){y+T<=S?(v=x+F,f=y+T):T>y?(v=F,f=T):(v=x,f=y);break}else p>O?(x+=F,y+=T):(F+=x,T+=y),y>S?(v=F,f=T):(v=x,f=y);v*=w}else(isNaN(p)||isNaN(m))&&(f=v=NaN);break}case"string":{if(y=p.match(/\d+|./g),y===null)throw s.InvalidParameter;if(y[x]==="-"?(d=-1,x++):y[x]==="+"&&x++,y.length===x+1?C=t(y[x++],d):y[x+1]==="."||y[x]==="."?(y[x]!=="."&&(D=t(y[x++],d)),x++,(x+1===y.length||y[x+1]==="("&&y[x+3]===")"||y[x+1]==="'"&&y[x+3]==="'")&&(C=t(y[x],d),N=Math.pow(10,y[x].length),x++),(y[x]==="("&&y[x+2]===")"||y[x]==="'"&&y[x+2]==="'")&&(g=t(y[x+1],d),w=Math.pow(10,y[x+1].length)-1,x+=3)):y[x+1]==="/"||y[x+1]===":"?(C=t(y[x],d),N=t(y[x+2],1),x+=3):y[x+3]==="/"&&y[x+1]===" "&&(D=t(y[x],d),C=t(y[x+2],d),N=t(y[x+4],1),x+=5),y.length<=x){f=N*w,d=v=g+f*D+w*C;break}}default:throw s.InvalidParameter}if(f===0)throw s.DivisionByZero;n.s=d<0?-1:1,n.n=Math.abs(v),n.d=Math.abs(f)};function h(p,m,v){for(var f=1;m>0;p=p*p%v,m>>=1)m&1&&(f=f*p%v);return f}function c(p,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var v=10%m,f=1;v!==1;f++)if(v=v*10%m,f>e)return 0;return f}function u(p,m,v){for(var f=1,d=h(10,v,m),D=0;D<300;D++){if(f===d)return D;f=f*10%m,d=d*10%m}return 0}function a(p,m){if(!p)return m;if(!m)return p;for(;;){if(p%=m,!p)return m;if(m%=p,!m)return p}}function s(p,m){if(l(p,m),this instanceof s)p=a(n.d,n.n),this.s=n.s,this.n=n.n/p,this.d=n.d/p;else return i(n.s*n.n,n.d)}s.DivisionByZero=new Error("Division by Zero"),s.InvalidParameter=new Error("Invalid argument"),s.NonIntegerParameter=new Error("Parameters must be integer"),s.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(p,m){return l(p,m),i(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(p,m){return l(p,m),i(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(p,m){return l(p,m),i(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(p,m){return l(p,m),i(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(p,m){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(p===void 0)return i(this.s*this.n%this.d,1);if(l(p,m),n.n===0&&this.d===0)throw s.DivisionByZero;return i(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(p,m){return l(p,m),i(a(n.n,this.n)*a(n.d,this.d),n.d*this.d)},lcm:function(p,m){return l(p,m),n.n===0&&this.n===0?i(0,1):i(n.n*this.n,a(n.n,this.n)*a(n.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(p,m){if(l(p,m),n.d===1)return n.s<0?i(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):i(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var v=o(this.n),f=o(this.d),d=1,D=1;for(var C in v)if(C!=="1"){if(C==="0"){d=0;break}if(v[C]*=n.n,v[C]%n.d===0)v[C]/=n.d;else return null;d*=Math.pow(C,v[C])}for(var C in f)if(C!=="1"){if(f[C]*=n.n,f[C]%n.d===0)f[C]/=n.d;else return null;D*=Math.pow(C,f[C])}return n.s<0?i(D,d):i(d,D)},equals:function(p,m){return l(p,m),this.s*this.n*n.d===n.s*n.n*this.d},compare:function(p,m){l(p,m);var v=this.s*this.n*n.d-n.s*n.n*this.d;return(0<v)-(v<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var m=this.abs(),v=m.toContinued(),f=1;f<v.length;f++){for(var d=i(v[f-1],1),D=f-2;D>=0;D--)d=d.inverse().add(v[D]);if(d.sub(m).abs().valueOf()<p)return d.mul(this.s)}return this},divisible:function(p,m){return l(p,m),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var m,v="",f=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=f:(p&&(m=Math.floor(f/d))>0&&(v+=m,v+=" ",f%=d),v+=f,v+="/",v+=d),v},toLatex:function(p){var m,v="",f=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=f:(p&&(m=Math.floor(f/d))>0&&(v+=m,f%=d),v+="\\frac{",v+=f,v+="}{",v+=d,v+="}"),v},toContinued:function(){var p,m=this.n,v=this.d,f=[];if(isNaN(m)||isNaN(v))return f;do f.push(Math.floor(m/v)),p=m%v,m=v,v=p;while(m!==1);return f},toString:function(p){var m=this.n,v=this.d;if(isNaN(m)||isNaN(v))return"NaN";p=p||15;var f=c(m,v),d=u(m,v,f),D=this.s<0?"-":"";if(D+=m/v|0,m%=v,m*=10,m&&(D+="."),f){for(var C=d;C--;)D+=m/v|0,m%=v,m*=10;D+="(";for(var C=f;C--;)D+=m/v|0,m%=v,m*=10;D+=")"}else for(var C=p;m&&C--;)D+=m/v|0,m%=v,m*=10;return D}},typeof define=="function"&&define.amd?define([],function(){return s}):typeof nn=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,vo.exports=s):r.Fraction=s})(nn)});var Jo=lr($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getStr=$e.setLanguage=$e.LanguageText=$e.Language=void 0;var Tt;(function(r){r[r.EN=0]="EN",r[r.DE=1]="DE"})(Tt=$e.Language||($e.Language={}));var We;(function(r){r[r.EXPECTED=0]="EXPECTED",r[r.EXPECTED_ONE_OF=1]="EXPECTED_ONE_OF",r[r.CONDITION_NOT_BOOLEAN=2]="CONDITION_NOT_BOOLEAN",r[r.UNKNOWN_SYMBOL=3]="UNKNOWN_SYMBOL",r[r.SYMBOL_IS_NOT_A_FUNCTION=4]="SYMBOL_IS_NOT_A_FUNCTION",r[r.BIN_OP_INCOMPATIBLE_TYPES=5]="BIN_OP_INCOMPATIBLE_TYPES"})(We=$e.LanguageText||($e.LanguageText={}));function Hf(r){$o=r}$e.setLanguage=Hf;function jf(r){return kn[r+"_"+$o]}$e.getStr=jf;var $o=Tt.EN,kn={};function Pr(r,e){kn[r+"_"+Tt.EN]=e}function zr(r,e){kn[r+"_"+Tt.DE]=e}Pr(We.EXPECTED,"expected");zr(We.EXPECTED,"erwarte");Pr(We.EXPECTED_ONE_OF,"expected one of");zr(We.EXPECTED_ONE_OF,"erwarte Token aus Liste");Pr(We.CONDITION_NOT_BOOLEAN,"condition must be boolean");zr(We.CONDITION_NOT_BOOLEAN,"Bedingung muss Boolsch sein");Pr(We.UNKNOWN_SYMBOL,"unknown symbol");zr(We.UNKNOWN_SYMBOL,"unbekanntes Symbol");Pr(We.SYMBOL_IS_NOT_A_FUNCTION,"symbol is not a function");zr(We.SYMBOL_IS_NOT_A_FUNCTION,"Symbol ist keine Funktion");Pr(We.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP is incompatible for types $T1 and $T2");zr(We.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP ist inkompatibel mit den Typen $T1 und $T2")});var Ko=lr(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.LexerState=void 0;var Jr=class{constructor(){this.i=0,this.n=-1,this.row=1,this.col=1,this.indent=0,this.lastIndent=0,this.stack=[]}copy(){let e=new Jr;e.i=this.i,e.n=this.n,e.row=this.row,e.col=this.col,e.indent=this.indent,e.lastIndent=this.lastIndent;for(let n=0;n<this.stack.length;n++)e.stack.push(this.stack[n].copy());return e}};bt.LexerState=Jr});var ra=lr(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.LexerToken=Ar.LexerTokenType=void 0;var ea;(function(r){r.DEL="DEL",r.TER="TER",r.INT="INT",r.BIGINT="BIGINT",r.REAL="REAL",r.HEX="HEX",r.STR="STR",r.ID="ID",r.END="END"})(ea=Ar.LexerTokenType||(Ar.LexerTokenType={}));var Kr=class{constructor(){this.token="",this.type=ea.TER,this.value=0,this.valueBigint=0n,this.fileID="",this.row=0,this.col=0}toString(){let e=this.token;e=e.replace(/\n/g,"\\n"),e=e.replace(/\t/g,"\\t");let n=this.fileID+":"+this.row+":"+this.col;return n+=': "'+e+'" ('+this.type+")",n}copy(){let e=new Kr;return e.token=this.token,e.type=this.type,e.value=this.value,e.fileID=this.fileID,e.row=this.row,e.col=this.col,e}};Ar.LexerToken=Kr});var ta=lr(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.Lexer=dr.ParseError=dr.LexerFile=void 0;var re=Jo(),Gf=Ko(),Y=ra(),Mt=class{constructor(){this.stateBackup=null,this.tokenBackup=null,this.id="",this.sourceCode=""}};dr.LexerFile=Mt;var Te=class extends Error{constructor(e){super(e),this.name="ParseError"}};dr.ParseError=Te;var Pn=class{constructor(){this.terminals=new Set,this.fileStack=[],this.token=null,this.lastToken=null,this.state=null,this.singleLineCommentStart="//",this.multiLineCommentStart="/*",this.multilineCommentEnd="*/",this.emitNewline=!1,this.emitHex=!0,this.emitInt=!0,this.emitReal=!0,this.emitBigint=!0,this.emitDoubleQuotes=!0,this.emitIndentation=!1,this.lexerFilePositionPrefix="!>",this.allowBackslashLineBreaks=!1,this.putTrailingSemicolon=[],this.multicharDelimiters=[]}configureSingleLineComments(e="//"){this.singleLineCommentStart=e}configureMultiLineComments(e="/*",n="*/"){this.multiLineCommentStart=e,this.multilineCommentEnd=n}configureLexerFilePositionPrefix(e="!>"){this.lexerFilePositionPrefix=e}enableEmitNewlines(e){this.emitNewline=e}enableEmitHex(e){this.emitHex=e}enableEmitInt(e){this.emitInt=e}enableEmitReal(e){this.emitReal=e}enableEmitBigint(e){this.emitBigint=e}enableEmitDoubleQuotes(e){this.emitDoubleQuotes=e}enableEmitIndentation(e){this.emitIndentation=e}enableBackslashLineBreaks(e){this.allowBackslashLineBreaks=e}isEND(){return this.token.type===Y.LexerTokenType.END}isNotEND(){return this.token.type!==Y.LexerTokenType.END}END(){if(this.token.type===Y.LexerTokenType.END)this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" END")}isID(){return this.token.type===Y.LexerTokenType.ID}ID(){let e="";if(this.token.type===Y.LexerTokenType.ID)e=this.token.token,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" ID");return e}isLID(){return this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase()}LID(){let e="";if(this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase())e=this.token.token,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" LowerCaseID");return e}isUID(){return this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase()}UID(){let e="";if(this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase())e=this.token.token,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" UpperCaseID");return e}isINT(){return this.token.type===Y.LexerTokenType.INT}INT(){let e=0;if(this.token.type===Y.LexerTokenType.INT)e=this.token.value,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" INT");return e}isBIGINT(){return this.token.type===Y.LexerTokenType.BIGINT}BIGINT(){let e=0n;if(this.token.type===Y.LexerTokenType.BIGINT)e=this.token.valueBigint,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" BIGINT");return e}isREAL(){return this.token.type===Y.LexerTokenType.REAL}REAL(){let e=0;if(this.token.type===Y.LexerTokenType.REAL)e=this.token.value,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" REAL");return e}isHEX(){return this.token.type===Y.LexerTokenType.HEX}HEX(){let e="";if(this.token.type===Y.LexerTokenType.HEX)e=this.token.token,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" HEX");return e}isSTR(){return this.token.type===Y.LexerTokenType.STR}STR(){let e="";if(this.token.type===Y.LexerTokenType.STR)e=this.token.token,this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" STR");return e}isTER(e){return this.token.type===Y.LexerTokenType.DEL&&this.token.token===e||this.token.type===Y.LexerTokenType.ID&&this.token.token===e}isNotTER(e){return this.isTER(e)==!1&&this.token.type!=Y.LexerTokenType.END}TER(e){if(this.token.type===Y.LexerTokenType.DEL&&this.token.token===e||this.token.type===Y.LexerTokenType.ID&&this.token.token===e)this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+' "'+e+'"')}isEOS(){return this.token.token===";"}EOS(){if(this.token.token===";")this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+' ";"')}isINDENT(){return this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	+"}isNotINDENT(){return!(this.token.type===Y.LexerTokenType.DEL&&this.token.token==="	+")}INDENT(){if(this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	+")this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" INDENT")}isOUTDENT(){return this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	-"}isNotOUTDENT(){return this.token.type===Y.LexerTokenType.END?!1:!(this.token.type===Y.LexerTokenType.DEL&&this.token.token==="	-")}OUTDENT(){if(this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	-")this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" OUTDENT")}isNEWLINE(){return this.isOUTDENT()||this.token.type==Y.LexerTokenType.DEL&&this.token.token===`
`}isNotNEWLINE(){return!this.isOUTDENT()&&!(this.token.type===Y.LexerTokenType.DEL&&this.token.token===`
`)}NEWLINE(){if(!this.isOUTDENT())if(this.token.type==Y.LexerTokenType.DEL&&this.token.token===`
`)this.next();else throw new Te(this.err_pos()+(0,re.getStr)(re.LanguageText.EXPECTED)+" NEWLINE")}error(e,n=null){throw new Te(this.err_pos(n)+e)}errorExpected(e){let n=(0,re.getStr)(re.LanguageText.EXPECTED_ONE_OF)+" ";for(let t=0;t<e.length;t++)t>0&&(n+=", "),n+=e[t];n+=".",this.error(n)}errorConditionNotBoolean(){this.error((0,re.getStr)(re.LanguageText.CONDITION_NOT_BOOLEAN))}errorUnknownSymbol(e){this.error((0,re.getStr)(re.LanguageText.UNKNOWN_SYMBOL)+" "+e)}errorNotAFunction(){this.error((0,re.getStr)(re.LanguageText.SYMBOL_IS_NOT_A_FUNCTION))}errorTypesInBinaryOperation(e,n,t){this.error((0,re.getStr)(re.LanguageText.BIN_OP_INCOMPATIBLE_TYPES).replace("$OP",e).replace("$T1",n).replace("$T2",t))}err_pos(e=null){return e==null&&(e=this.token),e.fileID+":"+e.row+":"+e.col+": "}addPutTrailingSemicolon(e,n=""){let t=new Y.LexerToken;t.type=e,t.token=n,this.putTrailingSemicolon.push(t)}setTerminals(e){this.terminals.clear(),this.multicharDelimiters=[];for(let n of e)n.length!=0&&(n[0]>="A"&&n[0]<="Z"||n[0]>="a"&&n[0]<="z"||n[0]=="_"?this.terminals.add(n):this.multicharDelimiters.push(n));this.multicharDelimiters.sort(function(n,t){return t.length-n.length})}getTerminals(){return Array.from(this.terminals)}getMulticharDelimiters(){return this.multicharDelimiters}getToken(){return this.token}next(){this.lastToken=this.token;let e=this.fileStack.slice(-1)[0].sourceCode,n=this.fileStack.slice(-1)[0].id,t=this.state;if(t.stack.length>0){this.token=t.stack[0],t.stack.shift();return}this.token=new Y.LexerToken,this.token.fileID=n,t.indent=-1;let i=!1;for(;;)if(t.i<t.n&&e[t.i]===`
`)t.indent=0,i=this.nextTokenLinefeed(t);else if(t.i<t.n&&e[t.i]===" ")t.i++,t.col++,t.indent>=0&&t.indent++;else if(t.i<t.n&&e[t.i]==="	")t.i++,t.col+=4,t.indent>=0&&(t.indent+=4);else if(this.allowBackslashLineBreaks&&t.i<t.n&&e[t.i]==="\\")for(t.i++;t.i<t.n;){if(e[t.i]==" ")t.col++;else if(e[t.i]=="	")t.col+=4;else if(e[t.i]==`
`)t.row++,t.col=1;else break;t.i++}else if(this.singleLineCommentStart.length>0&&this.isNext(this.singleLineCommentStart)){if(this.emitIndentation&&t.indent>=0)break;let l=this.singleLineCommentStart.length;for(t.i+=l,t.col+=l;t.i<t.n&&e[t.i]!=`
`;)t.i++,t.col++;t.i<t.n&&e[t.i]===`
`&&(i=this.nextTokenLinefeed(t)),t.indent=0}else if(this.multiLineCommentStart.length>0&&this.isNext(this.multiLineCommentStart)){if(this.emitIndentation&&t.indent>=0)break;let l=this.multiLineCommentStart.length;for(t.i+=l,t.col+=l;t.i<t.n&&!this.isNext(this.multilineCommentEnd);)e[t.i]===`
`?(t.row++,t.col=1,t.indent=0):t.col++,t.i++;l=this.multilineCommentEnd.length,t.i+=l,t.col+=l}else if(this.lexerFilePositionPrefix.length>0&&e.substring(t.i).startsWith(this.lexerFilePositionPrefix)){t.i+=this.lexerFilePositionPrefix.length;let l="";for(;t.i<t.n&&e[t.i]!==":";)l+=e[t.i],t.i++;t.i++,this.fileStack.slice(-1)[0].id=l,this.token.fileID=l;let h="";for(;t.i<t.n&&e[t.i]!==":";)h+=e[t.i],t.i++;t.i++,this.token.row=parseInt(h);let c="";for(;t.i<t.n&&e[t.i]!==":";)c+=e[t.i],t.i++;t.i++,this.token.col=parseInt(c)}else break;if(this.emitIndentation&&t.indent>=0){let l=t.indent-t.lastIndent;if(t.lastIndent=t.indent,l!=0)if(l%4==0){let h=l>0,c=Math.floor(Math.abs(l)/4);for(let u=0;u<c;u++)this.token=new Y.LexerToken,this.token.fileID=n,this.token.row=t.row,h?this.token.col=t.col-l+4*u:this.token.col=t.col,this.token.type=Y.LexerTokenType.DEL,this.token.token=h?"	+":"	-",t.stack.push(this.token);this.token=t.stack[0],t.stack.shift();return}else{this.token.row=t.row,this.token.col=t.col-l,this.token.type=Y.LexerTokenType.TER,this.token.token="	err";return}}if(i)return;let o=t.copy();if(this.token.row=t.row,this.token.col=t.col,t.indent=0,t.i>=t.n){this.token.token="$end",this.token.type=Y.LexerTokenType.END;return}if(this.token.type=Y.LexerTokenType.ID,this.token.token="",t.i<t.n&&(e[t.i]>="A"&&e[t.i]<="Z"||e[t.i]>="a"&&e[t.i]<="z"||e[t.i]==="_"))for(this.token.token+=e[t.i],t.i++,t.col++;t.i<t.n&&(e[t.i]>="A"&&e[t.i]<="Z"||e[t.i]>="a"&&e[t.i]<="z"||e[t.i]>="0"&&e[t.i]<="9"||e[t.i]==="_");)this.token.token+=e[t.i],t.i++,t.col++;if(this.token.token.length>0){this.terminals.has(this.token.token)&&(this.token.type=Y.LexerTokenType.TER),this.state=t;return}if(t=o.copy(),this.emitDoubleQuotes&&(this.token.type=Y.LexerTokenType.STR,t.i<t.n&&e[t.i]==='"')){for(this.token.token="",t.i++,t.col++;t.i<t.n&&e[t.i]!='"'&&e[t.i]!=`
`;)this.token.token+=e[t.i],t.i++,t.col++;if(t.i<t.n&&e[t.i]==='"'){t.i++,t.col++,this.state=t;return}}if(t=o.copy(),this.emitHex&&(this.token.type=Y.LexerTokenType.HEX,this.token.token="",t.i<t.n&&e[t.i]==="0"&&(t.i++,t.col++,t.i<t.n&&e[t.i]==="x"))){t.i++,t.col++;let l=0;for(;t.i<t.n&&(e[t.i]>="0"&&e[t.i]<="9"||e[t.i]>="A"&&e[t.i]<="F"||e[t.i]>="a"&&e[t.i]<="f");)this.token.token+=e[t.i],t.i++,t.col++,l++;if(l>0){this.token.token="0x"+this.token.token,this.token.value=parseInt(this.token.token,16),this.token.valueBigint=BigInt(this.token.token),this.state=t;return}}if(t=o.copy(),this.emitInt){if(this.token.type=Y.LexerTokenType.INT,this.token.token="",t.i<t.n&&e[t.i]==="0")this.token.token="0",t.i++,t.col++;else if(t.i<t.n&&e[t.i]>="1"&&e[t.i]<="9")for(this.token.token=e[t.i],t.i++,t.col++;t.i<t.n&&e[t.i]>="0"&&e[t.i]<="9";)this.token.token+=e[t.i],t.i++,t.col++;if(this.token.token.length>0&&this.emitBigint&&t.i<t.n&&e[t.i]==="n")t.i++,t.col++,this.token.type=Y.LexerTokenType.BIGINT;else if(this.token.token.length>0&&this.emitReal&&t.i<t.n&&e[t.i]===".")for(this.token.type=Y.LexerTokenType.REAL,this.token.token+=".",t.i++,t.col++;t.i<t.n&&e[t.i]>="0"&&e[t.i]<="9";)this.token.token+=e[t.i],t.i++,t.col++;if(this.token.token.length>0){this.token.type===Y.LexerTokenType.INT?this.token.value=parseInt(this.token.token):this.token.type===Y.LexerTokenType.BIGINT?this.token.valueBigint=BigInt(this.token.token):this.token.value=parseFloat(this.token.token),this.state=t;return}}this.token.type=Y.LexerTokenType.DEL,this.token.token="";for(let l=0;l<this.multicharDelimiters.length;l++){let h=this.multicharDelimiters[l],c=!0;t=o.copy();for(let u=0;u<h.length;u++){let a=h[u];if(t.i<t.n&&e[t.i]===a)t.i++,t.col++;else{c=!1;break}}if(c){this.state=t,this.token.token=h;return}}t=o.copy(),this.token.type=Y.LexerTokenType.DEL,this.token.token="",t.i<t.n&&(this.token.token=e[t.i],t.i++,t.col++,this.state=t)}nextTokenLinefeed(e){let n=!1;if(this.emitNewline)this.token.row=e.row,this.token.col=e.col,this.token.token=`
`,this.token.type=Y.LexerTokenType.DEL;else if(this.putTrailingSemicolon.length>0){let t=!1;for(let i of this.putTrailingSemicolon)if(i.type===this.lastToken.type&&(i.type===Y.LexerTokenType.DEL?t=i.token===this.lastToken.token:t=!0,t))break;t&&(n=!0,this.token.row=e.row,this.token.col=e.col,this.token.token=";",this.token.type=Y.LexerTokenType.DEL)}return e.row++,e.col=1,e.indent=0,e.i++,this.emitNewline||n}isNext(e){let n=this.fileStack.slice(-1)[0].sourceCode,t=this.state,i=e.length;if(t.i+i>=t.n)return!1;for(let o=0;o<i;o++){let l=e[o];if(n[t.i+o]!=l)return!1}return!0}pushSource(e,n){this.fileStack.length>0&&(this.fileStack.slice(-1)[0].stateBackup=this.state.copy(),this.fileStack.slice(-1)[0].tokenBackup=this.token.copy());let t=new Mt;t.id=e,t.sourceCode=n,this.fileStack.push(t),this.state=new Gf.LexerState,this.state.n=n.length,this.next()}popSource(){this.fileStack.pop(),this.fileStack.length>0&&(this.state=this.fileStack.slice(-1)[0].stateBackup,this.token=this.fileStack.slice(-1)[0].tokenBackup)}backupState(){return{state:this.state.copy(),token:this.token.copy()}}replayState(e){this.state=e.state,this.token=e.token}};dr.Lexer=Pn});var zn=lr(Cr=>{"use strict";var Wf=Cr&&Cr.__createBinding||(Object.create?function(r,e,n,t){t===void 0&&(t=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,t,i)}:function(r,e,n,t){t===void 0&&(t=n),r[t]=e[n]}),Yf=Cr&&Cr.__exportStar||function(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Wf(e,r,n)};Object.defineProperty(Cr,"__esModule",{value:!0});Yf(ta(),Cr)});var Jf={};ja(Jf,{code:()=>Bt,interpret:()=>$f});function Hr(){return Hr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Hr.apply(this,arguments)}var It={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function ue(r){return typeof r=="number"}function Fe(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Ot(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Lt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function ot(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Ve(r){return typeof r=="string"}var le=Array.isArray;function ge(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function yr(r){return Array.isArray(r)||ge(r)}function $n(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Jn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Kn(r){return r&&r.constructor.prototype.isRange===!0||!1}function br(r){return r&&r.constructor.prototype.isIndex===!0||!1}function ei(r){return typeof r=="boolean"}function ri(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function ti(r){return r&&r.constructor.prototype.isHelp===!0||!1}function ni(r){return typeof r=="function"}function ii(r){return r instanceof Date}function oi(r){return r instanceof RegExp}function ai(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Ot(r)&&!Lt(r))}function ui(r){return r===null}function si(r){return r===void 0}function fi(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function ci(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function li(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function pi(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function hi(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function mi(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function vi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function di(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Di(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function gi(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function xi(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ei(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function yi(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function wi(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ai(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ci(r){return r&&r.constructor.prototype.isChain===!0||!1}function nr(r){var e=typeof r;return e==="object"?r===null?"null":Fe(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function pe(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return pe(n)});if(r instanceof Date)return new Date(r.valueOf());if(Fe(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Wa(r,pe)}function Wa(r,e){var n={};for(var t in r)Sr(r,t)&&(n[t]=e(r[t]));return n}function Fi(r,e){for(var n in e)Sr(e,n)&&(r[n]=e[n]);return r}function Mr(r,e){var n,t,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(t=0,i=r.length;t<i;t++)if(!Mr(r[t],e[t]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!Mr(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function Sr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Ni(r,e){for(var n={},t=0;t<e.length;t++){var i=e[t],o=r[i];o!==void 0&&(n[i]=o)}return n}var Ti=["Matrix","Array"],bi=["number","BigNumber","Fraction"];var _r=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(It)};Hr(_r,It,{MATRIX_OPTIONS:Ti,NUMBER_OPTIONS:bi});var Ht=Vr(Mi(),1);function oe(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var Si=Math.sign||function(r){return r>0?1:r<0?-1:0},_i=Math.log2||function(e){return Math.log(e)/Math.LN2},Bi=Math.log10||function(e){return Math.log(e)/Math.LN10},Ii=Math.log1p||function(r){return Math.log(r+1)},Oi=Math.cbrt||function(e){if(e===0)return e;var n=e<0,t;return n&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,n?-t:t},Li=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Pt(r,e,n){var t={2:"0b",8:"0o",16:"0x"},i=t[e],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!oe(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!oe(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),o="i".concat(n)}var l="";return r<0&&(r=-r,l="-"),"".concat(l).concat(i).concat(r.toString(e)).concat(o)}function jr(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var n="auto",t,i;if(e&&(e.notation&&(n=e.notation),ue(e)?t=e:ue(e.precision)&&(t=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ri(r,t);case"exponential":return ki(r,t);case"engineering":return Ya(r,t);case"bin":return Pt(r,2,i);case"oct":return Pt(r,8,i);case"hex":return Pt(r,16,i);case"auto":return Qa(r,t,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],l=arguments[4];return o!=="."?o+l:l});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function at(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],t=e[2],i=parseFloat(e[4]||"0"),o=t.indexOf(".");i+=o!==-1?o-1:t.length-1;var l=t.replace(".","").replace(/^0*/,function(h){return i-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return l.length===0&&(l.push(0),i++),{sign:n,coefficients:l,exponent:i}}function Ya(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=at(r),t=ut(n,e),i=t.exponent,o=t.coefficients,l=i%3===0?i:i<0?i-3-i%3:i-i%3;if(ue(e))for(;e>o.length||i-l+1>o.length;)o.push(0);else for(var h=Math.abs(i-l)-(o.length-1),c=0;c<h;c++)o.push(0);for(var u=Math.abs(i-l),a=1;u>0;)a++,u--;var s=o.slice(a).join(""),p=ue(e)&&s.length||s.match(/[1-9]/)?"."+s:"",m=o.slice(0,a).join("")+p+"e"+(i>=0?"+":"")+l.toString();return t.sign+m}function Ri(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=at(r),t=typeof e=="number"?ut(n,n.exponent+1+e):n,i=t.coefficients,o=t.exponent+1,l=o+(e||0);return i.length<l&&(i=i.concat(Br(l-i.length))),o<0&&(i=Br(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),t.sign+i.join("")}function ki(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=at(r),t=e?ut(n,e):n,i=t.coefficients,o=t.exponent;i.length<e&&(i=i.concat(Br(e-i.length)));var l=i.shift();return t.sign+l+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Qa(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var t=n&&n.lowerExp!==void 0?n.lowerExp:-3,i=n&&n.upperExp!==void 0?n.upperExp:5,o=at(r),l=e?ut(o,e):o;if(l.exponent<t||l.exponent>=i)return ki(r,e);var h=l.coefficients,c=l.exponent;h.length<e&&(h=h.concat(Br(e-h.length))),h=h.concat(Br(c-h.length+1+(h.length<e?e-h.length:0))),h=Br(-c).concat(h);var u=c>0?c:0;return u<h.length-1&&h.splice(u+1,0,"."),l.sign+h.join("")}function ut(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},t=n.coefficients;e<=0;)t.unshift(0),n.exponent++,e++;if(t.length>e){var i=t.splice(e,t.length-e);if(i[0]>=5){var o=e-1;for(t[o]++;t[o]===10;)t.pop(),o===0&&(t.unshift(0),n.exponent++,o++),o--,t[o]++}}return n}function Br(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Pi(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var $a=Number.EPSILON||2220446049250313e-31;function Ir(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var t=Math.abs(r-e);return t<$a?!0:t<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function zt(r,e,n){var t=r.constructor,i=new t(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!oe(n))throw new Error("size must be an integer");if(r.greaterThan(i.pow(n-1).sub(1))||r.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(n))),o="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function qi(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var n="auto",t,i;if(e!==void 0&&(e.notation&&(n=e.notation),typeof e=="number"?t=e:e.precision&&(t=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ka(r,t);case"exponential":return zi(r,t);case"engineering":return Ja(r,t);case"bin":return zt(r,2,i);case"oct":return zt(r,8,i);case"hex":return zt(r,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,l=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var h,c=r.toSignificantDigits(t),u=c.e;return u>=o&&u<l?h=c.toFixed():h=zi(r,t),h.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ja(r,e){var n=r.e,t=n%3===0?n:n<0?n-3-n%3:n-n%3,i=r.mul(Math.pow(10,-t)),o=i.toPrecision(e);return o.indexOf("e")!==-1&&(o=i.toString()),o+"e"+(n>=0?"+":"")+t.toString()}function zi(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Ka(r,e){return r.toFixed(e)}function xe(r,e){var n=eu(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function eu(r,e){if(typeof r=="number")return jr(r,e);if(Fe(r))return qi(r,e);if(ru(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Ui(r,e);if(Ve(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(t=>'"'+t+'": '+xe(r[t],e));return"{"+n.join(", ")+"}"}return String(r)}function Ui(r,e){if(Array.isArray(r)){for(var n="[",t=r.length,i=0;i<t;i++)i!==0&&(n+=", "),n+=Ui(r[i],e);return n+="]",n}else return xe(r,e)}function ru(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function te(r,e,n){if(!(this instanceof te))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}te.prototype=new RangeError;te.prototype.constructor=RangeError;te.prototype.name="DimensionError";te.prototype.isDimensionError=!0;function wr(r,e,n){if(!(this instanceof wr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}wr.prototype=new RangeError;wr.prototype.constructor=RangeError;wr.prototype.name="IndexError";wr.prototype.isIndexError=!0;function er(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Xi(r,e,n){var t,i=r.length;if(i!==e[n])throw new te(i,e[n]);if(n<e.length-1){var o=n+1;for(t=0;t<i;t++){var l=r[t];if(!Array.isArray(l))throw new te(e.length-1,e.length,"<");Xi(r[t],e,o)}}else for(t=0;t<i;t++)if(Array.isArray(r[t]))throw new te(e.length+1,e.length,">")}function Ut(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new te(r.length,0)}else Xi(r,e,0)}function he(r,e){if(!ue(r)||!oe(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new wr(r,e)}function Gr(r,e,n){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!ue(i)||!oe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(e)+")")});var t=n!==void 0?n:0;return qt(r,e,0,t),r}function qt(r,e,n,t){var i,o,l=r.length,h=e[n],c=Math.min(l,h);if(r.length=h,n<e.length-1){var u=n+1;for(i=0;i<c;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),qt(o,e,u,t);for(i=c;i<h;i++)o=[],r[i]=o,qt(o,e,u,t)}else{for(i=0;i<c;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=c;i<h;i++)r[i]=t}}function Zi(r,e){var n=nu(r),t=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new te(0,t,"!=");e=Wr(e,t);var i=Vi(e);if(t!==i)throw new te(i,t,"!=");try{return tu(n,e)}catch(o){throw o instanceof te?new te(i,t,"!="):o}}function Wr(r,e){var n=Vi(r),t=r.slice(),i=-1,o=r.indexOf(i),l=r.indexOf(i,o+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var h=o>=0,c=e%n===0;if(h)if(c)t[o]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return t}function Vi(r){return r.reduce((e,n)=>e*n,1)}function tu(r,e){for(var n=r,t,i=e.length-1;i>0;i--){var o=e[i];t=[];for(var l=n.length/o,h=0;h<l;h++)t.push(n.slice(h*o,(h+1)*o));n=t}return n}function st(r,e,n,t){var i=t||er(r);if(n)for(var o=0;o<n;o++)r=[r],i.unshift(1);for(r=Hi(r,e,0);i.length<e;)i.push(1);return r}function Hi(r,e,n){var t,i;if(Array.isArray(r)){var o=n+1;for(t=0,i=r.length;t<i;t++)r[t]=Hi(r[t],e,o)}else for(var l=n;l<e;l++)r=[r];return r}function nu(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(t){Array.isArray(t)?t.forEach(n):e.push(t)}),e}function Or(r,e){for(var n,t=0,i=0;i<r.length;i++){var o=r[i],l=Array.isArray(o);if(i===0&&l&&(t=o.length),l&&o.length!==t)return;var h=l?Or(o,e):e(o);if(n===void 0)n=h;else if(n!==h)return"mixed"}return n}function X(r,e,n,t){function i(o){var l=Ni(o,e.map(au));return iu(r,e,o),n(l)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),t&&(i.meta=t),i}function iu(r,e,n){var t=e.filter(o=>!ou(o)).every(o=>n[o]!==void 0);if(!t){var i=e.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function ou(r){return r&&r[0]==="?"}function au(r){return r&&r[0]==="?"?r.slice(1):r}function ji(r,e){if(Qi(r)&&Yi(r,e))return r[e];throw typeof r[e]=="function"&&uu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Gi(r,e,n){if(Qi(r)&&Yi(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Wi(r,e){return e in r}function Yi(r,e){return!r||typeof r!="object"?!1:Sr(su,e)?!0:!(e in Object.prototype||e in Function.prototype)}function uu(r,e){return r==null||typeof r[e]!="function"||Sr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Sr(fu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Qi(r){return typeof r=="object"&&r&&r.constructor===Object}var su={length:!0,name:!0},fu={toString:!0,valueOf:!0,toLocaleString:!0};var Xt=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return ji(this.wrappedObject,e)}set(e,n){return Gi(this.wrappedObject,e,n),this}has(e){return Wi(this.wrappedObject,e)}};function $i(r){return r?r instanceof Map||r instanceof Xt||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ji=function(){return Ji=Ht.default.create,Ht.default},cu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],jt=X("typed",cu,function(e){var{BigNumber:n,Complex:t,DenseMatrix:i,Fraction:o}=e,l=Ji();return l.clear(),l.addTypes([{name:"number",test:ue},{name:"Complex",test:Ot},{name:"BigNumber",test:Fe},{name:"Fraction",test:Lt},{name:"Unit",test:ot},{name:"identifier",test:h=>Ve&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(h)},{name:"string",test:Ve},{name:"Chain",test:Ci},{name:"Array",test:le},{name:"Matrix",test:ge},{name:"DenseMatrix",test:$n},{name:"SparseMatrix",test:Jn},{name:"Range",test:Kn},{name:"Index",test:br},{name:"boolean",test:ei},{name:"ResultSet",test:ri},{name:"Help",test:ti},{name:"function",test:ni},{name:"Date",test:ii},{name:"RegExp",test:oi},{name:"null",test:ui},{name:"undefined",test:si},{name:"AccessorNode",test:fi},{name:"ArrayNode",test:ci},{name:"AssignmentNode",test:li},{name:"BlockNode",test:pi},{name:"ConditionalNode",test:hi},{name:"ConstantNode",test:mi},{name:"FunctionNode",test:di},{name:"FunctionAssignmentNode",test:vi},{name:"IndexNode",test:Di},{name:"Node",test:gi},{name:"ObjectNode",test:xi},{name:"OperatorNode",test:Ei},{name:"ParenthesisNode",test:yi},{name:"RangeNode",test:wi},{name:"SymbolNode",test:Ai},{name:"Map",test:$i},{name:"Object",test:ai}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(n||Zt(c),Pi(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new n(c)}},{from:"number",to:"Complex",convert:function(c){return t||ft(c),new t(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return t||ft(c),new t(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return t||ft(c),new t(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||Vt(c);var u=new o(c);if(u.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(c){var u=Number(c);if(isNaN(u))throw new Error('Cannot convert "'+c+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(c){n||Zt(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){o||Vt(c);try{return new o(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){t||ft(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return n||Zt(c),new n(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||Vt(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||lu(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),l.onMismatch=(h,c,u)=>{var a=l.createError(h,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&yr(c[0])&&u.some(p=>!p.params.includes(","))){var s=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw s.data=a.data,s}throw a},l.onMismatch=(h,c,u)=>{var a=l.createError(h,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&yr(c[0])&&u.some(p=>!p.params.includes(","))){var s=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw s.data=a.data,s}throw a},l});function Zt(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function ft(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function lu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Vt(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Lr=9e15,vr=1e9,Gt="0123456789abcdef",lt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",pt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Wt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Lr,maxE:Lr,crypto:!1},to,ur,K=!0,mt="[DecimalError] ",mr=mt+"Invalid argument: ",no=mt+"Precision limit exceeded",io=mt+"crypto unavailable",oo="[object Decimal]",Le=Math.floor,Ae=Math.pow,pu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,hu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,mu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ao=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr=1e7,$=7,vu=9007199254740991,du=lt.length-1,Yt=pt.length-1,B={toStringTag:oo};B.absoluteValue=B.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),W(r)};B.ceil=function(){return W(new this.constructor(this),this.e+1,2)};B.clampedTo=B.clamp=function(r,e){var n,t=this,i=t.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(mr+e);return n=t.cmp(r),n<0?r:t.cmp(e)>0?e:new i(t)};B.comparedTo=B.cmp=function(r){var e,n,t,i,o=this,l=o.d,h=(r=new o.constructor(r)).d,c=o.s,u=r.s;if(!l||!h)return!c||!u?NaN:c!==u?c:l===h?0:!l^c<0?1:-1;if(!l[0]||!h[0])return l[0]?c:h[0]?-u:0;if(c!==u)return c;if(o.e!==r.e)return o.e>r.e^c<0?1:-1;for(t=l.length,i=h.length,e=0,n=t<i?t:i;e<n;++e)if(l[e]!==h[e])return l[e]>h[e]^c<0?1:-1;return t===i?0:t>i^c<0?1:-1};B.cosine=B.cos=function(){var r,e,n=this,t=n.constructor;return n.d?n.d[0]?(r=t.precision,e=t.rounding,t.precision=r+Math.max(n.e,n.sd())+$,t.rounding=1,n=Du(t,lo(t,n)),t.precision=r,t.rounding=e,W(ur==2||ur==3?n.neg():n,r,e,!0)):new t(1):new t(NaN)};B.cubeRoot=B.cbrt=function(){var r,e,n,t,i,o,l,h,c,u,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);for(K=!1,o=a.s*Ae(a.s*a,1/3),!o||Math.abs(o)==1/0?(n=Ie(a.d),r=a.e,(o=(r-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=Ae(n,1/3),r=Le((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?n="5e"+r:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),t=new s(n),t.s=a.s):t=new s(o.toString()),l=(r=s.precision)+3;;)if(h=t,c=h.times(h).times(h),u=c.plus(a),t=fe(u.plus(a).times(h),u.plus(c),l+2,1),Ie(h.d).slice(0,l)===(n=Ie(t.d)).slice(0,l))if(n=n.slice(l-3,l+1),n=="9999"||!i&&n=="4999"){if(!i&&(W(h,r+1,0),h.times(h).times(h).eq(a))){t=h;break}l+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(W(t,r+1,1),e=!t.times(t).times(t).eq(a));break}return K=!0,W(t,r,s.rounding,e)};B.decimalPlaces=B.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-Le(this.e/$))*$,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};B.dividedBy=B.div=function(r){return fe(this,new this.constructor(r))};B.dividedToIntegerBy=B.divToInt=function(r){var e=this,n=e.constructor;return W(fe(e,new n(r),0,1,1),n.precision,n.rounding)};B.equals=B.eq=function(r){return this.cmp(r)===0};B.floor=function(){return W(new this.constructor(this),this.e+1,3)};B.greaterThan=B.gt=function(r){return this.cmp(r)>0};B.greaterThanOrEqualTo=B.gte=function(r){var e=this.cmp(r);return e==1||e===0};B.hyperbolicCosine=B.cosh=function(){var r,e,n,t,i,o=this,l=o.constructor,h=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return h;n=l.precision,t=l.rounding,l.precision=n+Math.max(o.e,o.sd())+4,l.rounding=1,i=o.d.length,i<32?(r=Math.ceil(i/3),e=(1/dt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=Rr(l,1,o.times(e),new l(1),!0);for(var c,u=r,a=new l(8);u--;)c=o.times(o),o=h.minus(c.times(a.minus(c.times(a))));return W(o,l.precision=n,l.rounding=t,!0)};B.hyperbolicSine=B.sinh=function(){var r,e,n,t,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,t=i.d.length,t<3)i=Rr(o,2,i,i,!0);else{r=1.4*Math.sqrt(t),r=r>16?16:r|0,i=i.times(1/dt(5,r)),i=Rr(o,2,i,i,!0);for(var l,h=new o(5),c=new o(16),u=new o(20);r--;)l=i.times(i),i=i.times(h.plus(l.times(c.times(l).plus(u))))}return o.precision=e,o.rounding=n,W(i,e,n,!0)};B.hyperbolicTangent=B.tanh=function(){var r,e,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(r=t.precision,e=t.rounding,t.precision=r+7,t.rounding=1,fe(n.sinh(),n.cosh(),t.precision=r,t.rounding=e)):new t(n.s)};B.inverseCosine=B.acos=function(){var r,e=this,n=e.constructor,t=e.abs().cmp(1),i=n.precision,o=n.rounding;return t!==-1?t===0?e.isNeg()?rr(n,i,o):new n(0):new n(NaN):e.isZero()?rr(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),r=rr(n,i+4,o).times(.5),n.precision=i,n.rounding=o,r.minus(e))};B.inverseHyperbolicCosine=B.acosh=function(){var r,e,n=this,t=n.constructor;return n.lte(1)?new t(n.eq(1)?0:NaN):n.isFinite()?(r=t.precision,e=t.rounding,t.precision=r+Math.max(Math.abs(n.e),n.sd())+4,t.rounding=1,K=!1,n=n.times(n).minus(1).sqrt().plus(n),K=!0,t.precision=r,t.rounding=e,n.ln()):new t(n)};B.inverseHyperbolicSine=B.asinh=function(){var r,e,n=this,t=n.constructor;return!n.isFinite()||n.isZero()?new t(n):(r=t.precision,e=t.rounding,t.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,t.rounding=1,K=!1,n=n.times(n).plus(1).sqrt().plus(n),K=!0,t.precision=r,t.rounding=e,n.ln())};B.inverseHyperbolicTangent=B.atanh=function(){var r,e,n,t,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,e=o.rounding,t=i.sd(),Math.max(t,r)<2*-i.e-1?W(new o(i),r,e,!0):(o.precision=n=t-i.e,i=fe(i.plus(1),new o(1).minus(i),n+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=e,i.times(.5))):new o(NaN)};B.inverseSine=B.asin=function(){var r,e,n,t,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,t=o.rounding,e!==-1?e===0?(r=rr(o,n+4,t).times(.5),r.s=i.s,r):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=t,i.times(2)))};B.inverseTangent=B.atan=function(){var r,e,n,t,i,o,l,h,c,u=this,a=u.constructor,s=a.precision,p=a.rounding;if(u.isFinite()){if(u.isZero())return new a(u);if(u.abs().eq(1)&&s+4<=Yt)return l=rr(a,s+4,p).times(.25),l.s=u.s,l}else{if(!u.s)return new a(NaN);if(s+4<=Yt)return l=rr(a,s+4,p).times(.5),l.s=u.s,l}for(a.precision=h=s+10,a.rounding=1,n=Math.min(28,h/$+2|0),r=n;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(K=!1,e=Math.ceil(h/$),t=1,c=u.times(u),l=new a(u),i=u;r!==-1;)if(i=i.times(c),o=l.minus(i.div(t+=2)),i=i.times(c),l=o.plus(i.div(t+=2)),l.d[e]!==void 0)for(r=e;l.d[r]===o.d[r]&&r--;);return n&&(l=l.times(2<<n-1)),K=!0,W(l,a.precision=s,a.rounding=p,!0)};B.isFinite=function(){return!!this.d};B.isInteger=B.isInt=function(){return!!this.d&&Le(this.e/$)>this.d.length-2};B.isNaN=function(){return!this.s};B.isNegative=B.isNeg=function(){return this.s<0};B.isPositive=B.isPos=function(){return this.s>0};B.isZero=function(){return!!this.d&&this.d[0]===0};B.lessThan=B.lt=function(r){return this.cmp(r)<0};B.lessThanOrEqualTo=B.lte=function(r){return this.cmp(r)<1};B.logarithm=B.log=function(r){var e,n,t,i,o,l,h,c,u=this,a=u.constructor,s=a.precision,p=a.rounding,m=5;if(r==null)r=new a(10),e=!0;else{if(r=new a(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new a(NaN);e=r.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new a(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(K=!1,h=s+m,l=hr(u,h),t=e?ht(a,h+10):hr(r,h),c=fe(l,t,h,1),Yr(c.d,i=s,p))do if(h+=10,l=hr(u,h),t=e?ht(a,h+10):hr(r,h),c=fe(l,t,h,1),!o){+Ie(c.d).slice(i+1,i+15)+1==1e14&&(c=W(c,s+1,0));break}while(Yr(c.d,i+=10,p));return K=!0,W(c,s,p)};B.minus=B.sub=function(r){var e,n,t,i,o,l,h,c,u,a,s,p,m=this,v=m.constructor;if(r=new v(r),!m.d||!r.d)return!m.s||!r.s?r=new v(NaN):m.d?r.s=-r.s:r=new v(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(u=m.d,p=r.d,h=v.precision,c=v.rounding,!u[0]||!p[0]){if(p[0])r.s=-r.s;else if(u[0])r=new v(m);else return new v(c===3?-0:0);return K?W(r,h,c):r}if(n=Le(r.e/$),a=Le(m.e/$),u=u.slice(),o=a-n,o){for(s=o<0,s?(e=u,o=-o,l=p.length):(e=p,n=a,l=u.length),t=Math.max(Math.ceil(h/$),l)+2,o>t&&(o=t,e.length=1),e.reverse(),t=o;t--;)e.push(0);e.reverse()}else{for(t=u.length,l=p.length,s=t<l,s&&(l=t),t=0;t<l;t++)if(u[t]!=p[t]){s=u[t]<p[t];break}o=0}for(s&&(e=u,u=p,p=e,r.s=-r.s),l=u.length,t=p.length-l;t>0;--t)u[l++]=0;for(t=p.length;t>o;){if(u[--t]<p[t]){for(i=t;i&&u[--i]===0;)u[i]=tr-1;--u[i],u[t]+=tr}u[t]-=p[t]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(r.d=u,r.e=vt(u,n),K?W(r,h,c):r):new v(c===3?-0:0)};B.modulo=B.mod=function(r){var e,n=this,t=n.constructor;return r=new t(r),!n.d||!r.s||r.d&&!r.d[0]?new t(NaN):!r.d||n.d&&!n.d[0]?W(new t(n),t.precision,t.rounding):(K=!1,t.modulo==9?(e=fe(n,r.abs(),0,3,1),e.s*=r.s):e=fe(n,r,0,t.modulo,1),e=e.times(r),K=!0,n.minus(e))};B.naturalExponential=B.exp=function(){return Qt(this)};B.naturalLogarithm=B.ln=function(){return hr(this)};B.negated=B.neg=function(){var r=new this.constructor(this);return r.s=-r.s,W(r)};B.plus=B.add=function(r){var e,n,t,i,o,l,h,c,u,a,s=this,p=s.constructor;if(r=new p(r),!s.d||!r.d)return!s.s||!r.s?r=new p(NaN):s.d||(r=new p(r.d||s.s===r.s?s:NaN)),r;if(s.s!=r.s)return r.s=-r.s,s.minus(r);if(u=s.d,a=r.d,h=p.precision,c=p.rounding,!u[0]||!a[0])return a[0]||(r=new p(s)),K?W(r,h,c):r;if(o=Le(s.e/$),t=Le(r.e/$),u=u.slice(),i=o-t,i){for(i<0?(n=u,i=-i,l=a.length):(n=a,t=o,l=u.length),o=Math.ceil(h/$),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=a.length,l-i<0&&(i=l,n=a,a=u,u=n),e=0;i;)e=(u[--i]=u[i]+a[i]+e)/tr|0,u[i]%=tr;for(e&&(u.unshift(e),++t),l=u.length;u[--l]==0;)u.pop();return r.d=u,r.e=vt(u,t),K?W(r,h,c):r};B.precision=B.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(mr+r);return n.d?(e=uo(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};B.round=function(){var r=this,e=r.constructor;return W(new e(r),r.e+1,e.rounding)};B.sine=B.sin=function(){var r,e,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(r=t.precision,e=t.rounding,t.precision=r+Math.max(n.e,n.sd())+$,t.rounding=1,n=xu(t,lo(t,n)),t.precision=r,t.rounding=e,W(ur>2?n.neg():n,r,e,!0)):new t(NaN)};B.squareRoot=B.sqrt=function(){var r,e,n,t,i,o,l=this,h=l.d,c=l.e,u=l.s,a=l.constructor;if(u!==1||!h||!h[0])return new a(!u||u<0&&(!h||h[0])?NaN:h?l:1/0);for(K=!1,u=Math.sqrt(+l),u==0||u==1/0?(e=Ie(h),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=Le((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),t=new a(e)):t=new a(u.toString()),n=(c=a.precision)+3;;)if(o=t,t=o.plus(fe(l,o,n+2,1)).times(.5),Ie(o.d).slice(0,n)===(e=Ie(t.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(W(o,c+1,0),o.times(o).eq(l))){t=o;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(W(t,c+1,1),r=!t.times(t).eq(l));break}return K=!0,W(t,c,a.rounding,r)};B.tangent=B.tan=function(){var r,e,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(r=t.precision,e=t.rounding,t.precision=r+10,t.rounding=1,n=n.sin(),n.s=1,n=fe(n,new t(1).minus(n.times(n)).sqrt(),r+10,0),t.precision=r,t.rounding=e,W(ur==2||ur==4?n.neg():n,r,e,!0)):new t(NaN)};B.times=B.mul=function(r){var e,n,t,i,o,l,h,c,u,a=this,s=a.constructor,p=a.d,m=(r=new s(r)).d;if(r.s*=a.s,!p||!p[0]||!m||!m[0])return new s(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(n=Le(a.e/$)+Le(r.e/$),c=p.length,u=m.length,c<u&&(o=p,p=m,m=o,l=c,c=u,u=l),o=[],l=c+u,t=l;t--;)o.push(0);for(t=u;--t>=0;){for(e=0,i=c+t;i>t;)h=o[i]+m[t]*p[i-t-1]+e,o[i--]=h%tr|0,e=h/tr|0;o[i]=(o[i]+e)%tr|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),r.d=o,r.e=vt(o,n),K?W(r,s.precision,s.rounding):r};B.toBinary=function(r,e){return Jt(this,2,r,e)};B.toDecimalPlaces=B.toDP=function(r,e){var n=this,t=n.constructor;return n=new t(n),r===void 0?n:(He(r,0,vr),e===void 0?e=t.rounding:He(e,0,8),W(n,r+n.e+1,e))};B.toExponential=function(r,e){var n,t=this,i=t.constructor;return r===void 0?n=ir(t,!0):(He(r,0,vr),e===void 0?e=i.rounding:He(e,0,8),t=W(new i(t),r+1,e),n=ir(t,!0,r+1)),t.isNeg()&&!t.isZero()?"-"+n:n};B.toFixed=function(r,e){var n,t,i=this,o=i.constructor;return r===void 0?n=ir(i):(He(r,0,vr),e===void 0?e=o.rounding:He(e,0,8),t=W(new o(i),r+i.e+1,e),n=ir(t,!1,r+t.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};B.toFraction=function(r){var e,n,t,i,o,l,h,c,u,a,s,p,m=this,v=m.d,f=m.constructor;if(!v)return new f(m);if(u=n=new f(1),t=c=new f(0),e=new f(t),o=e.e=uo(v)-m.e-1,l=o%$,e.d[0]=Ae(10,l<0?$+l:l),r==null)r=o>0?e:u;else{if(h=new f(r),!h.isInt()||h.lt(u))throw Error(mr+h);r=h.gt(e)?o>0?e:u:h}for(K=!1,h=new f(Ie(v)),a=f.precision,f.precision=o=v.length*$*2;s=fe(h,e,0,1,1),i=n.plus(s.times(t)),i.cmp(r)!=1;)n=t,t=i,i=u,u=c.plus(s.times(i)),c=i,i=e,e=h.minus(s.times(i)),h=i;return i=fe(r.minus(n),t,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(t)),c.s=u.s=m.s,p=fe(u,t,o,1).minus(m).abs().cmp(fe(c,n,o,1).minus(m).abs())<1?[u,t]:[c,n],f.precision=a,K=!0,p};B.toHexadecimal=B.toHex=function(r,e){return Jt(this,16,r,e)};B.toNearest=function(r,e){var n=this,t=n.constructor;if(n=new t(n),r==null){if(!n.d)return n;r=new t(1),e=t.rounding}else{if(r=new t(r),e===void 0?e=t.rounding:He(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(K=!1,n=fe(n,r,0,e,1).times(r),K=!0,W(n)):(r.s=n.s,n=r),n};B.toNumber=function(){return+this};B.toOctal=function(r,e){return Jt(this,8,r,e)};B.toPower=B.pow=function(r){var e,n,t,i,o,l,h=this,c=h.constructor,u=+(r=new c(r));if(!h.d||!r.d||!h.d[0]||!r.d[0])return new c(Ae(+h,u));if(h=new c(h),h.eq(1))return h;if(t=c.precision,o=c.rounding,r.eq(1))return W(h,t,o);if(e=Le(r.e/$),e>=r.d.length-1&&(n=u<0?-u:u)<=vu)return i=so(c,h,n,t),r.s<0?new c(1).div(i):W(i,t,o);if(l=h.s,l<0){if(e<r.d.length-1)return new c(NaN);if((r.d[e]&1)==0&&(l=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=l,h}return n=Ae(+h,u),e=n==0||!isFinite(n)?Le(u*(Math.log("0."+Ie(h.d))/Math.LN10+h.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?l/0:0):(K=!1,c.rounding=h.s=1,n=Math.min(12,(e+"").length),i=Qt(r.times(hr(h,t+n)),t),i.d&&(i=W(i,t+5,1),Yr(i.d,t,o)&&(e=t+10,i=W(Qt(r.times(hr(h,e+n)),e),e+5,1),+Ie(i.d).slice(t+1,t+15)+1==1e14&&(i=W(i,t+1,0)))),i.s=l,K=!0,c.rounding=o,W(i,t,o))};B.toPrecision=function(r,e){var n,t=this,i=t.constructor;return r===void 0?n=ir(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(He(r,1,vr),e===void 0?e=i.rounding:He(e,0,8),t=W(new i(t),r,e),n=ir(t,r<=t.e||t.e<=i.toExpNeg,r)),t.isNeg()&&!t.isZero()?"-"+n:n};B.toSignificantDigits=B.toSD=function(r,e){var n=this,t=n.constructor;return r===void 0?(r=t.precision,e=t.rounding):(He(r,1,vr),e===void 0?e=t.rounding:He(e,0,8)),W(new t(n),r,e)};B.toString=function(){var r=this,e=r.constructor,n=ir(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};B.truncated=B.trunc=function(){return W(new this.constructor(this),this.e+1,1)};B.valueOf=B.toJSON=function(){var r=this,e=r.constructor,n=ir(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function Ie(r){var e,n,t,i=r.length-1,o="",l=r[0];if(i>0){for(o+=l,e=1;e<i;e++)t=r[e]+"",n=$-t.length,n&&(o+=pr(n)),o+=t;l=r[e],t=l+"",n=$-t.length,n&&(o+=pr(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}function He(r,e,n){if(r!==~~r||r<e||r>n)throw Error(mr+r)}function Yr(r,e,n,t){var i,o,l,h;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=$,i=0):(i=Math.ceil((e+1)/$),e%=$),o=Ae(10,$-e),h=r[i]%o|0,t==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),l=n<4&&h==99999||n>3&&h==49999||h==5e4||h==0):l=(n<4&&h+1==o||n>3&&h+1==o/2)&&(r[i+1]/o/100|0)==Ae(10,e-2)-1||(h==o/2||h==0)&&(r[i+1]/o/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),l=(t||n<4)&&h==9999||!t&&n>3&&h==4999):l=((t||n<4)&&h+1==o||!t&&n>3&&h+1==o/2)&&(r[i+1]/o/1e3|0)==Ae(10,e-3)-1,l}function ct(r,e,n){for(var t,i=[0],o,l=0,h=r.length;l<h;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Gt.indexOf(r.charAt(l++)),t=0;t<i.length;t++)i[t]>n-1&&(i[t+1]===void 0&&(i[t+1]=0),i[t+1]+=i[t]/n|0,i[t]%=n)}return i.reverse()}function Du(r,e){var n,t,i;if(e.isZero())return e;t=e.d.length,t<32?(n=Math.ceil(t/3),i=(1/dt(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),r.precision+=n,e=Rr(r,1,e.times(i),new r(1));for(var o=n;o--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return r.precision-=n,e}var fe=function(){function r(t,i,o){var l,h=0,c=t.length;for(t=t.slice();c--;)l=t[c]*i+h,t[c]=l%o|0,h=l/o|0;return h&&t.unshift(h),t}function e(t,i,o,l){var h,c;if(o!=l)c=o>l?1:-1;else for(h=c=0;h<o;h++)if(t[h]!=i[h]){c=t[h]>i[h]?1:-1;break}return c}function n(t,i,o,l){for(var h=0;o--;)t[o]-=h,h=t[o]<i[o]?1:0,t[o]=h*l+t[o]-i[o];for(;!t[0]&&t.length>1;)t.shift()}return function(t,i,o,l,h,c){var u,a,s,p,m,v,f,d,D,C,g,N,w,x,y,F,T,S,O,U,H=t.constructor,R=t.s==i.s?1:-1,L=t.d,M=i.d;if(!L||!L[0]||!M||!M[0])return new H(!t.s||!i.s||(L?M&&L[0]==M[0]:!M)?NaN:L&&L[0]==0||!M?R*0:R/0);for(c?(m=1,a=t.e-i.e):(c=tr,m=$,a=Le(t.e/m)-Le(i.e/m)),O=M.length,T=L.length,D=new H(R),C=D.d=[],s=0;M[s]==(L[s]||0);s++);if(M[s]>(L[s]||0)&&a--,o==null?(x=o=H.precision,l=H.rounding):h?x=o+(t.e-i.e)+1:x=o,x<0)C.push(1),v=!0;else{if(x=x/m+2|0,s=0,O==1){for(p=0,M=M[0],x++;(s<T||p)&&x--;s++)y=p*c+(L[s]||0),C[s]=y/M|0,p=y%M|0;v=p||s<T}else{for(p=c/(M[0]+1)|0,p>1&&(M=r(M,p,c),L=r(L,p,c),O=M.length,T=L.length),F=O,g=L.slice(0,O),N=g.length;N<O;)g[N++]=0;U=M.slice(),U.unshift(0),S=M[0],M[1]>=c/2&&++S;do p=0,u=e(M,g,O,N),u<0?(w=g[0],O!=N&&(w=w*c+(g[1]||0)),p=w/S|0,p>1?(p>=c&&(p=c-1),f=r(M,p,c),d=f.length,N=g.length,u=e(f,g,d,N),u==1&&(p--,n(f,O<d?U:M,d,c))):(p==0&&(u=p=1),f=M.slice()),d=f.length,d<N&&f.unshift(0),n(g,f,N,c),u==-1&&(N=g.length,u=e(M,g,O,N),u<1&&(p++,n(g,O<N?U:M,N,c))),N=g.length):u===0&&(p++,g=[0]),C[s++]=p,u&&g[0]?g[N++]=L[F]||0:(g=[L[F]],N=1);while((F++<T||g[0]!==void 0)&&x--);v=g[0]!==void 0}C[0]||C.shift()}if(m==1)D.e=a,to=v;else{for(s=1,p=C[0];p>=10;p/=10)s++;D.e=s+a*m-1,W(D,h?o+D.e+1:o,l,v)}return D}}();function W(r,e,n,t){var i,o,l,h,c,u,a,s,p,m=r.constructor;e:if(e!=null){if(s=r.d,!s)return r;for(i=1,h=s[0];h>=10;h/=10)i++;if(o=e-i,o<0)o+=$,l=e,a=s[p=0],c=a/Ae(10,i-l-1)%10|0;else if(p=Math.ceil((o+1)/$),h=s.length,p>=h)if(t){for(;h++<=p;)s.push(0);a=c=0,i=1,o%=$,l=o-$+1}else break e;else{for(a=h=s[p],i=1;h>=10;h/=10)i++;o%=$,l=o-$+i,c=l<0?0:a/Ae(10,i-l-1)%10|0}if(t=t||e<0||s[p+1]!==void 0||(l<0?a:a%Ae(10,i-l-1)),u=n<4?(c||t)&&(n==0||n==(r.s<0?3:2)):c>5||c==5&&(n==4||t||n==6&&(o>0?l>0?a/Ae(10,i-l):0:s[p-1])%10&1||n==(r.s<0?8:7)),e<1||!s[0])return s.length=0,u?(e-=r.e+1,s[0]=Ae(10,($-e%$)%$),r.e=-e||0):s[0]=r.e=0,r;if(o==0?(s.length=p,h=1,p--):(s.length=p+1,h=Ae(10,$-o),s[p]=l>0?(a/Ae(10,i-l)%Ae(10,l)|0)*h:0),u)for(;;)if(p==0){for(o=1,l=s[0];l>=10;l/=10)o++;for(l=s[0]+=h,h=1;l>=10;l/=10)h++;o!=h&&(r.e++,s[0]==tr&&(s[0]=1));break}else{if(s[p]+=h,s[p]!=tr)break;s[p--]=0,h=1}for(o=s.length;s[--o]===0;)s.pop()}return K&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function ir(r,e,n){if(!r.isFinite())return co(r);var t,i=r.e,o=Ie(r.d),l=o.length;return e?(n&&(t=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+pr(t):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+pr(-i-1)+o,n&&(t=n-l)>0&&(o+=pr(t))):i>=l?(o+=pr(i+1-l),n&&(t=n-i-1)>0&&(o=o+"."+pr(t))):((t=i+1)<l&&(o=o.slice(0,t)+"."+o.slice(t)),n&&(t=n-l)>0&&(i+1===l&&(o+="."),o+=pr(t))),o}function vt(r,e){var n=r[0];for(e*=$;n>=10;n/=10)e++;return e}function ht(r,e,n){if(e>du)throw K=!0,n&&(r.precision=n),Error(no);return W(new r(lt),e,1,!0)}function rr(r,e,n){if(e>Yt)throw Error(no);return W(new r(pt),e,n,!0)}function uo(r){var e=r.length-1,n=e*$+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function pr(r){for(var e="";r--;)e+="0";return e}function so(r,e,n,t){var i,o=new r(1),l=Math.ceil(t/$+4);for(K=!1;;){if(n%2&&(o=o.times(e),eo(o.d,l)&&(i=!0)),n=Le(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}e=e.times(e),eo(e.d,l)}return K=!0,o}function Ki(r){return r.d[r.d.length-1]&1}function fo(r,e,n){for(var t,i=new r(e[0]),o=0;++o<e.length;)if(t=new r(e[o]),t.s)i[n](t)&&(i=t);else{i=t;break}return i}function Qt(r,e){var n,t,i,o,l,h,c,u=0,a=0,s=0,p=r.constructor,m=p.rounding,v=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(K=!1,c=v):c=e,h=new p(.03125);r.e>-2;)r=r.times(h),s+=5;for(t=Math.log(Ae(2,s))/Math.LN10*2+5|0,c+=t,n=o=l=new p(1),p.precision=c;;){if(o=W(o.times(r),c,1),n=n.times(++a),h=l.plus(fe(o,n,c,1)),Ie(h.d).slice(0,c)===Ie(l.d).slice(0,c)){for(i=s;i--;)l=W(l.times(l),c,1);if(e==null)if(u<3&&Yr(l.d,c-t,m,u))p.precision=c+=10,n=o=h=new p(1),a=0,u++;else return W(l,p.precision=v,m,K=!0);else return p.precision=v,l}l=h}}function hr(r,e){var n,t,i,o,l,h,c,u,a,s,p,m=1,v=10,f=r,d=f.d,D=f.constructor,C=D.rounding,g=D.precision;if(f.s<0||!d||!d[0]||!f.e&&d[0]==1&&d.length==1)return new D(d&&!d[0]?-1/0:f.s!=1?NaN:d?0:f);if(e==null?(K=!1,a=g):a=e,D.precision=a+=v,n=Ie(d),t=n.charAt(0),Math.abs(o=f.e)<15e14){for(;t<7&&t!=1||t==1&&n.charAt(1)>3;)f=f.times(r),n=Ie(f.d),t=n.charAt(0),m++;o=f.e,t>1?(f=new D("0."+n),o++):f=new D(t+"."+n.slice(1))}else return u=ht(D,a+2,g).times(o+""),f=hr(new D(t+"."+n.slice(1)),a-v).plus(u),D.precision=g,e==null?W(f,g,C,K=!0):f;for(s=f,c=l=f=fe(f.minus(1),f.plus(1),a,1),p=W(f.times(f),a,1),i=3;;){if(l=W(l.times(p),a,1),u=c.plus(fe(l,new D(i),a,1)),Ie(u.d).slice(0,a)===Ie(c.d).slice(0,a))if(c=c.times(2),o!==0&&(c=c.plus(ht(D,a+2,g).times(o+""))),c=fe(c,new D(m),a,1),e==null)if(Yr(c.d,a-v,C,h))D.precision=a+=v,u=l=f=fe(s.minus(1),s.plus(1),a,1),p=W(f.times(f),a,1),i=h=1;else return W(c,D.precision=g,C,K=!0);else return D.precision=g,c;c=u,i+=2}}function co(r){return String(r.s*r.s/0)}function $t(r,e){var n,t,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(t=e.search(/e/i))>0?(n<0&&(n=t),n+=+e.slice(t+1),e=e.substring(0,t)):n<0&&(n=e.length),t=0;e.charCodeAt(t)===48;t++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(t,i),e){if(i-=t,r.e=n=n-t-1,r.d=[],t=(n+1)%$,n<0&&(t+=$),t<i){for(t&&r.d.push(+e.slice(0,t)),i-=$;t<i;)r.d.push(+e.slice(t,t+=$));e=e.slice(t),t=$-e.length}else t-=i;for(;t--;)e+="0";r.d.push(+e),K&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function gu(r,e){var n,t,i,o,l,h,c,u,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),ao.test(e))return $t(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(hu.test(e))n=16,e=e.toLowerCase();else if(pu.test(e))n=2;else if(mu.test(e))n=8;else throw Error(mr+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),l=o>=0,t=r.constructor,l&&(e=e.replace(".",""),h=e.length,o=h-o,i=so(t,new t(n),o,o*2)),u=ct(e,n,tr),a=u.length-1,o=a;u[o]===0;--o)u.pop();return o<0?new t(r.s*0):(r.e=vt(u,a),r.d=u,K=!1,l&&(r=fe(r,i,h*4)),c&&(r=r.times(Math.abs(c)<54?Ae(2,c):Qr.pow(2,c))),K=!0,r)}function xu(r,e){var n,t=e.d.length;if(t<3)return e.isZero()?e:Rr(r,2,e,e);n=1.4*Math.sqrt(t),n=n>16?16:n|0,e=e.times(1/dt(5,n)),e=Rr(r,2,e,e);for(var i,o=new r(5),l=new r(16),h=new r(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(l.times(i).minus(h))));return e}function Rr(r,e,n,t,i){var o,l,h,c,u=1,a=r.precision,s=Math.ceil(a/$);for(K=!1,c=n.times(n),h=new r(t);;){if(l=fe(h.times(c),new r(e++*e++),a,1),h=i?t.plus(l):t.minus(l),t=fe(l.times(c),new r(e++*e++),a,1),l=h.plus(t),l.d[s]!==void 0){for(o=s;l.d[o]===h.d[o]&&o--;);if(o==-1)break}o=h,h=t,t=l,l=o,u++}return K=!0,l.d.length=s+1,l}function dt(r,e){for(var n=r;--e;)n*=r;return n}function lo(r,e){var n,t=e.s<0,i=rr(r,r.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return ur=t?4:1,e;if(n=e.divToInt(i),n.isZero())ur=t?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return ur=Ki(n)?t?2:3:t?4:1,e;ur=Ki(n)?t?1:4:t?3:2}return e.minus(i).abs()}function Jt(r,e,n,t){var i,o,l,h,c,u,a,s,p,m=r.constructor,v=n!==void 0;if(v?(He(n,1,vr),t===void 0?t=m.rounding:He(t,0,8)):(n=m.precision,t=m.rounding),!r.isFinite())a=co(r);else{for(a=ir(r),l=a.indexOf("."),v?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,l>=0&&(a=a.replace(".",""),p=new m(1),p.e=a.length-l,p.d=ct(ir(p),10,i),p.e=p.d.length),s=ct(a,10,i),o=c=s.length;s[--c]==0;)s.pop();if(!s[0])a=v?"0p+0":"0";else{if(l<0?o--:(r=new m(r),r.d=s,r.e=o,r=fe(r,p,n,t,0,i),s=r.d,o=r.e,u=to),l=s[n],h=i/2,u=u||s[n+1]!==void 0,u=t<4?(l!==void 0||u)&&(t===0||t===(r.s<0?3:2)):l>h||l===h&&(t===4||u||t===6&&s[n-1]&1||t===(r.s<0?8:7)),s.length=n,u)for(;++s[--n]>i-1;)s[n]=0,n||(++o,s.unshift(1));for(c=s.length;!s[c-1];--c);for(l=0,a="";l<c;l++)a+=Gt.charAt(s[l]);if(v){if(c>1)if(e==16||e==8){for(l=e==16?4:3,--c;c%l;c++)a+="0";for(s=ct(a,i,e),c=s.length;!s[c-1];--c);for(l=1,a="1.";l<c;l++)a+=Gt.charAt(s[l])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>c)for(o-=c;o--;)a+="0";else o<c&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return r.s<0?"-"+a:a}function eo(r,e){if(r.length>e)return r.length=e,!0}function Eu(r){return new this(r).abs()}function yu(r){return new this(r).acos()}function wu(r){return new this(r).acosh()}function Au(r,e){return new this(r).plus(e)}function Cu(r){return new this(r).asin()}function Fu(r){return new this(r).asinh()}function Nu(r){return new this(r).atan()}function Tu(r){return new this(r).atanh()}function bu(r,e){r=new this(r),e=new this(e);var n,t=this.precision,i=this.rounding,o=t+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=rr(this,o,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?rr(this,t,i):new this(0),n.s=r.s):!r.d||e.isZero()?(n=rr(this,o,1).times(.5),n.s=r.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(fe(r,e,o,1)),e=rr(this,o,1),this.precision=t,this.rounding=i,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(fe(r,e,o,1)),n}function Mu(r){return new this(r).cbrt()}function Su(r){return W(r=new this(r),r.e+1,2)}function _u(r,e,n){return new this(r).clamp(e,n)}function Bu(r){if(!r||typeof r!="object")throw Error(mt+"Object expected");var e,n,t,i=r.defaults===!0,o=["precision",1,vr,"rounding",0,8,"toExpNeg",-Lr,0,"toExpPos",0,Lr,"maxE",0,Lr,"minE",-Lr,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=Wt[n]),(t=r[n])!==void 0)if(Le(t)===t&&t>=o[e+1]&&t<=o[e+2])this[n]=t;else throw Error(mr+n+": "+t);if(n="crypto",i&&(this[n]=Wt[n]),(t=r[n])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(io);else this[n]=!1;else throw Error(mr+n+": "+t);return this}function Iu(r){return new this(r).cos()}function Ou(r){return new this(r).cosh()}function po(r){var e,n,t;function i(o){var l,h,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,ro(o)){u.s=o.s,K?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(l=0,h=o;h>=10;h/=10)l++;K?l>i.maxE?(u.e=NaN,u.d=null):l<i.minE?(u.e=0,u.d=[0]):(u.e=l,u.d=[o]):(u.e=l,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return $t(u,o.toString())}else if(c!=="string")throw Error(mr+o);return(h=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(h===43&&(o=o.slice(1)),u.s=1),ao.test(o)?$t(u,o):gu(u,o)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Bu,i.clone=po,i.isDecimal=ro,i.abs=Eu,i.acos=yu,i.acosh=wu,i.add=Au,i.asin=Cu,i.asinh=Fu,i.atan=Nu,i.atanh=Tu,i.atan2=bu,i.cbrt=Mu,i.ceil=Su,i.clamp=_u,i.cos=Iu,i.cosh=Ou,i.div=Lu,i.exp=Ru,i.floor=ku,i.hypot=Pu,i.ln=zu,i.log=qu,i.log10=Xu,i.log2=Uu,i.max=Zu,i.min=Vu,i.mod=Hu,i.mul=ju,i.pow=Gu,i.random=Wu,i.round=Yu,i.sign=Qu,i.sin=$u,i.sinh=Ju,i.sqrt=Ku,i.sub=es,i.sum=rs,i.tan=ts,i.tanh=ns,i.trunc=is,r===void 0&&(r={}),r&&r.defaults!==!0)for(t=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<t.length;)r.hasOwnProperty(n=t[e++])||(r[n]=this[n]);return i.config(r),i}function Lu(r,e){return new this(r).div(e)}function Ru(r){return new this(r).exp()}function ku(r){return W(r=new this(r),r.e+1,3)}function Pu(){var r,e,n=new this(0);for(K=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return K=!0,new this(1/0);n=e}return K=!0,n.sqrt()}function ro(r){return r instanceof Qr||r&&r.toStringTag===oo||!1}function zu(r){return new this(r).ln()}function qu(r,e){return new this(r).log(e)}function Uu(r){return new this(r).log(2)}function Xu(r){return new this(r).log(10)}function Zu(){return fo(this,arguments,"lt")}function Vu(){return fo(this,arguments,"gt")}function Hu(r,e){return new this(r).mod(e)}function ju(r,e){return new this(r).mul(e)}function Gu(r,e){return new this(r).pow(e)}function Wu(r){var e,n,t,i,o=0,l=new this(1),h=[];if(r===void 0?r=this.precision:He(r,1,vr),t=Math.ceil(r/$),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(t));o<t;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:h[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(t*=4);o<t;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(h.push(i%1e7),o+=4);o=t/4}else throw Error(io);else for(;o<t;)h[o++]=Math.random()*1e7|0;for(t=h[--o],r%=$,t&&r&&(i=Ae(10,$-r),h[o]=(t/i|0)*i);h[o]===0;o--)h.pop();if(o<0)n=0,h=[0];else{for(n=-1;h[0]===0;n-=$)h.shift();for(t=1,i=h[0];i>=10;i/=10)t++;t<$&&(n-=$-t)}return l.e=n,l.d=h,l}function Yu(r){return W(r=new this(r),r.e+1,this.rounding)}function Qu(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function $u(r){return new this(r).sin()}function Ju(r){return new this(r).sinh()}function Ku(r){return new this(r).sqrt()}function es(r,e){return new this(r).sub(e)}function rs(){var r=0,e=arguments,n=new this(e[r]);for(K=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return K=!0,W(n,this.precision,this.rounding)}function ts(r){return new this(r).tan()}function ns(r){return new this(r).tanh()}function is(r){return W(r=new this(r),r.e+1,1)}B[Symbol.for("nodejs.util.inspect.custom")]=B.toString;B[Symbol.toStringTag]="Decimal";var Qr=B.constructor=po(Wt);lt=new Qr(lt);pt=new Qr(pt);var Kt=Qr;var os="BigNumber",as=["?on","config"],en=X(os,as,r=>{var{on:e,config:n}=r,t=Kt.clone({precision:n.precision,modulo:Kt.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(i){return new t(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&t.config({precision:i.precision})}),t},{isClass:!0});var Ne=Vr(mo(),1);var us="Complex",ss=[],tn=X(us,ss,()=>(Object.defineProperty(Ne.default,"name",{value:"Complex"}),Ne.default.prototype.constructor=Ne.default,Ne.default.prototype.type="Complex",Ne.default.prototype.isComplex=!0,Ne.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ne.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ne.default.prototype.format=function(r){var e="",n=this.im,t=this.re,i=jr(this.re,r),o=jr(this.im,r),l=ue(r)?r:r?r.precision:null;if(l!==null){var h=Math.pow(10,-l);Math.abs(t/n)<h&&(t=0),Math.abs(n/t)<h&&(n=0)}return n===0?e=i:t===0?n===1?e="i":n===-1?e="-i":e=o+"i":n<0?n===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":n===1?e=i+" + i":e=i+" + "+o+"i",e},Ne.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Ne.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],t=arguments[1];if(ue(n)){if(ot(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),ue(t))return new Ne.default({r:n,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ne.default.prototype.valueOf=Ne.default.prototype.toString,Ne.default.fromJSON=function(r){return new Ne.default(r)},Ne.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Ne.default),{isClass:!0});var or=Vr(Do(),1);var fs="Fraction",cs=[],on=X(fs,cs,()=>(Object.defineProperty(or.default,"name",{value:"Fraction"}),or.default.prototype.constructor=or.default,or.default.prototype.type="Fraction",or.default.prototype.isFraction=!0,or.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},or.default.fromJSON=function(r){return new or.default(r)},or.default),{isClass:!0});var ls="Matrix",ps=[],an=X(ls,ps,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,t){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,t){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Dt(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var t=(n.match(/,/g)||[]).length+1;return Math.max(e,t)},-1)}var hs="DenseMatrix",ms=["Matrix"],un=X(hs,ms,r=>{var{Matrix:e}=r;function n(a,s){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Ve(s))throw new Error("Invalid datatype: "+s);if(ge(a))a.type==="DenseMatrix"?(this._data=pe(a._data),this._size=pe(a._size),this._datatype=s||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=s||a._datatype);else if(a&&le(a.data)&&le(a.size))this._data=a.data,this._size=a.size,Ut(this._data,this._size),this._datatype=s||a.datatype;else if(le(a))this._data=u(a),this._size=er(this._data),Ut(this._data,this._size),this._datatype=s;else{if(a)throw new TypeError("Unsupported type of data ("+nr(a)+")");this._data=[],this._size=[0],this._datatype=s}}n.prototype=new e,n.prototype.createDenseMatrix=function(a,s){return new n(a,s)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Or(this._data,nr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(a,s){return new n(a,s)},n.prototype.subset=function(a,s,p){switch(arguments.length){case 1:return t(this,a);case 2:case 3:return o(this,a,s,p);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(a){if(!le(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new te(a.length,this._size.length);for(var s=0;s<a.length;s++)he(a[s],this._size[s]);for(var p=this._data,m=0,v=a.length;m<v;m++){var f=a[m];he(f,p.length),p=p[f]}return p},n.prototype.set=function(a,s,p){if(!le(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new te(a.length,this._size.length,"<");var m,v,f,d=a.map(function(C){return C+1});c(this,d,p);var D=this._data;for(m=0,v=a.length-1;m<v;m++)f=a[m],he(f,D.length),D=D[f];return f=a[a.length-1],he(f,D.length),D[f]=s,this};function t(a,s){if(!br(s))throw new TypeError("Invalid index");var p=s.isScalar();if(p)return a.get(s.min());var m=s.size();if(m.length!==a._size.length)throw new te(m.length,a._size.length);for(var v=s.min(),f=s.max(),d=0,D=a._size.length;d<D;d++)he(v[d],a._size[d]),he(f[d],a._size[d]);return new n(i(a._data,s,m.length,0),a._datatype)}function i(a,s,p,m){var v=m===p-1,f=s.dimension(m);return v?f.map(function(d){return he(d,a.length),a[d]}).valueOf():f.map(function(d){he(d,a.length);var D=a[d];return i(D,s,p,m+1)}).valueOf()}function o(a,s,p,m){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var v=s.size(),f=s.isScalar(),d;if(ge(p)?(d=p.size(),p=p.valueOf()):d=er(p),f){if(d.length!==0)throw new TypeError("Scalar expected");a.set(s.min(),p,m)}else{if(v.length<a._size.length)throw new te(v.length,a._size.length,"<");if(d.length<v.length){for(var D=0,C=0;v[D]===1&&d[D]===1;)D++;for(;v[D]===1;)C++,D++;p=st(p,v.length,C,d)}if(!Mr(v,d))throw new te(v,d,">");var g=s.max().map(function(x){return x+1});c(a,g,m);var N=v.length,w=0;l(a._data,s,p,N,w)}return a}function l(a,s,p,m,v){var f=v===m-1,d=s.dimension(v);f?d.forEach(function(D,C){he(D),a[D]=p[C[0]]}):d.forEach(function(D,C){he(D),l(a[D],s,p[C[0]],m,v+1)})}n.prototype.resize=function(a,s,p){if(!yr(a))throw new TypeError("Array or Matrix expected");var m=a.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),v=p?this.clone():this;return h(v,m,s)};function h(a,s,p){if(s.length===0){for(var m=a._data;le(m);)m=m[0];return m}return a._size=s.slice(0),a._data=Gr(a._data,a._size,p),a}n.prototype.reshape=function(a,s){var p=s?this.clone():this;p._data=Zi(p._data,a);var m=p._size.reduce((v,f)=>v*f);return p._size=Wr(a,m),p};function c(a,s,p){for(var m=a._size.slice(0),v=!1;m.length<s.length;)m.push(0),v=!0;for(var f=0,d=s.length;f<d;f++)s[f]>m[f]&&(m[f]=s[f],v=!0);v&&h(a,m,p)}n.prototype.clone=function(){var a=new n({data:pe(this._data),size:pe(this._size),datatype:this._datatype});return a},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(a){var s=this,p=Dt(a),m=function d(D,C){return le(D)?D.map(function(g,N){return d(g,C.concat(N))}):p===1?a(D):p===2?a(D,C):a(D,C,s)},v=m(this._data,[]),f=this._datatype!==void 0?Or(v,nr):void 0;return new n(v,f)},n.prototype.forEach=function(a){var s=this,p=function m(v,f){le(v)?v.forEach(function(d,D){m(d,f.concat(D))}):a(v,f,s)};p(this._data,[])},n.prototype[Symbol.iterator]=function*(){var a=function*s(p,m){if(le(p))for(var v=0;v<p.length;v++)yield*s(p[v],m.concat(v));else yield{value:p,index:m}};yield*a(this._data,[])},n.prototype.rows=function(){var a=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)a.push(new n([m],this._datatype));return a},n.prototype.columns=function(){var a=this,s=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,v=function(D){var C=m.map(g=>[g[D]]);s.push(new n(C,a._datatype))},f=0;f<p[1];f++)v(f);return s},n.prototype.toArray=function(){return pe(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(a){return xe(this._data,a)},n.prototype.toString=function(){return xe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(a){if(a){if(Fe(a)&&(a=a.toNumber()),!ue(a)||!oe(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var s=a>0?a:0,p=a<0?-a:0,m=this._size[0],v=this._size[1],f=Math.min(m-p,v-s),d=[],D=0;D<f;D++)d[D]=this._data[D+p][D+s];return new n({data:d,size:[f],datatype:this._datatype})},n.diagonal=function(a,s,p,m){if(!le(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(y){if(Fe(y)&&(y=y.toNumber()),!ue(y)||!oe(y)||y<1)throw new Error("Size values must be positive integers");return y}),p){if(Fe(p)&&(p=p.toNumber()),!ue(p)||!oe(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,f=p<0?-p:0,d=a[0],D=a[1],C=Math.min(d-f,D-v),g;if(le(s)){if(s.length!==C)throw new Error("Invalid value array length");g=function(F){return s[F]}}else if(ge(s)){var N=s.size();if(N.length!==1||N[0]!==C)throw new Error("Invalid matrix length");g=function(F){return s.get([F])}}else g=function(){return s};m||(m=Fe(g(0))?g(0).mul(0):0);var w=[];if(a.length>0){w=Gr(w,a,m);for(var x=0;x<C;x++)w[x+f][x+v]=g(x)}return new n({data:w,size:[d,D]})},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(a,s){if(!ue(a)||!oe(a)||!ue(s)||!oe(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return he(a,this._size[0]),he(s,this._size[0]),n._swapRows(a,s,this._data),this},n._swapRows=function(a,s,p){var m=p[a];p[a]=p[s],p[s]=m};function u(a){for(var s=0,p=a.length;s<p;s++){var m=a[s];le(m)?a[s]=u(m):m&&m.isMatrix===!0&&(a[s]=u(m.valueOf()))}return a}return n},{isClass:!0});function ze(r,e,n){return r&&typeof r.map=="function"?r.map(function(t){return ze(t,e,n)}):e(r)}var je="number",sr="number, number";function vs(r){return Math.abs(r)}vs.signature=je;function sn(r,e){return r+e}sn.signature=sr;function ds(r,e){return r-e}ds.signature=sr;function fn(r,e){return r*e}fn.signature=sr;function Ds(r,e){return r/e}Ds.signature=sr;function cn(r){return-r}cn.signature=je;function gs(r){return r}gs.signature=je;function xs(r){return Oi(r)}xs.signature=je;function Es(r){return r*r*r}Es.signature=je;function ys(r){return Math.exp(r)}ys.signature=je;function ws(r){return Li(r)}ws.signature=je;function As(r,e){if(!oe(r)||!oe(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;e!==0;)n=r%e,r=e,e=n;return r<0?-r:r}As.signature=sr;function Cs(r,e){if(!oe(r)||!oe(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var n,t=r*e;e!==0;)n=e,e=r%n,r=n;return Math.abs(t/r)}Cs.signature=sr;function Fs(r){return Bi(r)}Fs.signature=je;function Ns(r){return _i(r)}Ns.signature=je;function Ts(r){return Ii(r)}Ts.signature=je;function bs(r,e){if(e>0)return r-e*Math.floor(r/e);if(e===0)return r;throw new Error("Cannot calculate mod for a negative divisor")}bs.signature=sr;function Ms(r){return Si(r)}Ms.signature=je;function Ss(r){return Math.sqrt(r)}Ss.signature=je;function _s(r){return r*r}_s.signature=je;function Bs(r,e){var n,t,i,o=0,l=1,h=1,c=0;if(!oe(r)||!oe(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)t=Math.floor(r/e),i=r-t*e,n=o,o=l-t*o,l=n,n=h,h=c-t*h,c=n,r=e,e=i;var u;return r<0?u=[-r,-l,-c]:u=[r,r?l:0,c],u}Bs.signature=sr;function Is(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Is.signature=sr;function Os(r){return Math.abs(r)}Os.signature=je;var $r="number";function Ls(r){return oe(r)}Ls.signature=$r;function Rs(r){return r<0}Rs.signature=$r;function ks(r){return r>0}ks.signature=$r;function ln(r){return r===0}ln.signature=$r;function Ps(r){return Number.isNaN(r)}Ps.signature=$r;var go="isZero",zs=["typed"],pn=X(go,zs,r=>{var{typed:e}=r;return e(go,{number:ln,BigNumber:function(t){return t.isZero()},Complex:function(t){return t.re===0&&t.im===0},Fraction:function(t){return t.d===1&&t.n===0},Unit:e.referToSelf(n=>t=>e.find(n,t.valueType())(t.value)),"Array | Matrix":e.referToSelf(n=>t=>ze(t,n))})});function xo(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var t=r.minus(e).abs();if(t.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return t.lte(i.times(n))}return!1}function Eo(r,e,n){return Ir(r.re,e.re,n)&&Ir(r.im,e.im,n)}var yo=X("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(t,i)=>{if(!t.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(n,[t.valueType(),i.valueType()])(t.value,i.value)})}});var gt="equalScalar",qs=["typed","config"],hn=X(gt,qs,r=>{var{typed:e,config:n}=r,t=yo({typed:e});return e(gt,{"boolean, boolean":function(o,l){return o===l},"number, number":function(o,l){return Ir(o,l,n.epsilon)},"BigNumber, BigNumber":function(o,l){return o.eq(l)||xo(o,l,n.epsilon)},"Fraction, Fraction":function(o,l){return o.equals(l)},"Complex, Complex":function(o,l){return Eo(o,l,n.epsilon)}},t)}),Cl=X(gt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(gt,{"number, number":function(i,o){return Ir(i,o,n.epsilon)}})});var Us="SparseMatrix",Xs=["typed","equalScalar","Matrix"],mn=X(Us,Xs,r=>{var{typed:e,equalScalar:n,Matrix:t}=r;function i(f,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Ve(d))throw new Error("Invalid datatype: "+d);if(ge(f))o(this,f,d);else if(f&&le(f.index)&&le(f.ptr)&&le(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=d||f.datatype;else if(le(f))l(this,f,d);else{if(f)throw new TypeError("Unsupported type of data ("+nr(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function o(f,d,D){d.type==="SparseMatrix"?(f._values=d._values?pe(d._values):void 0,f._index=pe(d._index),f._ptr=pe(d._ptr),f._size=pe(d._size),f._datatype=D||d._datatype):l(f,d.valueOf(),D||d._datatype)}function l(f,d,D){f._values=[],f._index=[],f._ptr=[],f._datatype=D;var C=d.length,g=0,N=n,w=0;if(Ve(D)&&(N=e.find(n,[D,D])||n,w=e.convert(0,D)),C>0){var x=0;do{f._ptr.push(f._index.length);for(var y=0;y<C;y++){var F=d[y];if(le(F)){if(x===0&&g<F.length&&(g=F.length),x<F.length){var T=F[x];N(T,w)||(f._values.push(T),f._index.push(y))}}else x===0&&g<1&&(g=1),N(F,w)||(f._values.push(F),f._index.push(y))}x++}while(x<g)}f._ptr.push(f._index.length),f._size=[C,g]}i.prototype=new t,i.prototype.createSparseMatrix=function(f,d){return new i(f,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Or(this._values,nr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,d){return new i(f,d)},i.prototype.density=function(){var f=this._size[0],d=this._size[1];return f!==0&&d!==0?this._index.length/(f*d):0},i.prototype.subset=function(f,d,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,f);case 2:case 3:return c(this,f,d,D);default:throw new SyntaxError("Wrong number of arguments")}};function h(f,d){if(!br(d))throw new TypeError("Invalid index");var D=d.isScalar();if(D)return f.get(d.min());var C=d.size();if(C.length!==f._size.length)throw new te(C.length,f._size.length);var g,N,w,x,y=d.min(),F=d.max();for(g=0,N=f._size.length;g<N;g++)he(y[g],f._size[g]),he(F[g],f._size[g]);var T=f._values,S=f._index,O=f._ptr,U=d.dimension(0),H=d.dimension(1),R=[],L=[];U.forEach(function(j,J){L[j]=J[0],R[j]=!0});var M=T?[]:void 0,G=[],V=[];return H.forEach(function(j){for(V.push(G.length),w=O[j],x=O[j+1];w<x;w++)g=S[w],R[g]===!0&&(G.push(L[g]),M&&M.push(T[w]))}),V.push(G.length),new i({values:M,index:G,ptr:V,size:C,datatype:f._datatype})}function c(f,d,D,C){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var g=d.size(),N=d.isScalar(),w;if(ge(D)?(w=D.size(),D=D.toArray()):w=er(D),N){if(w.length!==0)throw new TypeError("Scalar expected");f.set(d.min(),D,C)}else{if(g.length!==1&&g.length!==2)throw new te(g.length,f._size.length,"<");if(w.length<g.length){for(var x=0,y=0;g[x]===1&&w[x]===1;)x++;for(;g[x]===1;)y++,x++;D=st(D,g.length,y,w)}if(!Mr(g,w))throw new te(g,w,">");if(g.length===1){var F=d.dimension(0);F.forEach(function(O,U){he(O),f.set([O,0],D[U[0]],C)})}else{var T=d.dimension(0),S=d.dimension(1);T.forEach(function(O,U){he(O),S.forEach(function(H,R){he(H),f.set([O,H],D[U[0]][R[0]],C)})})}}return f}i.prototype.get=function(f){if(!le(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new te(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=f[0],D=f[1];he(d,this._size[0]),he(D,this._size[1]);var C=u(d,this._ptr[D],this._ptr[D+1],this._index);return C<this._ptr[D+1]&&this._index[C]===d?this._values[C]:0},i.prototype.set=function(f,d,D){if(!le(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new te(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=f[0],g=f[1],N=this._size[0],w=this._size[1],x=n,y=0;Ve(this._datatype)&&(x=e.find(n,[this._datatype,this._datatype])||n,y=e.convert(0,this._datatype)),(C>N-1||g>w-1)&&(p(this,Math.max(C+1,N),Math.max(g+1,w),D),N=this._size[0],w=this._size[1]),he(C,N),he(g,w);var F=u(C,this._ptr[g],this._ptr[g+1],this._index);return F<this._ptr[g+1]&&this._index[F]===C?x(d,y)?a(F,g,this._values,this._index,this._ptr):this._values[F]=d:s(F,C,g,d,this._values,this._index,this._ptr),this};function u(f,d,D,C){if(D-d===0)return D;for(var g=d;g<D;g++)if(C[g]===f)return g;return d}function a(f,d,D,C,g){D.splice(f,1),C.splice(f,1);for(var N=d+1;N<g.length;N++)g[N]--}function s(f,d,D,C,g,N,w){g.splice(f,0,C),N.splice(f,0,d);for(var x=D+1;x<w.length;x++)w[x]++}i.prototype.resize=function(f,d,D){if(!yr(f))throw new TypeError("Array or Matrix expected");var C=f.valueOf().map(N=>Array.isArray(N)&&N.length===1?N[0]:N);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(N){if(!ue(N)||!oe(N)||N<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xe(C)+")")});var g=D?this.clone():this;return p(g,C[0],C[1],d)};function p(f,d,D,C){var g=C||0,N=n,w=0;Ve(f._datatype)&&(N=e.find(n,[f._datatype,f._datatype])||n,w=e.convert(0,f._datatype),g=e.convert(g,f._datatype));var x=!N(g,w),y=f._size[0],F=f._size[1],T,S,O;if(D>F){for(S=F;S<D;S++)if(f._ptr[S]=f._values.length,x)for(T=0;T<y;T++)f._values.push(g),f._index.push(T);f._ptr[D]=f._values.length}else D<F&&(f._ptr.splice(D+1,F-D),f._values.splice(f._ptr[D],f._values.length),f._index.splice(f._ptr[D],f._index.length));if(F=D,d>y){if(x){var U=0;for(S=0;S<F;S++){f._ptr[S]=f._ptr[S]+U,O=f._ptr[S+1]+U;var H=0;for(T=y;T<d;T++,H++)f._values.splice(O+H,0,g),f._index.splice(O+H,0,T),U++}f._ptr[F]=f._values.length}}else if(d<y){var R=0;for(S=0;S<F;S++){f._ptr[S]=f._ptr[S]-R;var L=f._ptr[S],M=f._ptr[S+1]-R;for(O=L;O<M;O++)T=f._index[O],T>d-1&&(f._values.splice(O,1),f._index.splice(O,1),R++)}f._ptr[S]=f._values.length}return f._size[0]=d,f._size[1]=D,f}i.prototype.reshape=function(f,d){if(!le(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(j){if(!ue(j)||!oe(j)||j<=-2||j===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xe(f)+")")});var D=this._size[0]*this._size[1];f=Wr(f,D);var C=f[0]*f[1];if(D!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=d?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var N=[],w=0;w<g._ptr.length;w++)for(var x=0;x<g._ptr[w+1]-g._ptr[w];x++)N.push(w);for(var y=g._values.slice(),F=g._index.slice(),T=0;T<g._index.length;T++){var S=F[T],O=N[T],U=S*g._size[1]+O;N[T]=U%f[1],F[T]=Math.floor(U/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var H=0;H<g._ptr.length;H++)g._ptr[H]=0;for(var R=0;R<y.length;R++){var L=F[R],M=N[R],G=y[R],V=u(L,g._ptr[M],g._ptr[M+1],g._index);s(V,L,M,G,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var f=new i({values:this._values?pe(this._values):void 0,index:pe(this._index),ptr:pe(this._ptr),size:pe(this._size),datatype:this._datatype});return f},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,C=this._size[0],g=this._size[1],N=Dt(f),w=function(y,F,T){return N===1?f(y):N===2?f(y,[F,T]):f(y,[F,T],D)};return m(this,0,C-1,0,g-1,w,d)};function m(f,d,D,C,g,N,w){var x=[],y=[],F=[],T=n,S=0;Ve(f._datatype)&&(T=e.find(n,[f._datatype,f._datatype])||n,S=e.convert(0,f._datatype));for(var O=function(ne,de,De){ne=N(ne,de,De),T(ne,S)||(x.push(ne),y.push(de))},U=C;U<=g;U++){F.push(x.length);var H=f._ptr[U],R=f._ptr[U+1];if(w)for(var L=H;L<R;L++){var M=f._index[L];M>=d&&M<=D&&O(f._values[L],M-d,U-C)}else{for(var G={},V=H;V<R;V++){var j=f._index[V];G[j]=f._values[V]}for(var J=d;J<=D;J++){var ae=J in G?G[J]:0;O(ae,J-d,U-C)}}}return F.push(x.length),new i({values:x,index:y,ptr:F,size:[D-d+1,g-C+1]})}i.prototype.forEach=function(f,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,C=this._size[0],g=this._size[1],N=0;N<g;N++){var w=this._ptr[N],x=this._ptr[N+1];if(d)for(var y=w;y<x;y++){var F=this._index[y];f(this._values[y],[F,N],D)}else{for(var T={},S=w;S<x;S++){var O=this._index[S];T[O]=this._values[S]}for(var U=0;U<C;U++){var H=U in T?T[U]:0;f(H,[U,N],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],d=0;d<f;d++)for(var D=this._ptr[d],C=this._ptr[d+1],g=D;g<C;g++){var N=this._index[g];yield{value:this._values[g],index:[N,d]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(f,d,D,C,g){var N=C[0],w=C[1],x=[],y,F;for(y=0;y<N;y++)for(x[y]=[],F=0;F<w;F++)x[y][F]=0;for(F=0;F<w;F++)for(var T=D[F],S=D[F+1],O=T;O<S;O++)y=d[O],x[y][F]=f?g?pe(f[O]):f[O]:1;return x}return i.prototype.format=function(f){for(var d=this._size[0],D=this._size[1],C=this.density(),g="Sparse Matrix ["+xe(d,f)+" x "+xe(D,f)+"] density: "+xe(C,f)+`
`,N=0;N<D;N++)for(var w=this._ptr[N],x=this._ptr[N+1],y=w;y<x;y++){var F=this._index[y];g+=`
    (`+xe(F,f)+", "+xe(N,f)+") ==> "+(this._values?xe(this._values[y],f):"X")}return g},i.prototype.toString=function(){return xe(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Fe(f)&&(f=f.toNumber()),!ue(f)||!oe(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var d=f>0?f:0,D=f<0?-f:0,C=this._size[0],g=this._size[1],N=Math.min(C-D,g-d),w=[],x=[],y=[];y[0]=0;for(var F=d;F<g&&w.length<N;F++)for(var T=this._ptr[F],S=this._ptr[F+1],O=T;O<S;O++){var U=this._index[O];if(U===F-d+D){w.push(this._values[O]),x[w.length-1]=U-D;break}}return y.push(w.length),new i({values:w,index:x,ptr:y,size:[N,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,d,D,C,g){if(!le(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(j){if(Fe(j)&&(j=j.toNumber()),!ue(j)||!oe(j)||j<1)throw new Error("Size values must be positive integers");return j}),D){if(Fe(D)&&(D=D.toNumber()),!ue(D)||!oe(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var N=n,w=0;Ve(g)&&(N=e.find(n,[g,g])||n,w=e.convert(0,g));var x=D>0?D:0,y=D<0?-D:0,F=f[0],T=f[1],S=Math.min(F-y,T-x),O;if(le(d)){if(d.length!==S)throw new Error("Invalid value array length");O=function(J){return d[J]}}else if(ge(d)){var U=d.size();if(U.length!==1||U[0]!==S)throw new Error("Invalid matrix length");O=function(J){return d.get([J])}}else O=function(){return d};for(var H=[],R=[],L=[],M=0;M<T;M++){L.push(H.length);var G=M-x;if(G>=0&&G<S){var V=O(G);N(V,w)||(R.push(G+y),H.push(V))}}return L.push(H.length),new i({values:H,index:R,ptr:L,size:[F,T]})},i.prototype.swapRows=function(f,d){if(!ue(f)||!oe(f)||!ue(d)||!oe(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return he(f,this._size[0]),he(d,this._size[0]),i._swapRows(f,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,d,D,C,g){for(var N=C[f],w=C[f+1],x=N;x<w;x++)g(D[x],d[x])},i._swapRows=function(f,d,D,C,g,N){for(var w=0;w<D;w++){var x=N[w],y=N[w+1],F=u(f,x,y,g),T=u(d,x,y,g);if(F<y&&T<y&&g[F]===f&&g[T]===d){if(C){var S=C[F];C[F]=C[T],C[T]=S}continue}if(F<y&&g[F]===f&&(T>=y||g[T]!==d)){var O=C?C[F]:void 0;g.splice(T,0,d),C&&C.splice(T,0,O),g.splice(T<=F?F+1:F,1),C&&C.splice(T<=F?F+1:F,1);continue}if(T<y&&g[T]===d&&(F>=y||g[F]!==f)){var U=C?C[T]:void 0;g.splice(F,0,f),C&&C.splice(F,0,U),g.splice(F<=T?T+1:T,1),C&&C.splice(F<=T?T+1:T,1)}}},i},{isClass:!0});var Zs="number",Vs=["typed"];function Hs(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],t=e[2],i=e[3];return{input:r,radix:n,integerPart:t,fractionalPart:i}}else return null}function js(r){for(var e=parseInt(r.integerPart,r.radix),n=0,t=0;t<r.fractionalPart.length;t++){var i=parseInt(r.fractionalPart[t],r.radix);n+=i/Math.pow(r.radix,t+1)}var o=e+n;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var vn=X(Zs,Vs,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=Hs(i);if(o)return js(o);var l=0,h=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(l=Number(h[2]),i=h[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is no valid number');if(h){if(c>2**l-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=2**(l-1)&&(c=c-2**l)}return c},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(t=>i=>ze(i,t))});return n.fromJSON=function(t){return parseFloat(t.value)},n});var Gs="bignumber",Ws=["typed","BigNumber"],dn=X(Gs,Ws,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var l=o[2],h=n(o[1]),c=new n(2).pow(Number(l));if(h.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new n(2).pow(Number(l)-1);return h.gte(u)?h.sub(c):h}return new n(i)},BigNumber:function(i){return i},Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":e.referToSelf(t=>i=>ze(i,t))})});var Ys="complex",Qs=["typed","Complex"],Dn=X(Ys,Qs,r=>{var{typed:e,Complex:n}=r;return e("complex",{"":function(){return n.ZERO},number:function(i){return new n(i,0)},"number, number":function(i,o){return new n(i,o)},"BigNumber, BigNumber":function(i,o){return new n(i.toNumber(),o.toNumber())},Fraction:function(i){return new n(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return n(i)},null:function(i){return n(0)},Object:function(i){if("re"in i&&"im"in i)return new n(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new n(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(t=>i=>ze(i,t))})});var $s="fraction",Js=["typed","Fraction"],gn=X($s,Js,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,o){return new n(i,o)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},Fraction:function(i){return i},Object:function(i){return new n(i)},"Array | Matrix":e.referToSelf(t=>i=>ze(i,t))})});var wo="matrix",Ks=["typed","Matrix","DenseMatrix","SparseMatrix"],xn=X(wo,Ks,r=>{var{typed:e,Matrix:n,DenseMatrix:t,SparseMatrix:i}=r;return e(wo,{"":function(){return o([])},string:function(h){return o([],h)},"string, string":function(h,c){return o([],h,c)},Array:function(h){return o(h)},Matrix:function(h){return o(h,h.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(l,h,c){if(h==="dense"||h==="default"||h===void 0)return new t(l,c);if(h==="sparse")return new i(l,c);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}});var Ao="unaryMinus",ef=["typed"],En=X(Ao,ef,r=>{var{typed:e}=r;return e(Ao,{number:cn,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>t=>{var i=t.clone();return i.value=e.find(n,i.valueType())(t.value),i}),"Array | Matrix":e.referToSelf(n=>t=>ze(t,n,!0))})});var Co="addScalar",rf=["typed"],yn=X(Co,rf,r=>{var{typed:e}=r;return e(Co,{"number, number":sn,"Complex, Complex":function(t,i){return t.add(i)},"BigNumber, BigNumber":function(t,i){return t.plus(i)},"Fraction, Fraction":function(t,i){return t.add(i)},"Unit, Unit":e.referToSelf(n=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var o=t.clone();return o.value=e.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var tf="matAlgo11xS0s",nf=["typed","equalScalar"],Fo=X(tf,nf,r=>{var{typed:e,equalScalar:n}=r;return function(i,o,l,h){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=s[0],v=s[1],f,d=n,D=0,C=l;typeof p=="string"&&(f=p,d=e.find(n,[f,f]),D=e.convert(0,f),o=e.convert(o,f),C=e.find(l,[f,f]));for(var g=[],N=[],w=[],x=0;x<v;x++){w[x]=N.length;for(var y=a[x],F=a[x+1],T=y;T<F;T++){var S=u[T],O=h?C(o,c[T]):C(c[T],o);d(O,D)||(N.push(S),g.push(O))}}return w[v]=N.length,i.createSparseMatrix({values:g,index:N,ptr:w,size:[m,v],datatype:f})}});var of="matAlgo12xSfs",af=["typed","DenseMatrix"],No=X(of,af,r=>{var{typed:e,DenseMatrix:n}=r;return function(i,o,l,h){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=s[0],v=s[1],f,d=l;typeof p=="string"&&(f=p,o=e.convert(o,f),d=e.find(l,[f,f]));for(var D=[],C=[],g=[],N=0;N<v;N++){for(var w=N+1,x=a[N],y=a[N+1],F=x;F<y;F++){var T=u[F];C[T]=c[F],g[T]=w}for(var S=0;S<m;S++)N===0&&(D[S]=[]),g[S]===w?D[S][N]=h?d(o,C[S]):d(C[S],o):D[S][N]=h?d(o,0):d(0,o)}return new n({data:D,size:[m,v],datatype:f})}});var uf="matAlgo14xDs",sf=["typed"],xt=X(uf,sf,r=>{var{typed:e}=r;return function(i,o,l,h){var c=i._data,u=i._size,a=i._datatype,s,p=l;typeof a=="string"&&(s=a,o=e.convert(o,s),p=e.find(l,[s,s]));var m=u.length>0?n(p,0,u,u[0],c,o,h):[];return i.createDenseMatrix({data:m,size:pe(u),datatype:s})};function n(t,i,o,l,h,c,u){var a=[];if(i===o.length-1)for(var s=0;s<l;s++)a[s]=u?t(c,h[s]):t(h[s],c);else for(var p=0;p<l;p++)a[p]=n(t,i+1,o,o[i+1],h[p],c,u);return a}});var ff="matAlgo01xDSid",cf=["typed"],Et=X(ff,cf,r=>{var{typed:e}=r;return function(t,i,o,l){var h=t._data,c=t._size,u=t._datatype,a=i._values,s=i._index,p=i._ptr,m=i._size,v=i._datatype;if(c.length!==m.length)throw new te(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=c[0],d=c[1],D=typeof u=="string"&&u===v?u:void 0,C=D?e.find(o,[D,D]):o,g,N,w=[];for(g=0;g<f;g++)w[g]=[];var x=[],y=[];for(N=0;N<d;N++){for(var F=N+1,T=p[N],S=p[N+1],O=T;O<S;O++)g=s[O],x[g]=l?C(a[O],h[g][N]):C(h[g][N],a[O]),y[g]=F;for(g=0;g<f;g++)y[g]===F?w[g][N]=x[g]:w[g][N]=h[g][N]}return t.createDenseMatrix({data:w,size:[f,d],datatype:D})}});var lf="matAlgo04xSidSid",pf=["typed","equalScalar"],To=X(lf,pf,r=>{var{typed:e,equalScalar:n}=r;return function(i,o,l){var h=i._values,c=i._index,u=i._ptr,a=i._size,s=i._datatype,p=o._values,m=o._index,v=o._ptr,f=o._size,d=o._datatype;if(a.length!==f.length)throw new te(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");var D=a[0],C=a[1],g,N=n,w=0,x=l;typeof s=="string"&&s===d&&(g=s,N=e.find(n,[g,g]),w=e.convert(0,g),x=e.find(l,[g,g]));var y=h&&p?[]:void 0,F=[],T=[],S=h&&p?[]:void 0,O=h&&p?[]:void 0,U=[],H=[],R,L,M,G,V;for(L=0;L<C;L++){T[L]=F.length;var j=L+1;for(G=u[L],V=u[L+1],M=G;M<V;M++)R=c[M],F.push(R),U[R]=j,S&&(S[R]=h[M]);for(G=v[L],V=v[L+1],M=G;M<V;M++)if(R=m[M],U[R]===j){if(S){var J=x(S[R],p[M]);N(J,w)?U[R]=null:S[R]=J}}else F.push(R),H[R]=j,O&&(O[R]=p[M]);if(S&&O)for(M=T[L];M<F.length;)R=F[M],U[R]===j?(y[M]=S[R],M++):H[R]===j?(y[M]=O[R],M++):F.splice(M,1)}return T[C]=F.length,i.createSparseMatrix({values:y,index:F,ptr:T,size:[D,C],datatype:g})}});var hf="matAlgo10xSids",mf=["typed","DenseMatrix"],yt=X(hf,mf,r=>{var{typed:e,DenseMatrix:n}=r;return function(i,o,l,h){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=s[0],v=s[1],f,d=l;typeof p=="string"&&(f=p,o=e.convert(o,f),d=e.find(l,[f,f]));for(var D=[],C=[],g=[],N=0;N<v;N++){for(var w=N+1,x=a[N],y=a[N+1],F=x;F<y;F++){var T=u[F];C[T]=c[F],g[T]=w}for(var S=0;S<m;S++)N===0&&(D[S]=[]),g[S]===w?D[S][N]=h?d(o,C[S]):d(C[S],o):D[S][N]=o}return new n({data:D,size:[m,v],datatype:f})}});var vf="matAlgo13xDD",df=["typed"],bo=X(vf,df,r=>{var{typed:e}=r;return function(i,o,l){var h=i._data,c=i._size,u=i._datatype,a=o._data,s=o._size,p=o._datatype,m=[];if(c.length!==s.length)throw new te(c.length,s.length);for(var v=0;v<c.length;v++){if(c[v]!==s[v])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");m[v]=c[v]}var f,d=l;typeof u=="string"&&u===p&&(f=u,d=e.find(l,[f,f]));var D=m.length>0?n(d,0,m,m[0],h,a):[];return i.createDenseMatrix({data:D,size:m,datatype:f})};function n(t,i,o,l,h,c){var u=[];if(i===o.length-1)for(var a=0;a<l;a++)u[a]=t(h[a],c[a]);else for(var s=0;s<l;s++)u[s]=n(t,i+1,o,o[i+1],h[s],c[s]);return u}});var Df="matrixAlgorithmSuite",gf=["typed","matrix"],wt=X(Df,gf,r=>{var{typed:e,matrix:n}=r,t=bo({typed:e}),i=xt({typed:e});return function(l){var h=l.elop,c=l.SD||l.DS,u;h?(u={"DenseMatrix, DenseMatrix":(m,v)=>t(m,v,h),"Array, Array":(m,v)=>t(n(m),n(v),h).valueOf(),"Array, DenseMatrix":(m,v)=>t(n(m),v,h),"DenseMatrix, Array":(m,v)=>t(m,n(v),h)},l.SS&&(u["SparseMatrix, SparseMatrix"]=(m,v)=>l.SS(m,v,h,!1)),l.DS&&(u["DenseMatrix, SparseMatrix"]=(m,v)=>l.DS(m,v,h,!1),u["Array, SparseMatrix"]=(m,v)=>l.DS(n(m),v,h,!1)),c&&(u["SparseMatrix, DenseMatrix"]=(m,v)=>c(v,m,h,!0),u["SparseMatrix, Array"]=(m,v)=>c(n(v),m,h,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(v,f)=>t(v,f,m)),"Array, Array":e.referToSelf(m=>(v,f)=>t(n(v),n(f),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(v,f)=>t(n(v),f,m)),"DenseMatrix, Array":e.referToSelf(m=>(v,f)=>t(v,n(f),m))},l.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,f)=>l.SS(v,f,m,!1))),l.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,f)=>l.DS(v,f,m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(v,f)=>l.DS(n(v),f,m,!1))),c&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(v,f)=>c(f,v,m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(v,f)=>c(n(f),v,m,!0))));var a=l.scalar||"any",s=l.Ds||l.Ss;s&&(h?(u["DenseMatrix,"+a]=(m,v)=>i(m,v,h,!1),u[a+", DenseMatrix"]=(m,v)=>i(v,m,h,!0),u["Array,"+a]=(m,v)=>i(n(m),v,h,!1).valueOf(),u[a+", Array"]=(m,v)=>i(n(v),m,h,!0).valueOf()):(u["DenseMatrix,"+a]=e.referToSelf(m=>(v,f)=>i(v,f,m,!1)),u[a+", DenseMatrix"]=e.referToSelf(m=>(v,f)=>i(f,v,m,!0)),u["Array,"+a]=e.referToSelf(m=>(v,f)=>i(n(v),f,m,!1).valueOf()),u[a+", Array"]=e.referToSelf(m=>(v,f)=>i(n(f),v,m,!0).valueOf())));var p=l.sS!==void 0?l.sS:l.Ss;return h?(l.Ss&&(u["SparseMatrix,"+a]=(m,v)=>l.Ss(m,v,h,!1)),p&&(u[a+", SparseMatrix"]=(m,v)=>p(v,m,h,!0))):(l.Ss&&(u["SparseMatrix,"+a]=e.referToSelf(m=>(v,f)=>l.Ss(v,f,m,!1))),p&&(u[a+", SparseMatrix"]=e.referToSelf(m=>(v,f)=>p(f,v,m,!0)))),h&&h.signatures&&Fi(u,h.signatures),u}});var xf="matAlgo03xDSf",Ef=["typed"],Mo=X(xf,Ef,r=>{var{typed:e}=r;return function(t,i,o,l){var h=t._data,c=t._size,u=t._datatype,a=i._values,s=i._index,p=i._ptr,m=i._size,v=i._datatype;if(c.length!==m.length)throw new te(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=c[0],d=c[1],D,C=0,g=o;typeof u=="string"&&u===v&&(D=u,C=e.convert(0,D),g=e.find(o,[D,D]));for(var N=[],w=0;w<f;w++)N[w]=[];for(var x=[],y=[],F=0;F<d;F++){for(var T=F+1,S=p[F],O=p[F+1],U=S;U<O;U++){var H=s[U];x[H]=l?g(a[U],h[H][F]):g(h[H][F],a[U]),y[H]=T}for(var R=0;R<f;R++)y[R]===T?N[R][F]=x[R]:N[R][F]=l?g(C,h[R][F]):g(h[R][F],C)}return t.createDenseMatrix({data:N,size:[f,d],datatype:D})}});var yf="matAlgo05xSfSf",wf=["typed","equalScalar"],So=X(yf,wf,r=>{var{typed:e,equalScalar:n}=r;return function(i,o,l){var h=i._values,c=i._index,u=i._ptr,a=i._size,s=i._datatype,p=o._values,m=o._index,v=o._ptr,f=o._size,d=o._datatype;if(a.length!==f.length)throw new te(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");var D=a[0],C=a[1],g,N=n,w=0,x=l;typeof s=="string"&&s===d&&(g=s,N=e.find(n,[g,g]),w=e.convert(0,g),x=e.find(l,[g,g]));var y=h&&p?[]:void 0,F=[],T=[],S=y?[]:void 0,O=y?[]:void 0,U=[],H=[],R,L,M,G;for(L=0;L<C;L++){T[L]=F.length;var V=L+1;for(M=u[L],G=u[L+1];M<G;M++)R=c[M],F.push(R),U[R]=V,S&&(S[R]=h[M]);for(M=v[L],G=v[L+1];M<G;M++)R=m[M],U[R]!==V&&F.push(R),H[R]=V,O&&(O[R]=p[M]);if(y)for(M=T[L];M<F.length;){R=F[M];var j=U[R],J=H[R];if(j===V||J===V){var ae=j===V?S[R]:w,ie=J===V?O[R]:w,ne=x(ae,ie);N(ne,w)?F.splice(M,1):(y.push(ne),M++)}}}return T[C]=F.length,i.createSparseMatrix({values:y,index:F,ptr:T,size:[D,C],datatype:g})}});var Af="multiplyScalar",Cf=["typed"],wn=X(Af,Cf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":fn,"Complex, Complex":function(t,i){return t.mul(i)},"BigNumber, BigNumber":function(t,i){return t.times(i)},"Fraction, Fraction":function(t,i){return t.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,t)=>t.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,t)=>n.multiply(t)})});var _o="multiply",Ff=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],An=X(_o,Ff,r=>{var{typed:e,matrix:n,addScalar:t,multiplyScalar:i,equalScalar:o,dot:l}=r,h=Fo({typed:e,equalScalar:o}),c=xt({typed:e});function u(w,x){switch(w.length){case 1:switch(x.length){case 1:if(w[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(w[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+x[0]+")");break;case 2:if(w[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function a(w,x,y){if(y===0)throw new Error("Cannot multiply two empty vectors");return l(w,x)}function s(w,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(w,x)}function p(w,x){var y=w._data,F=w._size,T=w._datatype,S=x._data,O=x._size,U=x._datatype,H=F[0],R=O[1],L,M=t,G=i;T&&U&&T===U&&typeof T=="string"&&(L=T,M=e.find(t,[L,L]),G=e.find(i,[L,L]));for(var V=[],j=0;j<R;j++){for(var J=G(y[0],S[0][j]),ae=1;ae<H;ae++)J=M(J,G(y[ae],S[ae][j]));V[j]=J}return w.createDenseMatrix({data:V,size:[R],datatype:L})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":C}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":N});function f(w,x){var y=w._data,F=w._size,T=w._datatype,S=x._data,O=x._datatype,U=F[0],H=F[1],R,L=t,M=i;T&&O&&T===O&&typeof T=="string"&&(R=T,L=e.find(t,[R,R]),M=e.find(i,[R,R]));for(var G=[],V=0;V<U;V++){for(var j=y[V],J=M(j[0],S[0]),ae=1;ae<H;ae++)J=L(J,M(j[ae],S[ae]));G[V]=J}return w.createDenseMatrix({data:G,size:[U],datatype:R})}function d(w,x){var y=w._data,F=w._size,T=w._datatype,S=x._data,O=x._size,U=x._datatype,H=F[0],R=F[1],L=O[1],M,G=t,V=i;T&&U&&T===U&&typeof T=="string"&&(M=T,G=e.find(t,[M,M]),V=e.find(i,[M,M]));for(var j=[],J=0;J<H;J++){var ae=y[J];j[J]=[];for(var ie=0;ie<L;ie++){for(var ne=V(ae[0],S[0][ie]),de=1;de<R;de++)ne=G(ne,V(ae[de],S[de][ie]));j[J][ie]=ne}}return w.createDenseMatrix({data:j,size:[H,L],datatype:M})}function D(w,x){var y=w._data,F=w._size,T=w._datatype,S=x._values,O=x._index,U=x._ptr,H=x._size,R=x._datatype;if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=F[0],M=H[1],G,V=t,j=i,J=o,ae=0;T&&R&&T===R&&typeof T=="string"&&(G=T,V=e.find(t,[G,G]),j=e.find(i,[G,G]),J=e.find(o,[G,G]),ae=e.convert(0,G));for(var ie=[],ne=[],de=[],De=x.createSparseMatrix({values:ie,index:ne,ptr:de,size:[L,M],datatype:G}),ye=0;ye<M;ye++){de[ye]=ne.length;var me=U[ye],Ue=U[ye+1];if(Ue>me)for(var ve=0,ce=0;ce<L;ce++){for(var Ye=ce+1,Me=void 0,se=me;se<Ue;se++){var Se=O[se];ve!==Ye?(Me=j(y[ce][Se],S[se]),ve=Ye):Me=V(Me,j(y[ce][Se],S[se]))}ve===Ye&&!J(Me,ae)&&(ne.push(ce),ie.push(Me))}}return de[M]=ne.length,De}function C(w,x){var y=w._values,F=w._index,T=w._ptr,S=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=x._data,U=x._datatype,H=w._size[0],R=x._size[0],L=[],M=[],G=[],V,j=t,J=i,ae=o,ie=0;S&&U&&S===U&&typeof S=="string"&&(V=S,j=e.find(t,[V,V]),J=e.find(i,[V,V]),ae=e.find(o,[V,V]),ie=e.convert(0,V));var ne=[],de=[];G[0]=0;for(var De=0;De<R;De++){var ye=O[De];if(!ae(ye,ie))for(var me=T[De],Ue=T[De+1],ve=me;ve<Ue;ve++){var ce=F[ve];de[ce]?ne[ce]=j(ne[ce],J(ye,y[ve])):(de[ce]=!0,M.push(ce),ne[ce]=J(ye,y[ve]))}}for(var Ye=M.length,Me=0;Me<Ye;Me++){var se=M[Me];L[Me]=ne[se]}return G[1]=M.length,w.createSparseMatrix({values:L,index:M,ptr:G,size:[H,1],datatype:V})}function g(w,x){var y=w._values,F=w._index,T=w._ptr,S=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=x._data,U=x._datatype,H=w._size[0],R=x._size[0],L=x._size[1],M,G=t,V=i,j=o,J=0;S&&U&&S===U&&typeof S=="string"&&(M=S,G=e.find(t,[M,M]),V=e.find(i,[M,M]),j=e.find(o,[M,M]),J=e.convert(0,M));for(var ae=[],ie=[],ne=[],de=w.createSparseMatrix({values:ae,index:ie,ptr:ne,size:[H,L],datatype:M}),De=[],ye=[],me=0;me<L;me++){ne[me]=ie.length;for(var Ue=me+1,ve=0;ve<R;ve++){var ce=O[ve][me];if(!j(ce,J))for(var Ye=T[ve],Me=T[ve+1],se=Ye;se<Me;se++){var Se=F[se];ye[Se]!==Ue?(ye[Se]=Ue,ie.push(Se),De[Se]=V(ce,y[se])):De[Se]=G(De[Se],V(ce,y[se]))}}for(var Je=ne[me],cr=ie.length,ar=Je;ar<cr;ar++){var Nr=ie[ar];ae[ar]=De[Nr]}}return ne[L]=ie.length,de}function N(w,x){var y=w._values,F=w._index,T=w._ptr,S=w._datatype,O=x._values,U=x._index,H=x._ptr,R=x._datatype,L=w._size[0],M=x._size[1],G=y&&O,V,j=t,J=i;S&&R&&S===R&&typeof S=="string"&&(V=S,j=e.find(t,[V,V]),J=e.find(i,[V,V]));for(var ae=G?[]:void 0,ie=[],ne=[],de=w.createSparseMatrix({values:ae,index:ie,ptr:ne,size:[L,M],datatype:V}),De=G?[]:void 0,ye=[],me,Ue,ve,ce,Ye,Me,se,Se,Je=0;Je<M;Je++){ne[Je]=ie.length;var cr=Je+1;for(Ye=H[Je],Me=H[Je+1],ce=Ye;ce<Me;ce++)if(Se=U[ce],G)for(Ue=T[Se],ve=T[Se+1],me=Ue;me<ve;me++)se=F[me],ye[se]!==cr?(ye[se]=cr,ie.push(se),De[se]=J(O[ce],y[me])):De[se]=j(De[se],J(O[ce],y[me]));else for(Ue=T[Se],ve=T[Se+1],me=Ue;me<ve;me++)se=F[me],ye[se]!==cr&&(ye[se]=cr,ie.push(se));if(G)for(var ar=ne[Je],Nr=ie.length,Ke=ar;Ke<Nr;Ke++){var qr=ie[Ke];ae[Ke]=De[qr]}}return ne[M]=ie.length,de}return e(_o,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(x,y)=>{u(er(x),er(y));var F=w(n(x),n(y));return ge(F)?F.valueOf():F}),"Matrix, Matrix":function(x,y){var F=x.size(),T=y.size();return u(F,T),F.length===1?T.length===1?a(x,y,F[0]):s(x,y):T.length===1?m(x,y):v(x,y)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(x,y)=>w(x,n(y))),"Array, Matrix":e.referToSelf(w=>(x,y)=>w(n(x,y.storage()),y)),"SparseMatrix, any":function(x,y){return h(x,y,i,!1)},"DenseMatrix, any":function(x,y){return c(x,y,i,!1)},"any, SparseMatrix":function(x,y){return h(y,x,i,!0)},"any, DenseMatrix":function(x,y){return c(y,x,i,!0)},"Array, any":function(x,y){return c(n(x),y,i,!1).valueOf()},"any, Array":function(x,y){return c(n(y),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(x,y,F)=>{for(var T=w(x,y),S=0;S<F.length;S++)T=w(T,F[S]);return T})})});var Bo="subtract",Nf=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Cn=X(Bo,Nf,r=>{var{typed:e,matrix:n,equalScalar:t,addScalar:i,unaryMinus:o,DenseMatrix:l}=r,h=Et({typed:e}),c=Mo({typed:e}),u=So({typed:e,equalScalar:t}),a=yt({typed:e,DenseMatrix:l}),s=No({typed:e,DenseMatrix:l}),p=wt({typed:e,matrix:n});return e(Bo,{"number, number":(m,v)=>m-v,"Complex, Complex":(m,v)=>m.sub(v),"BigNumber, BigNumber":(m,v)=>m.minus(v),"Fraction, Fraction":(m,v)=>m.sub(v),"Unit, Unit":e.referToSelf(m=>(v,f)=>{if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(f.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(f))throw new Error("Units do not match");var d=v.clone();return d.value=e.find(m,[d.valueType(),f.valueType()])(d.value,f.value),d.fixPrefix=!1,d})},p({SS:u,DS:h,SD:c,Ss:s,sS:a}))});var Io="conj",Tf=["typed"],Fn=X(Io,Tf,r=>{var{typed:e}=r;return e(Io,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>t=>ze(t,n))})});function Oo(){throw new Error('No "bignumber" implementation available')}function Lo(){throw new Error('No "fraction" implementation available')}function Ro(){throw new Error('No "matrix" implementation available')}var ko="size",bf=["typed","config","?matrix"],Nn=X(ko,bf,r=>{var{typed:e,config:n,matrix:t}=r;return e(ko,{Matrix:function(o){return o.create(o.size())},Array:er,string:function(o){return n.matrix==="Array"?[o.length]:t([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:t?t([]):Ro()}})});var Po="zeros",Mf=["typed","config","matrix","BigNumber"],Tn=X(Po,Mf,r=>{var{typed:e,config:n,matrix:t,BigNumber:i}=r;return e(Po,{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var a=u[u.length-1];if(typeof a=="string"){var s=u.pop();return o(u,s)}else return n.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var a=u.storage();return o(u.valueOf(),a)},"Array | Matrix, string":function(u,a){return o(u.valueOf(),a)}});function o(c,u){var a=l(c),s=a?new i(0):0;if(h(c),u){var p=t(u);return c.length>0?p.resize(c,s):p}else{var m=[];return c.length>0?Gr(m,c,s):m}}function l(c){var u=!1;return c.forEach(function(a,s,p){Fe(a)&&(u=!0,p[s]=a.toNumber())}),u}function h(c){c.forEach(function(u){if(typeof u!="number"||!oe(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});var Sf="numeric",_f=["number","?bignumber","?fraction"],bn=X(Sf,_f,r=>{var{number:e,bignumber:n,fraction:t}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:l=>e(l),BigNumber:n?l=>n(l):Oo,Fraction:t?l=>t(l):Lo};return function(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=nr(h);if(!(a in i))throw new TypeError("Cannot convert "+h+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+h+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===a?h:o[c](h)}});var zo="divideScalar",Bf=["typed","numeric"],Mn=X(zo,Bf,r=>{var{typed:e,numeric:n}=r;return e(zo,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,i)=>t.divide(i),"number | Fraction | Complex | BigNumber, Unit":(t,i)=>i.divideInto(t)})});var qo="add",If=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],Sn=X(qo,If,r=>{var{typed:e,matrix:n,addScalar:t,equalScalar:i,DenseMatrix:o,SparseMatrix:l}=r,h=Et({typed:e}),c=To({typed:e,equalScalar:i}),u=yt({typed:e,DenseMatrix:o}),a=wt({typed:e,matrix:n});return e(qo,{"any, any":t,"any, any, ...any":e.referToSelf(s=>(p,m,v)=>{for(var f=s(p,m),d=0;d<v.length;d++)f=s(f,v[d]);return f})},a({elop:t,DS:h,SS:c,Ss:u}))});var Uo="dot",Of=["typed","addScalar","multiplyScalar","conj","size"],_n=X(Uo,Of,r=>{var{typed:e,addScalar:n,multiplyScalar:t,conj:i,size:o}=r;return e(Uo,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":c});function l(a,s){var p=u(a),m=u(s),v,f;if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)f=m[0];else if(m.length===2&&m[1]===1)f=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(v!==f)throw new RangeError("Vectors must have equal length ("+v+" != "+f+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function h(a,s){var p=l(a,s),m=ge(a)?a._data:a,v=ge(a)?a._datatype:void 0,f=ge(s)?s._data:s,d=ge(s)?s._datatype:void 0,D=u(a).length===2,C=u(s).length===2,g=n,N=t;if(v&&d&&v===d&&typeof v=="string"){var w=v;g=e.find(n,[w,w]),N=e.find(t,[w,w])}if(!D&&!C){for(var x=N(i(m[0]),f[0]),y=1;y<p;y++)x=g(x,N(i(m[y]),f[y]));return x}if(!D&&C){for(var F=N(i(m[0]),f[0][0]),T=1;T<p;T++)F=g(F,N(i(m[T]),f[T][0]));return F}if(D&&!C){for(var S=N(i(m[0][0]),f[0]),O=1;O<p;O++)S=g(S,N(i(m[O][0]),f[O]));return S}if(D&&C){for(var U=N(i(m[0][0]),f[0][0]),H=1;H<p;H++)U=g(U,N(i(m[H][0]),f[H][0]));return U}}function c(a,s){l(a,s);for(var p=a._index,m=a._values,v=s._index,f=s._values,d=0,D=n,C=t,g=0,N=0;g<p.length&&N<v.length;){var w=p[g],x=v[N];if(w<x){g++;continue}if(w>x){N++;continue}w===x&&(d=D(d,C(m[g],f[N])),g++,N++)}return d}function u(a){return ge(a)?a.size():o(a)}});var Xo="det",Lf=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],Bn=X(Xo,Lf,r=>{var{typed:e,matrix:n,subtract:t,multiply:i,divideScalar:o,isZero:l,unaryMinus:h}=r;return e(Xo,{any:function(a){return pe(a)},"Array | Matrix":function(a){var s;switch(ge(a)?s=a.size():Array.isArray(a)?(a=n(a),s=a.size()):s=[],s.length){case 0:return pe(a);case 1:if(s[0]===1)return pe(a.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+xe(s)+")");case 2:{var p=s[0],m=s[1];if(p===m)return c(a.clone().valueOf(),p,m);throw new RangeError("Matrix must be square (size: "+xe(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xe(s)+")")}}});function c(u,a,s){if(a===1)return pe(u[0][0]);if(a===2)return t(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,m=new Array(a).fill(0).map((y,F)=>F),v=0;v<a;v++){var f=m[v];if(l(u[f][v])){var d=void 0;for(d=v+1;d<a;d++)if(!l(u[m[d]][v])){f=m[d],m[d]=m[v],m[v]=f,p=!p;break}if(d===a)return u[f][v]}for(var D=u[f][v],C=v===0?1:u[m[v-1]][v-1],g=v+1;g<a;g++)for(var N=m[g],w=v+1;w<a;w++)u[N][w]=o(t(i(u[N][w],D),i(u[N][v],u[f][w])),C)}var x=u[m[a-1]][a-1];return p?h(x):x}});var In=en({config:_r}),Zo=tn({});var Vo=on({});var On=an({});var At=un({Matrix:On});var Ee=jt({BigNumber:In,Complex:Zo,DenseMatrix:At,Fraction:Vo});var Ct=yn({typed:Ee});var Rf=dn({BigNumber:In,typed:Ee});var Ho=Dn({Complex:Zo,typed:Ee}),kf=Fn({typed:Ee});var Ft=hn({config:_r,typed:Ee});var Pf=pn({typed:Ee});var jo=wn({typed:Ee});var zf=vn({typed:Ee});var Go=mn({Matrix:On,equalScalar:Ft,typed:Ee});var Wo=En({typed:Ee});var qf=gn({Fraction:Vo,typed:Ee});var kr=xn({DenseMatrix:At,Matrix:On,SparseMatrix:Go,typed:Ee});var Uf=bn({bignumber:Rf,fraction:qf,number:zf});var Xf=Nn({matrix:kr,config:_r,typed:Ee});var Nt=Cn({DenseMatrix:At,addScalar:Ct,equalScalar:Ft,matrix:kr,typed:Ee,unaryMinus:Wo});var Yo=Tn({BigNumber:In,config:_r,matrix:kr,typed:Ee});var Zf=Mn({numeric:Uf,typed:Ee});var Ln=Sn({DenseMatrix:At,SparseMatrix:Go,addScalar:Ct,equalScalar:Ft,matrix:kr,typed:Ee});var Vf=_n({addScalar:Ct,conj:kf,multiplyScalar:jo,size:Xf,typed:Ee});var Rn=An({addScalar:Ct,dot:Vf,equalScalar:Ft,matrix:kr,multiplyScalar:jo,typed:Ee});var Qo=Bn({divideScalar:Zf,isZero:Pf,matrix:kr,multiply:Rn,subtract:Nt,typed:Ee,unaryMinus:Wo});var na=Vr(zn());var fr=class{constructor(e="INT"){this.base="INT";this.base=e}clone(){let e=new fr;return e.base=this.base,e}toString(){return""+this.base}},qe=class{constructor(e=""){this.str="";this.str=e}},et=class{constructor(){this.type=new fr;this.code=new qe;this.sym=null}};var Fr=class{constructor(e,n,t,i,o=[]){this.id="";this.kind="LOCAL";this.type=new fr;this.scope=0;this.runtimeId="";this.runtimeExceptions=!1;this.subSymbols=[];this.functionOverloadSuccessor=null;this.value=null;this.id=e,this.kind=n,this.type=t,this.scope=i,this.subSymbols=o}toString(){let e="SYM";if(e+=',id="'+this.id+'"',e+=',kind="'+this.kind+'"',e+=',type="'+this.type.toString()+'"',e+=',scope="'+this.scope+'"',e+=',runtimeId="'+this.runtimeId+'"',this.subSymbols.length>0){e+=`,subSymbols=[
`;for(let n=0;n<this.subSymbols.length;n++)e+="  "+this.subSymbols[n].toString();e+="]"}return e+=`
`,e}};function qn(r,e){if(e==="BOOL")return"BOOL";if(e==="INT")return"INT";if(e==="REAL")return"REAL";if(e==="COMPLEX")return"COMPLEX";if(e==="MATRIX")return"MATRIX";r.error("unknown base type "+e)}function ia(r){let e=new na.Lexer;e.configureSingleLineComments("#"),e.configureMultiLineComments("",""),e.enableEmitNewlines(!1),e.enableEmitIndentation(!1),e.enableBackslashLineBreaks(!1),e.setTerminals(["->"]),e.pushSource("PROTOTYPES",r);let n=[];for(;e.isNotEND();){let t=e.ID(),i=!1;e.isTER("?")&&(e.next(),i=!0);let o=[],l=[];if(e.isTER("<")){e.next();let v=0;for(;e.isNotTER(">");)v>0&&e.TER(","),o.push(e.ID()),e.TER(":"),l.push(qn(e,e.ID())),v++;e.TER(">")}let h=[],c=[];e.TER("(");let u=0;for(;e.isNotTER(")");)u>0&&e.TER(","),h.push(e.ID()),e.TER(":"),c.push(qn(e,e.ID())),u++;e.TER(")"),e.TER(":");let a=qn(e,e.ID());e.TER("->");let s=e.ID();e.TER(";");let p=[];for(let v=0;v<o.length;v++){let f=new Fr(o[v],"DIMENSION",new fr(l[v]),1,[]);p.push(f)}for(let v=0;v<h.length;v++){let f=new Fr(h[v],"PARAMETER",new fr(c[v]),1,[]);p.push(f)}let m=new Fr(t,"FUNCTION",new fr(a),0,p);m.runtimeId=s,m.runtimeExceptions=i;for(let v=n.length-1;v>=0;v--)if(n[v].id===t){n[v].functionOverloadSuccessor=m;break}n.push(m)}return n}var be=class{constructor(e,n){this.rows=1;this.cols=1;this.values=[];this.rows=e,this.cols=n,this.values=new Array(e*n).fill(0)}getRows(){return this.rows}getCols(){return this.cols}setValue(e,n,t){this.values[e*this.cols+n]=t}getValue(e,n){return this.values[e*this.cols+n]}clone(){let e=new be(this.rows,this.cols);return e.values=[...this.values],e}toString(){let e="[";for(let n=0;n<this.rows;n++){n>0&&(e+=","),e+="[";for(let t=0;t<this.cols;t++)t>0&&(e+=","),e+=this.getValue(n,t);e+="]"}return e+="]",e}static mathjs2matrix(e){let n=new be(e.size()[0],e.size()[1]),t=n.getRows(),i=n.getCols();for(let o=0;o<t;o++)for(let l=0;l<i;l++)n.setValue(o,l,e.get([o,l]));return n}static matrix2mathjs(e){let n=Yo(e.rows,e.cols);for(let t=0;t<e.rows;t++)for(let i=0;i<e.cols;i++)n.set([t,i],e.getValue(t,i));return n}};var Dr=class{constructor(e=0,n=0){this.real=e,this.imag=n}static mathjs2complex(e){return new Dr(e.re,e.im)}static complex2mathjs(e){return Ho(e.real,e.imag)}toMathJs(){return Dr.complex2mathjs(this)}};var gr=class extends Error{constructor(e,n){super(""+e+":"+n),this.name="RunError"}},St=class{interpret(e,n){e+="return [";let t=0;for(let o of n)t>0&&(e+=", "),e+=o.id,t++;e+="];";let i=new Function("runtime",e);try{let o=i(this);for(let l=0;l<n.length;l++){let h=n[l];switch(h.type.base){case"BOOL":h.value=o[l];break;case"INT":case"REAL":h.value=o[l];break;case"MATRIX":h.value=o[l];break;default:throw new gr("-1","interpret(..): unimplemented type "+h.type)}}}catch(o){throw new gr("-1","interpret(..) failed: "+o)}}_add(e,n){return e+n}_addComplex(e,n){return Dr.mathjs2complex(Ln(e.toMathJs(),n.toMathJs()))}_unaryMinus(e){return-e}_unaryNot(e){return!e}_sub(e,n){return e-n}_subComplex(e,n){return Dr.mathjs2complex(Nt(e.toMathJs(),n.toMathJs()))}_mul(e,n){return e*n}_div(e,n){return e/n}_pow(e,n){return Math.pow(e,n)}_addMatrices(e,n,t){let i;try{i=Ln(be.matrix2mathjs(e),be.matrix2mathjs(n))}catch{throw new gr(t,"dimensions do not match")}return be.mathjs2matrix(i)}_subMatrices(e,n,t){let i;try{i=Nt(be.matrix2mathjs(e),be.matrix2mathjs(n))}catch{throw new gr(t,"dimensions do not match")}return be.mathjs2matrix(i)}_mulMatrices(e,n,t){let i;try{i=Rn(be.matrix2mathjs(e),be.matrix2mathjs(n))}catch{throw new gr(t,"dimensions do not match")}return be.mathjs2matrix(i)}_randIntMax(e){return Math.floor(Math.random()*e)}_randIntMinMax(e,n){return Math.floor(Math.random()*(n-e)+e)}_randIntMinMaxZ(e,n){let t=0;for(;t==0;)t=this._randIntMinMax(e,n);return t}_randMatrix(e,n,t,i){let o=new be(e,n);for(let l=0;l<e;l++)for(let h=0;h<n;h++)o.setValue(l,h,this._randIntMinMax(t,i));return o}_randZMatrix(e,n,t,i){let o=new be(e,n);for(let l=0;l<e;l++)for(let h=0;h<n;h++)o.setValue(l,h,this._randIntMinMaxZ(t,i));return o}_det(e,n){try{return Qo(be.matrix2mathjs(e))}catch{throw new gr(n,"matrix is not square")}}_sin(e){return Math.sin(e)}_cos(e){return Math.cos(e)}_tan(e){return Math.tan(e)}_asin(e){return Math.asin(e)}_acos(e){return Math.acos(e)}_atan(e){return Math.atan(e)}_exp(e){return Math.exp(e)}_sqrt(e){return Math.sqrt(e)}};var ua=Vr(zn());var aa=`

  _add(x:INT,y:INT):INT -> _add;
  _add(x:INT,y:REAL):REAL -> _add;
  _add(x:REAL,y:INT):REAL -> _add;
  _add(x:REAL,y:REAL):REAL -> _add;
  _add(x:COMPLEX,y:COMPLEX):COMPLEX -> _addComplex;
  _add?(x:MATRIX,y:MATRIX):MATRIX -> _addMatrices;

  _sub(x:INT,y:INT):INT -> _sub;
  _sub(X:INT,y:REAL):REAL -> _sub;
  _sub(x:REAL,y:INT):REAL -> _sub;
  _sub(x:REAL,y:REAL):REAL -> _sub;
  _sub(x:COMPLEX,y:COMPLEX):COMPLEX -> _subComplex;
  _sub?(x:MATRIX,y:MATRIX):MATRIX -> _subMatrices;

  _unaryMinus(x:INT):INT -> _unaryMinus;
  _unaryMinus(x:REAL):REAL -> _unaryMinus;

  _unaryNot(x:BOOL):BOOL -> _unaryNot;

  _mul(x:INT,y:INT):INT -> _mul;
  _mul(x:INT,y:REAL):REAL -> _mul;
  _mul(x:REAL,y:INT):REAL -> _mul;
  _mul(x:REAL,y:REAL):REAL -> _mul;
  _mul?(x:MATRIX,y:MATRIX):MATRIX -> _mulMatrices;

  _div(x:INT,y:INT):REAL -> _div;
  _div(x:INT,y:REAL):REAL -> _div;
  _div(x:REAL,y:INT):REAL -> _div;
  _div(x:REAL,y:REAL):REAL -> _div;

  _pow(x:INT,y:INT):INT -> _pow;
  _pow(x:INT,y:REAL):REAL -> _pow;
  _pow(x:REAL,y:INT):REAL -> _pow;
  _pow(x:REAL,y:REAL):REAL -> _pow;

  rand(max:INT): INT -> _randIntMax;
  rand(min:INT,max:INT): INT -> _randIntMinMax;
  randZ(max:INT): INT -> _randZIntMax;
  randZ(min:INT,max:INT): INT -> _randZIntMinMax;
  rand<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> _randMatrix;
  randZ<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> _randZMatrix;

  abs(x:INT):INT -> _absInt;
  abs(x:REAL):REAL -> _absReal;
  abs(x:COMPLEX): REAL -> _absComplex;
  # calculates the absolute value
  exp(x:INT):REAL -> _exp;
  exp(x:REAL):REAL -> _exp;
  exp(x:COMPLEX):COMPLEX -> _expComplex;
  sqrt(x:REAL): REAL -> _sqrt;
  sqrt(x:COMPLEX): COMPLEX -> _sqrtComplex;
  sin(x:INT): REAL -> _sin;
  sin(x:REAL): REAL -> _sin;
  cos(x:INT): REAL -> _cos;
  cos(x:REAL): REAL -> _cos;
  tan(x:INT): REAL -> _tan;
  tan(x:REAL): REAL -> _tan;
  asin(x:INT): REAL -> _asin;
  asin(x:REAL): REAL -> _asin;
  acos(x:INT): REAL -> _acos;
  acos(x:REAL): REAL -> _acos;
  atan(x:INT): REAL -> _atan;
  atan(x:REAL): REAL -> _atan;
  floor(x:INT): INT -> _floor;
  floor(x:REAL): INT -> _floor;
  ceil(x:INT): INT -> _ceil;
  ceil(x:REAL): INT -> _ceil;
  round(x:INT): INT -> _round;
  round(x:REAL): INT -> _round;
  sign(x:INT): INT -> _sign;
  sign(x:REAL): INT -> _sign;

  binomial(n:INT,k:INT): INT -> _binomial;
  min(x:MATRIX): REAL -> _minMatrix;
  max(x:MATRIX): REAL -> _maxMatrix;
  det?(x:MATRIX): REAL -> _det;
`;var _t=class{constructor(){this.lexer=null;this.symTab=[];this.loopLevel=0;this.scope=0}getSymbol(e){for(let n of this.symTab)if(n.id===e)return n;return null}getLocalSymbols(){let e=[];for(let n of this.symTab)n.kind==="LOCAL"&&e.push(n);return e}parse(e){return this.loopLevel=0,this.scope=0,this.symTab=ia(aa),this.lexer=new ua.Lexer,this.lexer.configureSingleLineComments("//"),this.lexer.configureMultiLineComments("/*","*/"),this.lexer.enableEmitNewlines(!1),this.lexer.enableEmitIndentation(!1),this.lexer.enableBackslashLineBreaks(!1),this.lexer.pushSource("FILE",e),this.lexer.setTerminals(["&&","||","==","!=",">=","<=","++","--"]),this.parseProgram().str}parseProgram(){let e=new qe;for(;this.lexer.isNotEND();){let n=this.parseStatement();e.str+=n.str}return e}parseStatement(){if(this.lexer.isTER("let"))return this.parseDeclaration();if(this.lexer.isTER("if"))return this.parseIf();if(this.lexer.isTER("do"))return this.parseDo();if(this.lexer.isTER("while"))return this.parseWhile();if(this.lexer.isTER("function"))return this.parseFunction();if(this.lexer.isTER("return"))return this.parseReturn();if(this.lexer.isTER("break"))return this.parseBreak();if(this.lexer.isTER("continue"))return this.parseContinue();{let e=this.parseExpression();return this.lexer.EOS(),new qe(e.code.str+";")}}parseDeclaration(){let e=new qe;this.lexer.TER("let");let n=[];if(n.push(this.lexer.ID()),this.lexer.isTER("(")){let t=n[0];for(this.lexer.next(),this.lexer.ID();this.lexer.isTER(",");)this.lexer.next(),this.lexer.ID();this.lexer.TER(")"),this.lexer.TER("="),this.parseExpression(),this.lexer.EOS()}else{for(;this.lexer.isTER(":");)this.lexer.next(),n.push(this.lexer.ID());this.lexer.TER("=");let t=this.parseExpression();for(let i of n){let o=new Fr(i,"LOCAL",t.type,this.scope,[]);this.symTab.push(o),e.str+="let "+i+" = "+t.code.str,e.str+=";"}this.lexer.EOS()}return e}parseExpression(){let e=this.parseOr();for(;this.lexer.isTER("=");){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseOr();(e.type.base=="INT"||e.type.base=="REAL")&&(t.type.base=="INT"||t.type.base=="REAL")?(e.type.base="INT",e.code.str=e.code.str+" "+n+" "+t.code.str):this.lexer.errorTypesInBinaryOperation(n,e.type.base,t.type.base)}return e}parseOr(){let e=this.parseAnd();for(;this.lexer.isTER("||");){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseAnd();e.type.base=="BOOL"&&t.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+n+" "+t.code.str):this.lexer.errorTypesInBinaryOperation(n,e.type.base,t.type.base)}return e}parseAnd(){let e=this.parseEqual();for(;this.lexer.isTER("&&");){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseEqual();e.type.base=="BOOL"&&t.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+n+" "+t.code.str):this.lexer.errorTypesInBinaryOperation(n,e.type.base,t.type.base)}return e}parseEqual(){let e=this.parseRelational();if(this.lexer.isTER("==")||this.lexer.isTER("!=")){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseRelational();e.type.base=="INT"&&t.type.base=="INT"?(e.type.base="BOOL",e.code.str=e.code.str+" "+n+" "+t.code.str):this.lexer.errorTypesInBinaryOperation(n,e.type.base,t.type.base)}return e}parseRelational(){let e=this.parseAdd();if(this.lexer.isTER("<=")||this.lexer.isTER(">=")||this.lexer.isTER("<")||this.lexer.isTER(">")){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseAdd();(e.type.base=="INT"||e.type.base=="REAL")&&(t.type.base=="INT"||t.type.base=="REAL")?(e.type.base="BOOL",e.code.str=e.code.str+" "+n+" "+t.code.str):this.lexer.errorTypesInBinaryOperation(n,e.type.base,t.type.base)}return e}parseAdd(){let e=this.parseMul();for(;this.lexer.isTER("+")||this.lexer.isTER("-");){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parseMul();e=this.call(this.getSymbol(n==="+"?"_add":"_sub"),[],[e,t])}return e}parseMul(){let e=this.parsePow();for(;this.lexer.isTER("*")||this.lexer.isTER("/");){let n=this.lexer.getToken().token;this.lexer.next();let t=this.parsePow();e=this.call(this.getSymbol(n==="*"?"_mul":"_div"),[],[e,t])}return e}parsePow(){let e=this.parseUnary();if(this.lexer.isTER("^")){this.lexer.next();let n=this.parseUnary();e=this.call(this.getSymbol("_pow"),[],[e,n])}return e}parseUnary(){let e=this.parseUnaryExpression();return e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isNotTER("(")&&this.lexer.isNotTER("<")&&this.lexer.errorExpected(["(","<"]),(this.lexer.isTER("++")||this.lexer.isTER("--")||e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isTER("<")||this.lexer.isTER("(")||this.lexer.isTER("["))&&(e=this.parseUnaryPostfix(e)),e}parseUnaryExpression(){let e=new et;if(this.lexer.isTER("true"))e.code.str=" true ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isTER("false"))e.code.str=" false ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isINT())e.code.str=" "+this.lexer.INT()+" ",e.type.base="INT";else if(this.lexer.isREAL())e.code.str=" "+this.lexer.REAL()+" ",e.type.base="REAL";else if(this.lexer.isTER("(")){this.lexer.next();let n=this.parseExpression();this.lexer.TER(")"),e.code.str=" ( "+n.code.str+" ) ",e.type=n.type}else if(this.lexer.isID()){let n=this.lexer.ID();e.sym=this.getSymbol(n),e.sym==null&&this.lexer.errorUnknownSymbol(n),e.type=e.sym.type.clone(),e.code.str=" "+n}else if(this.lexer.isTER("-")){this.lexer.next();let n=this.parseUnary();e=this.call(this.getSymbol("_unaryMinus"),[],[n])}else if(this.lexer.isTER("!")){this.lexer.next();let n=this.parseUnary();e=this.call(this.getSymbol("_unaryNot"),[],[n])}else this.lexer.errorExpected(["INT","IMAG","REAL","(","ID"]);return e}parseUnaryPostfix(e){if(this.lexer.isTER("++"))this.lexer.next(),e.code.str+=" ++ ";else if(this.lexer.isTER("--"))this.lexer.next(),e.code.str+=" -- ";else if(this.lexer.isTER("<")||this.lexer.isTER("(")){let n=[],t=[];if(this.lexer.isTER("<")){this.lexer.next();let o=0;for(;this.lexer.isNotTER(">");)o>0&&this.lexer.TER(","),n.push(this.parseUnary()),o++;this.lexer.TER(">")}this.lexer.TER("("),(e.sym==null||e.sym.kind!="FUNCTION")&&this.lexer.errorNotAFunction();let i=0;for(;this.lexer.isNotTER(")");)i>0&&this.lexer.TER(","),t.push(this.parseExpression()),i++;this.lexer.TER(")"),e=this.call(e.sym,n,t)}else this.lexer.errorExpected(["++","--","(","["]);return e}call(e,n,t){let i=new et;i.sym=e,i.type=e.type;let o=e;for(;o!=null;){let l=[],h=[];for(let c of o.subSymbols)c.kind=="DIMENSION"?l.push(c):c.kind==="PARAMETER"&&h.push(c);if(l.length==n.length&&h.length==t.length){let c=!0;for(let u=0;u<l.length;u++)if(l[u].type.base!==n[u].type.base){c=!1;break}for(let u=0;u<h.length;u++)if(h[u].type.base!==t[u].type.base){c=!1;break}if(c){i.type=o.type,i.code.str="runtime."+o.runtimeId+"(";let u=0;for(let a=0;a<l.length;a++)u>0&&(i.code.str+=", "),i.code.str+=n[a].code.str,u++;for(let a=0;a<h.length;a++)u>0&&(i.code.str+=", "),i.code.str+=t[a].code.str,u++;o.runtimeExceptions&&(u>0&&(i.code.str+=", "),i.code.str+="'"+this.lexer.getToken().row+":"+this.lexer.getToken().col+"'",u++),i.code.str+=")",i.sym=null;break}}o=o.functionOverloadSuccessor}return o==null&&this.lexer.error("no matching function prototype for calling "+i.sym.id),i}parseIf(){let e=new qe;this.lexer.TER("if"),this.lexer.TER("(");let n=this.parseExpression();n.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),e.str="if ("+n.code.str+")";let t=this.parseBlock();if(e.str+=t.str,this.lexer.isTER("else")){this.lexer.next(),e.str+=" else ";let i=this.parseBlock();e.str+=i.str}return e}parseBlock(){let e=new qe;if(this.lexer.isTER("{")){for(this.lexer.next(),e.str+="{";this.lexer.isNotTER("}");)e.str+=this.parseStatement().str;return this.lexer.TER("}"),e.str+="}",e}else return this.parseStatement()}parseDo(){this.lexer.TER("do"),this.loopLevel++;let e=this.parseBlock();this.loopLevel--,this.lexer.TER("while"),this.lexer.TER("(");let n=this.parseExpression();return n.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.lexer.EOS(),new qe(" do "+e.str+" while( "+n.code.str+" ); ")}parseWhile(){this.lexer.TER("while"),this.lexer.TER("(");let e=this.parseExpression();e.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.loopLevel++;let n=this.parseBlock();return this.loopLevel--,new qe(" while( "+e.code.str+" ) "+n.str)}parseFunction(){this.lexer.TER("function");let e=this.lexer.ID();this.lexer.TER("(");let n=0;for(;this.lexer.isNotTER(")");){n>0&&this.lexer.TER(",");let i=this.lexer.ID();n++}return this.lexer.TER(")"),this.parseBlock()}parseReturn(){if(this.lexer.TER("return"),this.lexer.isEOS()==!1){let e=this.parseExpression();return this.lexer.EOS(),new qe(" return "+e.code)}else return this.lexer.EOS(),new qe(" return ")}parseBreak(){return this.lexer.TER("break"),this.loopLevel==0&&this.lexer.error("break not allowed outside loop"),this.lexer.EOS(),new qe(" break ")}parseContinue(){return this.lexer.TER("continue"),this.loopLevel==0&&this.lexer.error("continue not allowed outside loop"),this.lexer.EOS(),new qe(" continue ")}};var Bt="";function $f(r,e=!1){let n=new _t;Bt=n.parse(r);let t=n.getLocalSymbols();return e&&console.log(Bt),new St().interpret(Bt,t),t}return Ga(Jf);})();
/*!
 *  decimal.js v10.4.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
