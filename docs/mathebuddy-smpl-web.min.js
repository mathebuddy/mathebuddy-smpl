"use strict";var mathebuddySMPL=(()=>{var Au=Object.create;var xt=Object.defineProperty;var Cu=Object.getOwnPropertyDescriptor;var Tu=Object.getOwnPropertyNames;var bu=Object.getPrototypeOf,Fu=Object.prototype.hasOwnProperty;var gr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),_u=(r,e)=>{for(var t in e)xt(r,t,{get:e[t],enumerable:!0})},_i=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Tu(e))!Fu.call(r,i)&&i!==t&&xt(r,i,{get:()=>e[i],enumerable:!(n=Cu(e,i))||n.enumerable});return r};var rt=(r,e,t)=>(t=r!=null?Au(bu(r)):{},_i(e||!r||!r.__esModule?xt(t,"default",{value:r,enumerable:!0}):t,r)),Mu=r=>_i(xt({},"__esModule",{value:!0}),r);var Ni=gr(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.getStr=nr.setLanguage=nr.LanguageText=nr.Language=void 0;var gt;(function(r){r[r.EN=0]="EN",r[r.DE=1]="DE"})(gt=nr.Language||(nr.Language={}));var Je;(function(r){r[r.EXPECTED=0]="EXPECTED",r[r.EXPECTED_ONE_OF=1]="EXPECTED_ONE_OF",r[r.CONDITION_NOT_BOOLEAN=2]="CONDITION_NOT_BOOLEAN",r[r.UNKNOWN_SYMBOL=3]="UNKNOWN_SYMBOL",r[r.SYMBOL_IS_NOT_A_FUNCTION=4]="SYMBOL_IS_NOT_A_FUNCTION",r[r.BIN_OP_INCOMPATIBLE_TYPES=5]="BIN_OP_INCOMPATIBLE_TYPES"})(Je=nr.LanguageText||(nr.LanguageText={}));function Nu(r){Mi=r}nr.setLanguage=Nu;function Su(r){return un[r+"_"+Mi]}nr.getStr=Su;var Mi=gt.EN,un={};function Rr(r,e){un[r+"_"+gt.EN]=e}function Or(r,e){un[r+"_"+gt.DE]=e}Rr(Je.EXPECTED,"expected");Or(Je.EXPECTED,"erwarte");Rr(Je.EXPECTED_ONE_OF,"expected one of");Or(Je.EXPECTED_ONE_OF,"erwarte Token aus Liste");Rr(Je.CONDITION_NOT_BOOLEAN,"condition must be boolean");Or(Je.CONDITION_NOT_BOOLEAN,"Bedingung muss Boolsch sein");Rr(Je.UNKNOWN_SYMBOL,"unknown symbol");Or(Je.UNKNOWN_SYMBOL,"unbekanntes Symbol");Rr(Je.SYMBOL_IS_NOT_A_FUNCTION,"symbol is not a function");Or(Je.SYMBOL_IS_NOT_A_FUNCTION,"Symbol ist keine Funktion");Rr(Je.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP is incompatible for types $T1 and $T2");Or(Je.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP ist inkompatibel mit den Typen $T1 und $T2")});var Si=gr(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.LexerState=void 0;var tt=class{constructor(){this.i=0,this.n=-1,this.row=1,this.col=1,this.indent=0,this.lastIndent=0,this.stack=[]}copy(){let e=new tt;e.i=this.i,e.n=this.n,e.row=this.row,e.col=this.col,e.indent=this.indent,e.lastIndent=this.lastIndent;for(let t=0;t<this.stack.length;t++)e.stack.push(this.stack[t].copy());return e}};Et.LexerState=tt});var Ii=gr(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.LexerToken=Nr.LexerTokenType=void 0;var Bi;(function(r){r.DEL="DEL",r.TER="TER",r.INT="INT",r.BIGINT="BIGINT",r.REAL="REAL",r.HEX="HEX",r.STR="STR",r.ID="ID",r.END="END"})(Bi=Nr.LexerTokenType||(Nr.LexerTokenType={}));var nt=class{constructor(){this.token="",this.type=Bi.TER,this.value=0,this.valueBigint=0n,this.fileID="",this.row=0,this.col=0}toString(){let e=this.token;e=e.replace(/\n/g,"\\n"),e=e.replace(/\t/g,"\\t");let t=this.fileID+":"+this.row+":"+this.col;return t+=': "'+e+'" ('+this.type+")",t}copy(){let e=new nt;return e.token=this.token,e.type=this.type,e.value=this.value,e.fileID=this.fileID,e.row=this.row,e.col=this.col,e}};Nr.LexerToken=nt});var Ri=gr(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.Lexer=Er.ParseError=Er.LexerFile=void 0;var te=Ni(),Bu=Si(),Y=Ii(),yt=class{constructor(){this.stateBackup=null,this.tokenBackup=null,this.id="",this.sourceCode=""}};Er.LexerFile=yt;var _e=class extends Error{constructor(e){super(e),this.name="ParseError"}};Er.ParseError=_e;var sn=class{constructor(){this.terminals=new Set,this.fileStack=[],this.token=null,this.lastToken=null,this.state=null,this.singleLineCommentStart="//",this.multiLineCommentStart="/*",this.multilineCommentEnd="*/",this.emitNewline=!1,this.emitHex=!0,this.emitInt=!0,this.emitReal=!0,this.emitBigint=!0,this.emitSingleQuotes=!0,this.emitDoubleQuotes=!0,this.emitIndentation=!1,this.lexerFilePositionPrefix="!>",this.allowBackslashLineBreaks=!1,this.putTrailingSemicolon=[],this.multicharDelimiters=[]}configureSingleLineComments(e="//"){this.singleLineCommentStart=e}configureMultiLineComments(e="/*",t="*/"){this.multiLineCommentStart=e,this.multilineCommentEnd=t}configureLexerFilePositionPrefix(e="!>"){this.lexerFilePositionPrefix=e}enableEmitNewlines(e){this.emitNewline=e}enableEmitHex(e){this.emitHex=e}enableEmitInt(e){this.emitInt=e}enableEmitReal(e){this.emitReal=e}enableEmitBigint(e){this.emitBigint=e}enableEmitSingleQuotes(e){this.emitSingleQuotes=e}enableEmitDoubleQuotes(e){this.emitDoubleQuotes=e}enableEmitIndentation(e){this.emitIndentation=e}enableBackslashLineBreaks(e){this.allowBackslashLineBreaks=e}isEND(){return this.token.type===Y.LexerTokenType.END}isNotEND(){return this.token.type!==Y.LexerTokenType.END}END(){if(this.token.type===Y.LexerTokenType.END)this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" END")}isID(){return this.token.type===Y.LexerTokenType.ID}ID(){let e="";if(this.token.type===Y.LexerTokenType.ID)e=this.token.token,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" ID");return e}isLID(){return this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase()}LID(){let e="";if(this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase())e=this.token.token,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" LowerCaseID");return e}isUID(){return this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase()}UID(){let e="";if(this.token.type===Y.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase())e=this.token.token,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" UpperCaseID");return e}isINT(){return this.token.type===Y.LexerTokenType.INT}INT(){let e=0;if(this.token.type===Y.LexerTokenType.INT)e=this.token.value,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" INT");return e}isBIGINT(){return this.token.type===Y.LexerTokenType.BIGINT}BIGINT(){let e=0n;if(this.token.type===Y.LexerTokenType.BIGINT)e=this.token.valueBigint,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" BIGINT");return e}isREAL(){return this.token.type===Y.LexerTokenType.REAL}REAL(){let e=0;if(this.token.type===Y.LexerTokenType.REAL)e=this.token.value,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" REAL");return e}isHEX(){return this.token.type===Y.LexerTokenType.HEX}HEX(){let e="";if(this.token.type===Y.LexerTokenType.HEX)e=this.token.token,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" HEX");return e}isSTR(){return this.token.type===Y.LexerTokenType.STR}STR(){let e="";if(this.token.type===Y.LexerTokenType.STR)e=this.token.token,this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" STR");return e}isTER(e){return this.token.type===Y.LexerTokenType.DEL&&this.token.token===e||this.token.type===Y.LexerTokenType.ID&&this.token.token===e}isNotTER(e){return this.isTER(e)==!1&&this.token.type!=Y.LexerTokenType.END}TER(e){if(this.token.type===Y.LexerTokenType.DEL&&this.token.token===e||this.token.type===Y.LexerTokenType.ID&&this.token.token===e)this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+' "'+e+'"')}isEOS(){return this.token.token===";"}EOS(){if(this.token.token===";")this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+' ";"')}isINDENT(){return this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	+"}isNotINDENT(){return!(this.token.type===Y.LexerTokenType.DEL&&this.token.token==="	+")}INDENT(){if(this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	+")this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" INDENT")}isOUTDENT(){return this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	-"}isNotOUTDENT(){return this.token.type===Y.LexerTokenType.END?!1:!(this.token.type===Y.LexerTokenType.DEL&&this.token.token==="	-")}OUTDENT(){if(this.token.type==Y.LexerTokenType.DEL&&this.token.token==="	-")this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" OUTDENT")}isNEWLINE(){return this.isOUTDENT()||this.token.type==Y.LexerTokenType.DEL&&this.token.token===`
`}isNotNEWLINE(){return!this.isOUTDENT()&&!(this.token.type===Y.LexerTokenType.DEL&&this.token.token===`
`)}NEWLINE(){if(!this.isOUTDENT())if(this.token.type==Y.LexerTokenType.DEL&&this.token.token===`
`)this.next();else throw new _e(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" NEWLINE")}error(e,t=null){throw new _e(this.err_pos(t)+e)}errorExpected(e){let t=(0,te.getStr)(te.LanguageText.EXPECTED_ONE_OF)+" ";for(let n=0;n<e.length;n++)n>0&&(t+=", "),t+=e[n];t+=".",this.error(t)}errorConditionNotBoolean(){this.error((0,te.getStr)(te.LanguageText.CONDITION_NOT_BOOLEAN))}errorUnknownSymbol(e){this.error((0,te.getStr)(te.LanguageText.UNKNOWN_SYMBOL)+" "+e)}errorNotAFunction(){this.error((0,te.getStr)(te.LanguageText.SYMBOL_IS_NOT_A_FUNCTION))}errorTypesInBinaryOperation(e,t,n){this.error((0,te.getStr)(te.LanguageText.BIN_OP_INCOMPATIBLE_TYPES).replace("$OP",e).replace("$T1",t).replace("$T2",n))}err_pos(e=null){return e==null&&(e=this.token),e.fileID+":"+e.row+":"+e.col+": "}addPutTrailingSemicolon(e,t=""){let n=new Y.LexerToken;n.type=e,n.token=t,this.putTrailingSemicolon.push(n)}setTerminals(e){this.terminals.clear(),this.multicharDelimiters=[];for(let t of e)t.length!=0&&(t[0]>="A"&&t[0]<="Z"||t[0]>="a"&&t[0]<="z"||t[0]=="_"?this.terminals.add(t):this.multicharDelimiters.push(t));this.multicharDelimiters.sort(function(t,n){return n.length-t.length})}getTerminals(){return Array.from(this.terminals)}getMulticharDelimiters(){return this.multicharDelimiters}getToken(){return this.token}next(){this.lastToken=this.token;let e=this.fileStack.slice(-1)[0].sourceCode,t=this.fileStack.slice(-1)[0].id,n=this.state;if(n.stack.length>0){this.token=n.stack[0],n.stack.shift();return}this.token=new Y.LexerToken,this.token.fileID=t,n.indent=-1;let i=!1;for(;;)if(n.i<n.n&&e[n.i]===`
`)n.indent=0,i=this.nextTokenLinefeed(n);else if(n.i<n.n&&e[n.i]===" ")n.i++,n.col++,n.indent>=0&&n.indent++;else if(n.i<n.n&&e[n.i]==="	")n.i++,n.col+=4,n.indent>=0&&(n.indent+=4);else if(this.allowBackslashLineBreaks&&n.i<n.n&&e[n.i]==="\\")for(n.i++;n.i<n.n;){if(e[n.i]==" ")n.col++;else if(e[n.i]=="	")n.col+=4;else if(e[n.i]==`
`)n.row++,n.col=1;else break;n.i++}else if(this.singleLineCommentStart.length>0&&this.isNext(this.singleLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.singleLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&e[n.i]!=`
`;)n.i++,n.col++;n.i<n.n&&e[n.i]===`
`&&(i=this.nextTokenLinefeed(n)),n.indent=0}else if(this.multiLineCommentStart.length>0&&this.isNext(this.multiLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.multiLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&!this.isNext(this.multilineCommentEnd);)e[n.i]===`
`?(n.row++,n.col=1,n.indent=0):n.col++,n.i++;c=this.multilineCommentEnd.length,n.i+=c,n.col+=c}else if(this.lexerFilePositionPrefix.length>0&&e.substring(n.i).startsWith(this.lexerFilePositionPrefix)){n.i+=this.lexerFilePositionPrefix.length;let c="";for(;n.i<n.n&&e[n.i]!==":";)c+=e[n.i],n.i++;n.i++,this.fileStack.slice(-1)[0].id=c,this.token.fileID=c;let p="";for(;n.i<n.n&&e[n.i]!==":";)p+=e[n.i],n.i++;n.i++,this.token.row=parseInt(p);let s="";for(;n.i<n.n&&e[n.i]!==":";)s+=e[n.i],n.i++;n.i++,this.token.col=parseInt(s)}else break;if(this.emitIndentation&&n.indent>=0){let c=n.indent-n.lastIndent;if(n.lastIndent=n.indent,c!=0)if(c%4==0){let p=c>0,s=Math.floor(Math.abs(c)/4);for(let u=0;u<s;u++)this.token=new Y.LexerToken,this.token.fileID=t,this.token.row=n.row,p?this.token.col=n.col-c+4*u:this.token.col=n.col,this.token.type=Y.LexerTokenType.DEL,this.token.token=p?"	+":"	-",n.stack.push(this.token);this.token=n.stack[0],n.stack.shift();return}else{this.token.row=n.row,this.token.col=n.col-c,this.token.type=Y.LexerTokenType.TER,this.token.token="	err";return}}if(i)return;let o=n.copy();if(this.token.row=n.row,this.token.col=n.col,n.indent=0,n.i>=n.n){this.token.token="$end",this.token.type=Y.LexerTokenType.END;return}if(this.token.type=Y.LexerTokenType.ID,this.token.token="",n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]==="_"))for(this.token.token+=e[n.i],n.i++,n.col++;n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]>="0"&&e[n.i]<="9"||e[n.i]==="_");)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.terminals.has(this.token.token)&&(this.token.type=Y.LexerTokenType.TER),this.state=n;return}if(n=o.copy(),this.emitDoubleQuotes&&(this.token.type=Y.LexerTokenType.STR,n.i<n.n&&e[n.i]==='"')){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!='"'&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==='"'){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitSingleQuotes&&(this.token.type=Y.LexerTokenType.STR,n.i<n.n&&e[n.i]==="'")){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!="'"&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==="'"){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitHex&&(this.token.type=Y.LexerTokenType.HEX,this.token.token="",n.i<n.n&&e[n.i]==="0"&&(n.i++,n.col++,n.i<n.n&&e[n.i]==="x"))){n.i++,n.col++;let c=0;for(;n.i<n.n&&(e[n.i]>="0"&&e[n.i]<="9"||e[n.i]>="A"&&e[n.i]<="F"||e[n.i]>="a"&&e[n.i]<="f");)this.token.token+=e[n.i],n.i++,n.col++,c++;if(c>0){this.token.token="0x"+this.token.token,this.token.value=parseInt(this.token.token,16),this.token.valueBigint=BigInt(this.token.token),this.state=n;return}}if(n=o.copy(),this.emitInt){if(this.token.type=Y.LexerTokenType.INT,this.token.token="",n.i<n.n&&e[n.i]==="0")this.token.token="0",n.i++,n.col++;else if(n.i<n.n&&e[n.i]>="1"&&e[n.i]<="9")for(this.token.token=e[n.i],n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0&&this.emitBigint&&n.i<n.n&&e[n.i]==="n")n.i++,n.col++,this.token.type=Y.LexerTokenType.BIGINT;else if(this.token.token.length>0&&this.emitReal&&n.i<n.n&&e[n.i]===".")for(this.token.type=Y.LexerTokenType.REAL,this.token.token+=".",n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.token.type===Y.LexerTokenType.INT?this.token.value=parseInt(this.token.token):this.token.type===Y.LexerTokenType.BIGINT?this.token.valueBigint=BigInt(this.token.token):this.token.value=parseFloat(this.token.token),this.state=n;return}}this.token.type=Y.LexerTokenType.DEL,this.token.token="";for(let c=0;c<this.multicharDelimiters.length;c++){let p=this.multicharDelimiters[c],s=!0;n=o.copy();for(let u=0;u<p.length;u++){let a=p[u];if(n.i<n.n&&e[n.i]===a)n.i++,n.col++;else{s=!1;break}}if(s){this.state=n,this.token.token=p;return}}n=o.copy(),this.token.type=Y.LexerTokenType.DEL,this.token.token="",n.i<n.n&&(this.token.token=e[n.i],n.i++,n.col++,this.state=n)}nextTokenLinefeed(e){let t=!1;if(this.emitNewline)this.token.row=e.row,this.token.col=e.col,this.token.token=`
`,this.token.type=Y.LexerTokenType.DEL;else if(this.putTrailingSemicolon.length>0){let n=!1;for(let i of this.putTrailingSemicolon)if(i.type===this.lastToken.type&&(i.type===Y.LexerTokenType.DEL?n=i.token===this.lastToken.token:n=!0,n))break;n&&(t=!0,this.token.row=e.row,this.token.col=e.col,this.token.token=";",this.token.type=Y.LexerTokenType.DEL)}return e.row++,e.col=1,e.indent=0,e.i++,this.emitNewline||t}isNext(e){let t=this.fileStack.slice(-1)[0].sourceCode,n=this.state,i=e.length;if(n.i+i>=n.n)return!1;for(let o=0;o<i;o++){let c=e[o];if(t[n.i+o]!=c)return!1}return!0}pushSource(e,t){this.fileStack.length>0&&(this.fileStack.slice(-1)[0].stateBackup=this.state.copy(),this.fileStack.slice(-1)[0].tokenBackup=this.token.copy());let n=new yt;n.id=e,n.sourceCode=t,this.fileStack.push(n),this.state=new Bu.LexerState,this.state.n=t.length,this.next()}popSource(){this.fileStack.pop(),this.fileStack.length>0&&(this.state=this.fileStack.slice(-1)[0].stateBackup,this.token=this.fileStack.slice(-1)[0].tokenBackup)}backupState(){return{state:this.state.copy(),token:this.token.copy()}}replayState(e){this.state=e.state,this.token=e.token}};Er.Lexer=sn});var fn=gr(Sr=>{"use strict";var Iu=Sr&&Sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ru=Sr&&Sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Iu(e,r,t)};Object.defineProperty(Sr,"__esModule",{value:!0});Ru(Ri(),Sr)});var Do=gr((mn,vn)=>{(function(r,e){typeof mn=="object"&&typeof vn<"u"?vn.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.typed=e())})(mn,function(){"use strict";function r(a,f){var h=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!h){if(Array.isArray(a)||(h=e(a))||f&&a&&typeof a.length=="number"){h&&(a=h);var m=0,v=function(){};return{s:v,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(x){throw x},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,d=!1,D;return{s:function(){h=h.call(a)},n:function(){var x=h.next();return l=x.done,x},e:function(x){d=!0,D=x},f:function(){try{!l&&h.return!=null&&h.return()}finally{if(d)throw D}}}}function e(a,f){if(!!a){if(typeof a=="string")return t(a,f);var h=Object.prototype.toString.call(a).slice(8,-1);if(h==="Object"&&a.constructor&&(h=a.constructor.name),h==="Map"||h==="Set")return Array.from(a);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return t(a,f)}}function t(a,f){(f==null||f>a.length)&&(f=a.length);for(var h=0,m=new Array(f);h<f;h++)m[h]=a[h];return m}function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},n(a)}function i(){return!0}function o(){return!1}function c(){}var p="Argument is not a typed-function.";function s(){function a(E){return n(E)==="object"&&E!==null&&E.constructor===Object}var f=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],h={name:"any",test:i,isAny:!0},m,v,l=0,d={createCount:0};function D(E){var C=m.get(E);if(C)return C;var _='Unknown type "'+E+'"',S=E.toLowerCase(),P,z=r(v),U;try{for(z.s();!(U=z.n()).done;)if(P=U.value,P.toLowerCase()===S){_+='. Did you mean "'+P+'" ?';break}}catch(I){z.e(I)}finally{z.f()}throw new TypeError(_)}function A(E){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",_=C?D(C).index:v.length,S=[],P=0;P<E.length;++P){if(!E[P]||typeof E[P].name!="string"||typeof E[P].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var z=E[P].name;if(m.has(z))throw new TypeError('Duplicate type name "'+z+'"');S.push(z),m.set(z,{name:z,test:E[P].test,isAny:E[P].isAny,index:_+P,conversionsTo:[]})}var U=v.slice(_);v=v.slice(0,_).concat(S).concat(U);for(var I=_+S.length;I<v.length;++I)m.get(v[I]).index=I}function x(){m=new Map,v=[],l=0,A([h],!1)}x(),A(f);function b(){var E,C=r(v),_;try{for(C.s();!(_=C.n()).done;)E=_.value,m.get(E).conversionsTo=[]}catch(S){C.e(S)}finally{C.f()}l=0}function w(E){var C=v.filter(function(_){var S=m.get(_);return!S.isAny&&S.test(E)});return C.length?C:["any"]}function g(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function y(E,C,_){if(!g(E))throw new TypeError(p);var S=_&&_.exact,P=Array.isArray(C)?C.join(","):C,z=L(P),U=N(z);if(!S||U in E.signatures){var I=E._typedFunctionData.signatureMap.get(U);if(I)return I}var q=z.length,$;if(S){$=[];var re;for(re in E.signatures)$.push(E._typedFunctionData.signatureMap.get(re))}else $=E._typedFunctionData.signatures;for(var X=0;X<q;++X){var Pe=z[X],Ie=[],Le=void 0,Te=r($),je;try{for(Te.s();!(je=Te.n()).done;){Le=je.value;var Fe=Z(Le.params,X);if(!(!Fe||Pe.restParam&&!Fe.restParam)){if(!Fe.hasAny){var tr=function(){var He=j(Fe);if(Pe.types.some(function(Mr){return!He.has(Mr.name)}))return"continue"}();if(tr==="continue")continue}Ie.push(Le)}}}catch(He){Te.e(He)}finally{Te.f()}if($=Ie,$.length===0)break}var ze,qe=r($),_r;try{for(qe.s();!(_r=qe.n()).done;)if(ze=_r.value,ze.params.length<=q)return ze}catch(He){qe.e(He)}finally{qe.f()}throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+N(z,", ")+"))")}function T(E,C,_){return y(E,C,_).implementation}function F(E,C){var _=D(C);if(_.test(E))return E;var S=_.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+C+" defined.");for(var P=0;P<S.length;P++){var z=D(S[P].from);if(z.test(E))return S[P].convert(E)}throw new Error("Cannot convert "+E+" to "+C)}function N(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(function(_){return _.name}).join(C)}function R(E){var C=E.indexOf("...")===0,_=C?E.length>3?E.slice(3):"any":E,S=_.split("|").map(function(I){return D(I.trim())}),P=!1,z=C?"...":"",U=S.map(function(I){return P=I.isAny||P,z+=I.name+"|",{name:I.name,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:null,conversionIndex:-1}});return{types:U,name:z.slice(0,-1),hasAny:P,hasConversion:!1,restParam:C}}function V(E){var C=E.types.map(function(U){return U.name}),_=De(C),S=E.hasAny,P=E.name,z=_.map(function(U){var I=D(U.from);return S=I.isAny||S,P+="|"+U.from,{name:U.from,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:U,conversionIndex:U.index}});return{types:E.types.concat(z),name:P,hasAny:S,hasConversion:z.length>0,restParam:E.restParam}}function j(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(function(C){return E.typeSet.add(C.name)})),E.typeSet}function L(E){var C=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");var _=E.trim();if(_==="")return C;for(var S=_.split(","),P=0;P<S.length;++P){var z=R(S[P].trim());if(z.restParam&&P!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[P]+'": only allowed for the last parameter');if(z.types.length===0)return null;C.push(z)}return C}function O(E){var C=or(E);return C?C.restParam:!1}function M(E){if(!E||E.types.length===0)return i;if(E.types.length===1)return D(E.types[0].name).test;if(E.types.length===2){var C=D(E.types[0].name).test,_=D(E.types[1].name).test;return function(z){return C(z)||_(z)}}else{var S=E.types.map(function(P){return D(P.name).test});return function(z){for(var U=0;U<S.length;U++)if(S[U](z))return!0;return!1}}}function G(E){var C,_,S;if(O(E)){C=Br(E).map(M);var P=C.length,z=M(or(E)),U=function(q){for(var $=P;$<q.length;$++)if(!z(q[$]))return!1;return!0};return function(q){for(var $=0;$<C.length;$++)if(!C[$](q[$]))return!1;return U(q)&&q.length>=P+1}}else return E.length===0?function(q){return q.length===0}:E.length===1?(_=M(E[0]),function(q){return _(q[0])&&q.length===1}):E.length===2?(_=M(E[0]),S=M(E[1]),function(q){return _(q[0])&&S(q[1])&&q.length===2}):(C=E.map(M),function(q){for(var $=0;$<C.length;$++)if(!C[$](q[$]))return!1;return q.length===C.length})}function Z(E,C){return C<E.length?E[C]:O(E)?or(E):null}function H(E,C){var _=Z(E,C);return _?j(_):new Set}function K(E){return E.conversion===null||E.conversion===void 0}function ue(E,C){var _=new Set;return E.forEach(function(S){var P=H(S.params,C),z,U=r(P),I;try{for(U.s();!(I=U.n()).done;)z=I.value,_.add(z)}catch(q){U.e(q)}finally{U.f()}}),_.has("any")?["any"]:Array.from(_)}function ae(E,C,_){var S,P,z=E||"unnamed",U=_,I,q=function(){var Te=[];if(U.forEach(function(Fe){var tr=Z(Fe.params,I),ze=M(tr);(I<Fe.params.length||O(Fe.params))&&ze(C[I])&&Te.push(Fe)}),Te.length===0){if(P=ue(U,I),P.length>0){var je=w(C[I]);return S=new TypeError("Unexpected type of argument in function "+z+" (expected: "+P.join(" or ")+", actual: "+je.join(" | ")+", index: "+I+")"),S.data={category:"wrongType",fn:z,index:I,actual:je,expected:P},{v:S}}}else U=Te};for(I=0;I<C.length;I++){var $=q();if(n($)==="object")return $.v}var re=U.map(function(Le){return O(Le.params)?1/0:Le.params.length});if(C.length<Math.min.apply(null,re))return P=ue(U,I),S=new TypeError("Too few arguments in function "+z+" (expected: "+P.join(" or ")+", index: "+C.length+")"),S.data={category:"tooFewArgs",fn:z,index:C.length,expected:P},S;var X=Math.max.apply(null,re);if(C.length>X)return S=new TypeError("Too many arguments in function "+z+" (expected: "+X+", actual: "+C.length+")"),S.data={category:"tooManyArgs",fn:z,index:C.length,expectedLength:X},S;for(var Pe=[],Ie=0;Ie<C.length;++Ie)Pe.push(w(C[Ie]).join("|"));return S=new TypeError('Arguments of type "'+Pe.join(", ")+'" do not match any of the defined signatures of function '+z+"."),S.data={category:"mismatch",actual:Pe},S}function oe(E){for(var C=v.length+1,_=0;_<E.types.length;_++)K(E.types[_])&&(C=Math.min(C,E.types[_].typeIndex));return C}function Ee(E){for(var C=l+1,_=0;_<E.types.length;_++)K(E.types[_])||(C=Math.min(C,E.types[_].conversionIndex));return C}function ye(E,C){if(E.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(E.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(E.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;var _=oe(E)-oe(C);if(_<0)return-1;if(_>0)return 1;var S=Ee(E)-Ee(C);return S<0?-1:S>0?1:0}function Ce(E,C){var _=E.params,S=C.params,P=or(_),z=or(S),U=O(_),I=O(S);if(U&&P.hasAny){if(!I||!z.hasAny)return 1}else if(I&&z.hasAny)return-1;var q=0,$=0,re,X=r(_),Pe;try{for(X.s();!(Pe=X.n()).done;)re=Pe.value,re.hasAny&&++q,re.hasConversion&&++$}catch(Jr){X.e(Jr)}finally{X.f()}var Ie=0,Le=0,Te=r(S),je;try{for(Te.s();!(je=Te.n()).done;)re=je.value,re.hasAny&&++Ie,re.hasConversion&&++Le}catch(Jr){Te.e(Jr)}finally{Te.f()}if(q!==Ie)return q-Ie;if(U&&P.hasConversion){if(!I||!z.hasConversion)return 1}else if(I&&z.hasConversion)return-1;if($!==Le)return $-Le;if(U){if(!I)return 1}else if(I)return-1;var Fe=(_.length-S.length)*(U?-1:1);if(Fe!==0)return Fe;for(var tr=[],ze=0,qe=0;qe<_.length;++qe){var _r=ye(_[qe],S[qe]);tr.push(_r),ze+=_r}if(ze!==0)return ze;for(var He,Mr=0,vt=tr;Mr<vt.length;Mr++)if(He=vt[Mr],He!==0)return He;return 0}function De(E){if(E.length===0)return[];var C=E.map(D);E.length>1&&C.sort(function(q,$){return q.index-$.index});var _=C[0].conversionsTo;if(E.length===1)return _;_=_.concat([]);for(var S=new Set(E),P=1;P<C.length;++P){var z=void 0,U=r(C[P].conversionsTo),I;try{for(U.s();!(I=U.n()).done;)z=I.value,S.has(z.from)||(_.push(z),S.add(z.from))}catch(q){U.e(q)}finally{U.f()}}return _}function Ze(E,C){var _=C;if(E.some(function(I){return I.hasConversion})){var S=O(E),P=E.map(ge);_=function(){for(var q=[],$=S?arguments.length-1:arguments.length,re=0;re<$;re++)q[re]=P[re](arguments[re]);return S&&(q[$]=arguments[$].map(P[$])),C.apply(this,q)}}var z=_;if(O(E)){var U=E.length-1;z=function(){return _.apply(this,$r(arguments,0,U).concat([$r(arguments,U)]))}}return z}function ge(E){var C,_,S,P,z=[],U=[];switch(E.types.forEach(function(I){I.conversion&&(z.push(D(I.conversion.from).test),U.push(I.conversion.convert))}),U.length){case 0:return function(q){return q};case 1:return C=z[0],S=U[0],function(q){return C(q)?S(q):q};case 2:return C=z[0],_=z[1],S=U[0],P=U[1],function(q){return C(q)?S(q):_(q)?P(q):q};default:return function(q){for(var $=0;$<U.length;$++)if(z[$](q))return U[$](q);return q}}}function pe(E){function C(_,S,P){if(S<_.length){var z=_[S],U=[];if(z.restParam){var I=z.types.filter(K);I.length<z.types.length&&U.push({types:I,name:"..."+I.map(function(q){return q.name}).join("|"),hasAny:I.some(function(q){return q.isAny}),hasConversion:!1,restParam:!0}),U.push(z)}else U=z.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return ja(U,function(q){return C(_,S+1,P.concat([q]))})}else return[P]}return C(E,0,[])}function rr(E,C){for(var _=Math.max(E.length,C.length),S=0;S<_;S++){var P=H(E,S),z=H(C,S),U=!1,I=void 0,q=r(z),$;try{for(q.s();!($=q.n()).done;)if(I=$.value,P.has(I)){U=!0;break}}catch(Le){q.e(Le)}finally{q.f()}if(!U)return!1}var re=E.length,X=C.length,Pe=O(E),Ie=O(C);return Pe?Ie?re===X:X>=re:Ie?re>=X:re===X}function Se(E){return E.map(function(C){return wi(C)?Ei(C.referToSelf.callback):yi(C)?gi(C.referTo.references,C.referTo.callback):C})}function fe(E,C,_){var S=[],P,z=r(E),U;try{for(z.s();!(U=z.n()).done;){P=U.value;var I=_[P];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(I=C[I],typeof I!="function")return!1;S.push(I)}}catch(q){z.e(q)}finally{z.f()}return S}function Be(E,C,_){for(var S=Se(E),P=new Array(S.length).fill(!1),z=!0;z;){z=!1;for(var U=!0,I=0;I<S.length;++I)if(!P[I]){var q=S[I];if(wi(q))S[I]=q.referToSelf.callback(_),S[I].referToSelf=q.referToSelf,P[I]=!0,U=!1;else if(yi(q)){var $=fe(q.referTo.references,S,C);$?(S[I]=q.referTo.callback.apply(this,$),S[I].referTo=q.referTo,P[I]=!0,U=!1):z=!0}}if(U&&z)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function ir(E){var C=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(function(_){var S=E[_];if(C.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function xr(E,C){if(d.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&ir(C);var _=[],S=[],P={},z=[],U,I=function(){if(!Object.prototype.hasOwnProperty.call(C,U))return"continue";var Re=L(U);if(!Re)return"continue";_.forEach(function(Ir){if(rr(Ir,Re))throw new TypeError('Conflicting signatures "'+N(Ir)+'" and "'+N(Re)+'".')}),_.push(Re);var Ti=S.length;S.push(C[U]);var wu=Re.map(V),dt=void 0,Dt=r(pe(wu)),bi;try{for(Dt.s();!(bi=Dt.n()).done;){dt=bi.value;var Fi=N(dt);z.push({params:dt,name:Fi,fn:Ti}),dt.every(function(Ir){return!Ir.hasConversion})&&(P[Fi]=Ti)}}catch(Ir){Dt.e(Ir)}finally{Dt.f()}};for(U in C)var q=I();z.sort(Ce);var $=Be(S,P,et),re;for(re in P)Object.prototype.hasOwnProperty.call(P,re)&&(P[re]=$[P[re]]);for(var X=[],Pe=new Map,Ie=0,Le=z;Ie<Le.length;Ie++)re=Le[Ie],Pe.has(re.name)||(re.fn=$[re.fn],X.push(re),Pe.set(re.name,re));for(var Te=X[0]&&X[0].params.length<=2&&!O(X[0].params),je=X[1]&&X[1].params.length<=2&&!O(X[1].params),Fe=X[2]&&X[2].params.length<=2&&!O(X[2].params),tr=X[3]&&X[3].params.length<=2&&!O(X[3].params),ze=X[4]&&X[4].params.length<=2&&!O(X[4].params),qe=X[5]&&X[5].params.length<=2&&!O(X[5].params),_r=Te&&je&&Fe&&tr&&ze&&qe,He=0;He<X.length;++He)X[He].test=G(X[He].params);for(var Mr=Te?M(X[0].params[0]):o,vt=je?M(X[1].params[0]):o,Jr=Fe?M(X[2].params[0]):o,Ya=tr?M(X[3].params[0]):o,$a=ze?M(X[4].params[0]):o,Ja=qe?M(X[5].params[0]):o,Ka=Te?M(X[0].params[1]):o,eu=je?M(X[1].params[1]):o,ru=Fe?M(X[2].params[1]):o,tu=tr?M(X[3].params[1]):o,nu=ze?M(X[4].params[1]):o,iu=qe?M(X[5].params[1]):o,Kr=0;Kr<X.length;++Kr)X[Kr].implementation=Ze(X[Kr].params,X[Kr].fn);var ou=Te?X[0].implementation:c,au=je?X[1].implementation:c,uu=Fe?X[2].implementation:c,su=tr?X[3].implementation:c,fu=ze?X[4].implementation:c,cu=qe?X[5].implementation:c,lu=Te?X[0].params.length:-1,pu=je?X[1].params.length:-1,hu=Fe?X[2].params.length:-1,mu=tr?X[3].params.length:-1,vu=ze?X[4].params.length:-1,du=qe?X[5].params.length:-1,Du=_r?6:0,xu=X.length,gu=X.map(function($e){return $e.test}),Eu=X.map(function($e){return $e.implementation}),yu=function(){for(var Re=Du;Re<xu;Re++)if(gu[Re](arguments))return Eu[Re].apply(this,arguments);return d.onMismatch(E,arguments,X)};function et($e,Re){return arguments.length===lu&&Mr($e)&&Ka(Re)?ou.apply(this,arguments):arguments.length===pu&&vt($e)&&eu(Re)?au.apply(this,arguments):arguments.length===hu&&Jr($e)&&ru(Re)?uu.apply(this,arguments):arguments.length===mu&&Ya($e)&&tu(Re)?su.apply(this,arguments):arguments.length===vu&&$a($e)&&nu(Re)?fu.apply(this,arguments):arguments.length===du&&Ja($e)&&iu(Re)?cu.apply(this,arguments):yu.apply(this,arguments)}try{Object.defineProperty(et,"name",{value:E})}catch{}return et.signatures=P,et._typedFunctionData={signatures:X,signatureMap:Pe},et}function hr(E,C,_){throw ae(E,C,_)}function Br(E){return $r(E,0,E.length-1)}function or(E){return E[E.length-1]}function $r(E,C,_){return Array.prototype.slice.call(E,C,_)}function Za(E,C){for(var _=0;_<E.length;_++)if(C(E[_]))return E[_]}function ja(E,C){return Array.prototype.concat.apply([],E.map(C))}function Ha(){var E=Br(arguments).map(function(_){return N(L(_))}),C=or(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return gi(E,C)}function gi(E,C){return{referTo:{references:E,callback:C}}}function Ei(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function yi(E){return E&&n(E.referTo)==="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function wi(E){return E&&n(E.referToSelf)==="object"&&typeof E.referToSelf.callback=="function"}function Ai(E,C){if(!E)return C;if(C&&C!==E){var _=new Error("Function names do not match (expected: "+E+", actual: "+C+")");throw _.data={actual:C,expected:E},_}return E}function Ga(E){var C;for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(g(E[_])||typeof E[_].signature=="string")&&(C=Ai(C,E[_].name));return C}function Wa(E,C){var _;for(_ in C)if(Object.prototype.hasOwnProperty.call(C,_)){if(_ in E&&C[_]!==E[_]){var S=new Error('Signature "'+_+'" is defined twice');throw S.data={signature:_,sourceFunction:C[_],destFunction:E[_]},S}E[_]=C[_]}}var Qa=d;d=function(C){for(var _=typeof C=="string",S=_?1:0,P=_?C:"",z={},U=S;U<arguments.length;++U){var I=arguments[U],q={},$=void 0;if(typeof I=="function"?($=I.name,typeof I.signature=="string"?q[I.signature]=I:g(I)&&(q=I.signatures)):a(I)&&(q=I,_||($=Ga(I))),Object.keys(q).length===0){var re=new TypeError("Argument to 'typed' at index "+U+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw re.data={index:U,argument:I},re}_||(P=Ai(P,$)),Wa(z,q)}return xr(P||"",z)},d.create=s,d.createCount=Qa.createCount,d.onMismatch=hr,d.throwMismatchError=hr,d.createError=ae,d.clear=x,d.clearConversions=b,d.addTypes=A,d._findType=D,d.referTo=Ha,d.referToSelf=Ei,d.convert=F,d.findSignature=y,d.find=T,d.isTypedFunction=g,d.warnAgainstDeprecatedThis=!0,d.addType=function(E,C){var _="any";C!==!1&&m.has("Object")&&(_="Object"),d.addTypes([E],_)};function Ci(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return d.addConversion=function(E){Ci(E);var C=D(E.to);if(C.conversionsTo.every(function(_){return _.from!==E.from}))C.conversionsTo.push({from:E.from,convert:E.convert,index:l++});else throw new Error('There is already a conversion from "'+E.from+'" to "'+C.name+'"')},d.addConversions=function(E){E.forEach(d.addConversion)},d.removeConversion=function(E){Ci(E);var C=D(E.to),_=Za(C.conversionsTo,function(P){return P.from===E.from});if(!_)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(_.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");var S=C.conversionsTo.indexOf(_);C.conversionsTo.splice(S,1)},d.resolve=function(E,C){if(!g(E))throw new TypeError(p);for(var _=E._typedFunctionData.signatures,S=0;S<_.length;++S)if(_[S].test(C))return _[S];return null},d}var u=s();return u})});var ta=gr((In,ra)=>{(function(r){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},n=function(u){var a=Math.PI/4;if(-a>u||u>a)return Math.cos(u)-1;var f=u*u;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,a){var f=Math.abs(u),h=Math.abs(a);return f<3e3&&h<3e3?Math.sqrt(f*f+h*h):(f<h?(f=h,h=u/a):h=a/u,f*Math.sqrt(1+h*h))},o=function(){throw SyntaxError("Invalid Param")};function c(u,a){var f=Math.abs(u),h=Math.abs(a);return u===0?Math.log(h):a===0?Math.log(f):f<3e3&&h<3e3?Math.log(u*u+a*a)*.5:(u=u/2,a=a/2,.5*Math.log(u*u+a*a)+Math.LN2)}var p=function(u,a){var f={re:0,im:0};if(u==null)f.re=f.im=0;else if(a!==void 0)f.re=u,f.im=a;else switch(typeof u){case"object":if("im"in u&&"re"in u)f.re=u.re,f.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return s.INFINITY;f.re=u.abs*Math.cos(u.arg),f.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return s.INFINITY;f.re=u.r*Math.cos(u.phi),f.im=u.r*Math.sin(u.phi)}else u.length===2?(f.re=u[0],f.im=u[1]):o();break;case"string":f.im=f.re=0;var h=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;h===null&&o();for(var l=0;l<h.length;l++){var d=h[l];d===" "||d==="	"||d===`
`||(d==="+"?m++:d==="-"?v++:d==="i"||d==="I"?(m+v===0&&o(),h[l+1]!==" "&&!isNaN(h[l+1])?(f.im+=parseFloat((v%2?"-":"")+h[l+1]),l++):f.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(d))&&o(),h[l+1]==="i"||h[l+1]==="I"?(f.im+=parseFloat((v%2?"-":"")+d),l++):f.re+=parseFloat((v%2?"-":"")+d),m=v=0))}m+v>0&&o();break;case"number":f.im=0,f.re=u;break;default:o()}return isNaN(f.re)||isNaN(f.im),f};function s(u,a){if(!(this instanceof s))return new s(u,a);var f=p(u,a);this.re=f.re,this.im=f.im}s.prototype={re:0,im:0,sign:function(){var u=this.abs();return new s(this.re/u,this.im/u)},add:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re+f.re,this.im+f.im)},sub:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re-f.re,this.im-f.im)},mul:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:f.im===0&&this.im===0?new s(this.re*f.re,0):new s(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(u,a){var f=new s(u,a);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return s.NAN;if(this.isInfinite()||f.isZero())return s.INFINITY;if(this.isZero()||f.isInfinite())return s.ZERO;u=this.re,a=this.im;var h=f.re,m=f.im,v,l;return m===0?new s(u/h,a/h):Math.abs(h)<Math.abs(m)?(l=h/m,v=h*l+m,new s((u*l+a)/v,(a*l-u)/v)):(l=m/h,v=m*l+h,new s((u+a*l)/v,(a-u*l)/v))},pow:function(u,a){var f=new s(u,a);if(u=this.re,a=this.im,f.isZero())return s.ONE;if(f.im===0){if(a===0&&u>0)return new s(Math.pow(u,f.re),0);if(u===0)switch((f.re%4+4)%4){case 0:return new s(Math.pow(a,f.re),0);case 1:return new s(0,Math.pow(a,f.re));case 2:return new s(-Math.pow(a,f.re),0);case 3:return new s(0,-Math.pow(a,f.re))}}if(u===0&&a===0&&f.re>0&&f.im>=0)return s.ZERO;var h=Math.atan2(a,u),m=c(u,a);return u=Math.exp(f.re*m-f.im*h),a=f.im*m+f.re*h,new s(u*Math.cos(a),u*Math.sin(a))},sqrt:function(){var u=this.re,a=this.im,f=this.abs(),h,m;if(u>=0){if(a===0)return new s(Math.sqrt(u),0);h=.5*Math.sqrt(2*(f+u))}else h=Math.abs(a)/Math.sqrt(2*(f-u));return u<=0?m=.5*Math.sqrt(2*(f-u)):m=Math.abs(a)/Math.sqrt(2*(f+u)),new s(h,a<0?-m:m)},exp:function(){var u=Math.exp(this.re);return this.im,new s(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,a=this.im;return new s(Math.expm1(u)*Math.cos(a)+n(a),Math.exp(u)*Math.sin(a))},log:function(){var u=this.re,a=this.im;return a===0&&u>0,new s(c(u,a),Math.atan2(a,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,a=this.im;return new s(Math.sin(u)*e(a),Math.cos(u)*t(a))},cos:function(){var u=this.re,a=this.im;return new s(Math.cos(u)*e(a),-Math.sin(u)*t(a))},tan:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)+e(a);return new s(Math.sin(u)/f,t(a)/f)},cot:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)-e(a);return new s(-Math.sin(u)/f,t(a)/f)},sec:function(){var u=this.re,a=this.im,f=.5*e(2*a)+.5*Math.cos(2*u);return new s(Math.cos(u)*e(a)/f,Math.sin(u)*t(a)/f)},csc:function(){var u=this.re,a=this.im,f=.5*e(2*a)-.5*Math.cos(2*u);return new s(Math.sin(u)*e(a)/f,-Math.cos(u)*t(a)/f)},asin:function(){var u=this.re,a=this.im,f=new s(a*a-u*u+1,-2*u*a).sqrt(),h=new s(f.re-a,f.im+u).log();return new s(h.im,-h.re)},acos:function(){var u=this.re,a=this.im,f=new s(a*a-u*u+1,-2*u*a).sqrt(),h=new s(f.re-a,f.im+u).log();return new s(Math.PI/2-h.im,h.re)},atan:function(){var u=this.re,a=this.im;if(u===0){if(a===1)return new s(0,1/0);if(a===-1)return new s(0,-1/0)}var f=u*u+(1-a)*(1-a),h=new s((1-a*a-u*u)/f,-2*u/f).log();return new s(-.5*h.im,.5*h.re)},acot:function(){var u=this.re,a=this.im;if(a===0)return new s(Math.atan2(1,u),0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).atan():new s(u!==0?u/0:0,a!==0?-a/0:0).atan()},asec:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(0,1/0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).acos():new s(u!==0?u/0:0,a!==0?-a/0:0).acos()},acsc:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(Math.PI/2,1/0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).asin():new s(u!==0?u/0:0,a!==0?-a/0:0).asin()},sinh:function(){var u=this.re,a=this.im;return new s(t(u)*Math.cos(a),e(u)*Math.sin(a))},cosh:function(){var u=this.re,a=this.im;return new s(e(u)*Math.cos(a),t(u)*Math.sin(a))},tanh:function(){var u=2*this.re,a=2*this.im,f=e(u)+Math.cos(a);return new s(t(u)/f,Math.sin(a)/f)},coth:function(){var u=2*this.re,a=2*this.im,f=e(u)-Math.cos(a);return new s(t(u)/f,-Math.sin(a)/f)},csch:function(){var u=this.re,a=this.im,f=Math.cos(2*a)-e(2*u);return new s(-2*t(u)*Math.cos(a)/f,2*e(u)*Math.sin(a)/f)},sech:function(){var u=this.re,a=this.im,f=Math.cos(2*a)+e(2*u);return new s(2*e(u)*Math.cos(a)/f,-2*t(u)*Math.sin(a)/f)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var a=this.asin();return this.re=-this.im,this.im=u,u=a.re,a.re=-a.im,a.im=u,a},acosh:function(){var u=this.acos();if(u.im<=0){var a=u.re;u.re=-u.im,u.im=a}else{var a=u.im;u.im=-u.re,u.re=a}return u},atanh:function(){var u=this.re,a=this.im,f=u>1&&a===0,h=1-u,m=1+u,v=h*h+a*a,l=v!==0?new s((m*h-a*a)/v,(a*h+m*a)/v):new s(u!==-1?u/0:0,a!==0?a/0:0),d=l.re;return l.re=c(l.re,l.im)/2,l.im=Math.atan2(l.im,d)/2,f&&(l.im=-l.im),l},acoth:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(0,Math.PI/2);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).atanh():new s(u!==0?u/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var u=this.re,a=this.im;if(a===0)return new s(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).asinh():new s(u!==0?u/0:0,a!==0?-a/0:0).asinh()},asech:function(){var u=this.re,a=this.im;if(this.isZero())return s.INFINITY;var f=u*u+a*a;return f!==0?new s(u/f,-a/f).acosh():new s(u!==0?u/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var u=this.re,a=this.im,f=u*u+a*a;return new s(u/f,-a/f)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new s(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new s(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new s(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,a){var f=new s(u,a);return Math.abs(f.re-this.re)<=s.EPSILON&&Math.abs(f.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var u=this.re,a=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<s.EPSILON&&(u=0),Math.abs(a)<s.EPSILON&&(a=0),a===0?f+u:(u!==0?(f+=u,f+=" ",a<0?(a=-a,f+="-"):f+="+",f+=" "):a<0&&(a=-a,f+="-"),a!==1&&(f+=a),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof In=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,ra.exports=s):r.Complex=s})(In)});var ia=gr((On,na)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(h,m){if(isNaN(h=parseInt(h,10)))throw f.InvalidParameter;return h*m}function i(h,m){if(m===0)throw f.DivisionByZero;var v=Object.create(f.prototype);v.s=h<0?-1:1,h=h<0?-h:h;var l=a(h,m);return v.n=h/l,v.d=m/l,v}function o(h){for(var m={},v=h,l=2,d=4;d<=v;){for(;v%l===0;)v/=l,m[l]=(m[l]||0)+1;d+=1+2*l++}return v!==h?v>1&&(m[v]=(m[v]||0)+1):m[h]=(m[h]||0)+1,m}var c=function(h,m){var v=0,l=1,d=1,D=0,A=0,x=0,b=1,w=1,g=0,y=1,T=1,F=1,N=1e7,R;if(h!=null)if(m!==void 0){if(v=h,l=m,d=v*l,v%1!==0||l%1!==0)throw f.NonIntegerParameter}else switch(typeof h){case"object":{if("d"in h&&"n"in h)v=h.n,l=h.d,"s"in h&&(v*=h.s);else if(0 in h)v=h[0],1 in h&&(l=h[1]);else throw f.InvalidParameter;d=v*l;break}case"number":{if(h<0&&(d=h,h=-h),h%1===0)v=h;else if(h>0){for(h>=1&&(w=Math.pow(10,Math.floor(1+Math.log(h)/Math.LN10)),h/=w);y<=N&&F<=N;)if(R=(g+T)/(y+F),h===R){y+F<=N?(v=g+T,l=y+F):F>y?(v=T,l=F):(v=g,l=y);break}else h>R?(g+=T,y+=F):(T+=g,F+=y),y>N?(v=T,l=F):(v=g,l=y);v*=w}else(isNaN(h)||isNaN(m))&&(l=v=NaN);break}case"string":{if(y=h.match(/\d+|./g),y===null)throw f.InvalidParameter;if(y[g]==="-"?(d=-1,g++):y[g]==="+"&&g++,y.length===g+1?A=n(y[g++],d):y[g+1]==="."||y[g]==="."?(y[g]!=="."&&(D=n(y[g++],d)),g++,(g+1===y.length||y[g+1]==="("&&y[g+3]===")"||y[g+1]==="'"&&y[g+3]==="'")&&(A=n(y[g],d),b=Math.pow(10,y[g].length),g++),(y[g]==="("&&y[g+2]===")"||y[g]==="'"&&y[g+2]==="'")&&(x=n(y[g+1],d),w=Math.pow(10,y[g+1].length)-1,g+=3)):y[g+1]==="/"||y[g+1]===":"?(A=n(y[g],d),b=n(y[g+2],1),g+=3):y[g+3]==="/"&&y[g+1]===" "&&(D=n(y[g],d),A=n(y[g+2],d),b=n(y[g+4],1),g+=5),y.length<=g){l=b*w,d=v=x+l*D+w*A;break}}default:throw f.InvalidParameter}if(l===0)throw f.DivisionByZero;t.s=d<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(l)};function p(h,m,v){for(var l=1;m>0;h=h*h%v,m>>=1)m&1&&(l=l*h%v);return l}function s(h,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var v=10%m,l=1;v!==1;l++)if(v=v*10%m,l>e)return 0;return l}function u(h,m,v){for(var l=1,d=p(10,v,m),D=0;D<300;D++){if(l===d)return D;l=l*10%m,d=d*10%m}return 0}function a(h,m){if(!h)return m;if(!m)return h;for(;;){if(h%=m,!h)return m;if(m%=h,!m)return h}}function f(h,m){if(c(h,m),this instanceof f)h=a(t.d,t.n),this.s=t.s,this.n=t.n/h,this.d=t.d/h;else return i(t.s*t.n,t.d)}f.DivisionByZero=new Error("Division by Zero"),f.InvalidParameter=new Error("Invalid argument"),f.NonIntegerParameter=new Error("Parameters must be integer"),f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(h,m){return c(h,m),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(h,m){return c(h,m),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(h,m){return c(h,m),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(h,m){return c(h,m),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(h,m){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(h===void 0)return i(this.s*this.n%this.d,1);if(c(h,m),t.n===0&&this.d===0)throw f.DivisionByZero;return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(h,m){return c(h,m),i(a(t.n,this.n)*a(t.d,this.d),t.d*this.d)},lcm:function(h,m){return c(h,m),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,a(t.n,this.n)*a(t.d,this.d))},ceil:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(h*this.s*this.n/this.d),h)},floor:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(h*this.s*this.n/this.d),h)},round:function(h){return h=Math.pow(10,h||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(h*this.s*this.n/this.d),h)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(h,m){if(c(h,m),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=o(this.n),l=o(this.d),d=1,D=1;for(var A in v)if(A!=="1"){if(A==="0"){d=0;break}if(v[A]*=t.n,v[A]%t.d===0)v[A]/=t.d;else return null;d*=Math.pow(A,v[A])}for(var A in l)if(A!=="1"){if(l[A]*=t.n,l[A]%t.d===0)l[A]/=t.d;else return null;D*=Math.pow(A,l[A])}return t.s<0?i(D,d):i(d,D)},equals:function(h,m){return c(h,m),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(h,m){c(h,m);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(h){if(isNaN(this.n)||isNaN(this.d))return this;h=h||.001;for(var m=this.abs(),v=m.toContinued(),l=1;l<v.length;l++){for(var d=i(v[l-1],1),D=l-2;D>=0;D--)d=d.inverse().add(v[D]);if(d.sub(m).abs().valueOf()<h)return d.mul(this.s)}return this},divisible:function(h,m){return c(h,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(h){var m,v="",l=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=l:(h&&(m=Math.floor(l/d))>0&&(v+=m,v+=" ",l%=d),v+=l,v+="/",v+=d),v},toLatex:function(h){var m,v="",l=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=l:(h&&(m=Math.floor(l/d))>0&&(v+=m,l%=d),v+="\\frac{",v+=l,v+="}{",v+=d,v+="}"),v},toContinued:function(){var h,m=this.n,v=this.d,l=[];if(isNaN(m)||isNaN(v))return l;do l.push(Math.floor(m/v)),h=m%v,m=v,v=h;while(m!==1);return l},toString:function(h){var m=this.n,v=this.d;if(isNaN(m)||isNaN(v))return"NaN";h=h||15;var l=s(m,v),d=u(m,v,l),D=this.s<0?"-":"";if(D+=m/v|0,m%=v,m*=10,m&&(D+="."),l){for(var A=d;A--;)D+=m/v|0,m%=v,m*=10;D+="(";for(var A=l;A--;)D+=m/v|0,m%=v,m*=10;D+=")"}else for(var A=h;m&&A--;)D+=m/v|0,m%=v,m*=10;return D}},typeof define=="function"&&define.amd?define([],function(){return f}):typeof On=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,na.exports=f):r.Fraction=f})(On)});var Zc={};_u(Zc,{code:()=>an,interpret:()=>Xc});var Oi=rt(fn());var Ue=class{constructor(e="INT"){this.base="INT";this.base=e}clone(){let e=new Ue;return e.base=this.base,e}toString(){return""+this.base}},Ve=class{constructor(e=""){this.str="";this.tmp="";this.str=e}},it=class{constructor(){this.type=new Ue;this.code=new Ve;this.sym=null}};var sr=class{constructor(e,t,n,i,o=[]){this.id="";this.kind="LOCAL";this.type=new Ue;this.scope=0;this.runtimeId="";this.subSymbols=[];this.functionOverloadSuccessor=null;this.value=null;this.id=e,this.kind=t,this.type=n,this.scope=i,this.subSymbols=o}toString(){let e="SYM";if(e+=',id="'+this.id+'"',e+=',kind="'+this.kind+'"',e+=',type="'+this.type.toString()+'"',e+=',scope="'+this.scope+'"',e+=',runtimeId="'+this.runtimeId+'"',this.subSymbols.length>0){e+=`,subSymbols=[
`;for(let t=0;t<this.subSymbols.length;t++)e+="  "+this.subSymbols[t].toString();e+="]"}return e+=`
`,e}};function cn(r,e){if(e==="ID")return"ID";if(e==="BOOL")return"BOOL";if(e==="INT")return"INT";if(e==="REAL")return"REAL";if(e==="COMPLEX")return"COMPLEX";if(e==="VECTOR")return"VECTOR";if(e==="MATRIX")return"MATRIX";if(e==="TERM")return"TERM";if(e==="TERM_VAR")return"TERM_VAR";if(e==="SET_INT")return"INT_SET";if(e==="INT_LIST")return"INT_LIST";r.error("unknown base type "+e)}function Li(r){let e=new Oi.Lexer;e.configureSingleLineComments("#"),e.configureMultiLineComments("",""),e.enableEmitNewlines(!1),e.enableEmitIndentation(!1),e.enableBackslashLineBreaks(!1),e.setTerminals(["->"]),e.pushSource("PROTOTYPES",r);let t=[];for(;e.isNotEND();){let n=e.ID(),i=[],o=[];if(e.isTER("<")){e.next();let m=0;for(;e.isNotTER(">");)m>0&&e.TER(","),i.push(e.ID()),e.TER(":"),o.push(cn(e,e.ID())),m++;e.TER(">")}let c=[],p=[];e.TER("(");let s=0;for(;e.isNotTER(")");)s>0&&e.TER(","),c.push(e.ID()),e.TER(":"),p.push(cn(e,e.ID())),s++;e.TER(")"),e.TER(":");let u=cn(e,e.ID());e.TER("->");let a=e.ID();e.TER("."),a+="."+e.ID(),e.TER(";");let f=[];for(let m=0;m<i.length;m++){let v=new sr(i[m],"DIMENSION",new Ue(o[m]),1,[]);f.push(v)}for(let m=0;m<c.length;m++){let v=new sr(c[m],"PARAMETER",new Ue(p[m]),1,[]);f.push(v)}let h=new sr(n,"FUNCTION",new Ue(u),0,f);h.runtimeId=a;for(let m=t.length-1;m>=0;m--)if(t[m].id===n){t[m].functionOverloadSuccessor=h;break}t.push(h)}return t}var Lr=class extends Error{constructor(e){super(e),this.name="VectorError"}},Ge=class{constructor(e){this.size=1;this.values=[];this.size=e,this.values=new Array(e).fill(0)}getSize(){return this.size}setValue(e,t){this.values[e]=t}getValue(e){return this.values[e]}clone(){let e=new Ge(this.size);return e.values=[...this.values],e}toString(){let e="[";for(let t=0;t<this.size;t++)t>0&&(e+=","),e+=this.getValue(t);return e+="]",e}static add(e,t){if(e.size!=t.size)throw new Lr("dimensions do not match");let n=e.clone();for(let i=0;i<t.size;i++)n.values[i]+=t.values[i];return n}static sub(e,t){if(e.size!=t.size)throw new Lr("dimensions do not match");let n=e.clone();for(let i=0;i<t.size;i++)n.values[i]-=t.values[i];return n}static dot(e,t){if(e.size!=t.size)throw new Lr("dimensions do not match");let n=0;for(let i=0;i<t.size;i++)n+=e.values[i]*t.values[i];return n}static cross(e,t){if(e.size!=3||t.size!=3)throw new Lr("vector length must be 3");let n=new Ge(3);return n.values[0]=e.values[1]*t.values[2]-e.values[2]*t.values[1],n.values[1]=e.values[2]*t.values[0]-e.values[0]*t.values[2],n.values[2]=e.values[0]*t.values[1]-e.values[1]*t.values[0],n}};var wt=class{constructor(e){this.parent=null;this.parent=e}_create(e,t){let n=new Ge(e),i=0;for(let o=0;o<e;o++)n.setValue(o,t[i++]);return n}_addVectors(e,t,n){if(e.getSize()!=t.getSize())throw new Ae(n,"dimensions do not match");return Ge.add(e,t)}_subVectors(e,t,n){if(e.getSize()!=t.getSize())throw new Ae(n,"dimensions do not match");return Ge.sub(e,t)}_dotVectors(e,t,n){if(e.getSize()!=t.getSize())throw new Ae(n,"dimensions do not match");return Ge.dot(e,t)}_crossVectors(e,t,n){if(e.getSize()!=3||t.getSize()!=3)throw new Ae(n,"vector length must be 3");return Ge.cross(e,t)}_zerosVector(e){let t=new Ge(e);for(let n=0;n<e;n++)t.setValue(n,0);return t}_randVector(e,t,n){let i=new Ge(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMax(t,n));return i}_randZVector(e,t,n){let i=new Ge(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMaxZ(t,n));return i}};function ot(){return ot=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ot.apply(this,arguments)}var ln={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function se(r){return typeof r=="number"}function Me(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function pn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function hn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function At(r){return r&&r.constructor.prototype.isUnit===!0||!1}function We(r){return typeof r=="string"}var he=Array.isArray;function xe(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function mr(r){return Array.isArray(r)||xe(r)}function ki(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Pi(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function zi(r){return r&&r.constructor.prototype.isRange===!0||!1}function kr(r){return r&&r.constructor.prototype.isIndex===!0||!1}function qi(r){return typeof r=="boolean"}function Ui(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Vi(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Xi(r){return typeof r=="function"}function Zi(r){return r instanceof Date}function ji(r){return r instanceof RegExp}function Hi(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!pn(r)&&!hn(r))}function Gi(r){return r===null}function Wi(r){return r===void 0}function Qi(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yi(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function $i(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ji(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ki(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function eo(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function ro(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function to(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function no(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function io(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function oo(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function ao(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function uo(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function so(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function fo(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function co(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function lo(r){return r&&r.constructor.prototype.isChain===!0||!1}function Ke(r){var e=typeof r;return e==="object"?r===null?"null":Me(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function me(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return me(t)});if(r instanceof Date)return new Date(r.valueOf());if(Me(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Ou(r,me)}function Ou(r,e){var t={};for(var n in r)zr(r,n)&&(t[n]=e(r[n]));return t}function po(r,e){for(var t in e)zr(e,t)&&(r[t]=e[t]);return r}function Pr(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Pr(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Pr(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function zr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function ho(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=r[i];o!==void 0&&(t[i]=o)}return t}var mo=["Matrix","Array"],vo=["number","BigNumber","Fraction"];var fr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ln)};ot(fr,ln,{MATRIX_OPTIONS:mo,NUMBER_OPTIONS:vo});var An=rt(Do(),1);function ie(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var xo=Math.sign||function(r){return r>0?1:r<0?-1:0},go=Math.log2||function(e){return Math.log(e)/Math.LN2},Eo=Math.log10||function(e){return Math.log(e)/Math.LN10},yo=Math.log1p||function(r){return Math.log(r+1)},wo=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},Ao=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function dn(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ie(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!ie(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),o="i".concat(t)}var c="";return r<0&&(r=-r,c="-"),"".concat(c).concat(i).concat(r.toString(e)).concat(o)}function at(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),se(e)?n=e:se(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Co(r,n);case"exponential":return To(r,n);case"engineering":return Lu(r,n);case"bin":return dn(r,2,i);case"oct":return dn(r,8,i);case"hex":return dn(r,16,i);case"auto":return ku(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],c=arguments[4];return o!=="."?o+c:c});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ct(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var c=n.replace(".","").replace(/^0*/,function(p){return i-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return c.length===0&&(c.push(0),i++),{sign:t,coefficients:c,exponent:i}}function Lu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ct(r),n=Tt(t,e),i=n.exponent,o=n.coefficients,c=i%3===0?i:i<0?i-3-i%3:i-i%3;if(se(e))for(;e>o.length||i-c+1>o.length;)o.push(0);else for(var p=Math.abs(i-c)-(o.length-1),s=0;s<p;s++)o.push(0);for(var u=Math.abs(i-c),a=1;u>0;)a++,u--;var f=o.slice(a).join(""),h=se(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=o.slice(0,a).join("")+h+"e"+(i>=0?"+":"")+c.toString();return n.sign+m}function Co(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ct(r),n=typeof e=="number"?Tt(t,t.exponent+1+e):t,i=n.coefficients,o=n.exponent+1,c=o+(e||0);return i.length<c&&(i=i.concat(qr(c-i.length))),o<0&&(i=qr(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function To(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ct(r),n=e?Tt(t,e):t,i=n.coefficients,o=n.exponent;i.length<e&&(i=i.concat(qr(e-i.length)));var c=i.shift();return n.sign+c+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function ku(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,o=Ct(r),c=e?Tt(o,e):o;if(c.exponent<n||c.exponent>=i)return To(r,e);var p=c.coefficients,s=c.exponent;p.length<e&&(p=p.concat(qr(e-p.length))),p=p.concat(qr(s-p.length+1+(p.length<e?e-p.length:0))),p=qr(-s).concat(p);var u=s>0?s:0;return u<p.length-1&&p.splice(u+1,0,"."),c.sign+p.join("")}function Tt(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),t.exponent++,o++),o--,n[o]++}}return t}function qr(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function bo(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Pu=Number.EPSILON||2220446049250313e-31;function cr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<Pu?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}function Dn(r,e,t){var n=r.constructor,i=new n(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ie(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function _o(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return qu(r,n);case"exponential":return Fo(r,n);case"engineering":return zu(r,n);case"bin":return Dn(r,2,i);case"oct":return Dn(r,8,i);case"hex":return Dn(r,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,c=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var p,s=r.toSignificantDigits(n),u=s.e;return u>=o&&u<c?p=s.toFixed():p=Fo(r,n),p.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function zu(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),o=i.toPrecision(e);return o.indexOf("e")!==-1&&(o=i.toString()),o+"e"+(t>=0?"+":"")+n.toString()}function Fo(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function qu(r,e){return r.toFixed(e)}function we(r,e){var t=Uu(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Uu(r,e){if(typeof r=="number")return at(r,e);if(Me(r))return _o(r,e);if(Vu(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Mo(r,e);if(We(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>'"'+n+'": '+we(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function Mo(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=Mo(r[i],e);return t+="]",t}else return we(r,e)}function Vu(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function ne(r,e,t){if(!(this instanceof ne))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ne.prototype=new RangeError;ne.prototype.constructor=RangeError;ne.prototype.name="DimensionError";ne.prototype.isDimensionError=!0;function vr(r,e,t){if(!(this instanceof vr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}vr.prototype=new RangeError;vr.prototype.constructor=RangeError;vr.prototype.name="IndexError";vr.prototype.isIndexError=!0;function er(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function No(r,e,t){var n,i=r.length;if(i!==e[t])throw new ne(i,e[t]);if(t<e.length-1){var o=t+1;for(n=0;n<i;n++){var c=r[n];if(!Array.isArray(c))throw new ne(e.length-1,e.length,"<");No(r[n],e,o)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ne(e.length+1,e.length,">")}function gn(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ne(r.length,0)}else No(r,e,0)}function ve(r,e){if(!se(r)||!ie(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new vr(r,e)}function ut(r,e,t){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!se(i)||!ie(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(e)+")")});var n=t!==void 0?t:0;return xn(r,e,0,n),r}function xn(r,e,t,n){var i,o,c=r.length,p=e[t],s=Math.min(c,p);if(r.length=p,t<e.length-1){var u=t+1;for(i=0;i<s;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),xn(o,e,u,n);for(i=s;i<p;i++)o=[],r[i]=o,xn(o,e,u,n)}else{for(i=0;i<s;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=s;i<p;i++)r[i]=n}}function So(r,e){var t=Zu(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ne(0,n,"!=");e=st(e,n);var i=Bo(e);if(n!==i)throw new ne(i,n,"!=");try{return Xu(t,e)}catch(o){throw o instanceof ne?new ne(i,n,"!="):o}}function st(r,e){var t=Bo(r),n=r.slice(),i=-1,o=r.indexOf(i),c=r.indexOf(i,o+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var p=o>=0,s=e%t===0;if(p)if(s)n[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function Bo(r){return r.reduce((e,t)=>e*t,1)}function Xu(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var c=t.length/o,p=0;p<c;p++)n.push(t.slice(p*o,(p+1)*o));t=n}return t}function bt(r,e,t,n){var i=n||er(r);if(t)for(var o=0;o<t;o++)r=[r],i.unshift(1);for(r=Io(r,e,0);i.length<e;)i.push(1);return r}function Io(r,e,t){var n,i;if(Array.isArray(r)){var o=t+1;for(n=0,i=r.length;n<i;n++)r[n]=Io(r[n],e,o)}else for(var c=t;c<e;c++)r=[r];return r}function Zu(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Ur(r,e){for(var t,n=0,i=0;i<r.length;i++){var o=r[i],c=Array.isArray(o);if(i===0&&c&&(n=o.length),c&&o.length!==n)return;var p=c?Ur(o,e):e(o);if(t===void 0)t=p;else if(t!==p)return"mixed"}return t}function k(r,e,t,n){function i(o){var c=ho(o,e.map(Gu));return ju(r,e,o),t(c)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function ju(r,e,t){var n=e.filter(o=>!Hu(o)).every(o=>t[o]!==void 0);if(!n){var i=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Hu(r){return r&&r[0]==="?"}function Gu(r){return r&&r[0]==="?"?r.slice(1):r}function Ro(r,e){if(Po(r)&&ko(r,e))return r[e];throw typeof r[e]=="function"&&Wu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Oo(r,e,t){if(Po(r)&&ko(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Lo(r,e){return e in r}function ko(r,e){return!r||typeof r!="object"?!1:zr(Qu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Wu(r,e){return r==null||typeof r[e]!="function"||zr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:zr(Yu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Po(r){return typeof r=="object"&&r&&r.constructor===Object}var Qu={length:!0,name:!0},Yu={toString:!0,valueOf:!0,toLocaleString:!0};var En=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Ro(this.wrappedObject,e)}set(e,t){return Oo(this.wrappedObject,e,t),this}has(e){return Lo(this.wrappedObject,e)}};function zo(r){return r?r instanceof Map||r instanceof En||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var qo=function(){return qo=An.default.create,An.default},$u=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Cn=k("typed",$u,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:o}=e,c=qo();return c.clear(),c.addTypes([{name:"number",test:se},{name:"Complex",test:pn},{name:"BigNumber",test:Me},{name:"Fraction",test:hn},{name:"Unit",test:At},{name:"identifier",test:p=>We&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(p)},{name:"string",test:We},{name:"Chain",test:lo},{name:"Array",test:he},{name:"Matrix",test:xe},{name:"DenseMatrix",test:ki},{name:"SparseMatrix",test:Pi},{name:"Range",test:zi},{name:"Index",test:kr},{name:"boolean",test:qi},{name:"ResultSet",test:Ui},{name:"Help",test:Vi},{name:"function",test:Xi},{name:"Date",test:Zi},{name:"RegExp",test:ji},{name:"null",test:Gi},{name:"undefined",test:Wi},{name:"AccessorNode",test:Qi},{name:"ArrayNode",test:Yi},{name:"AssignmentNode",test:$i},{name:"BlockNode",test:Ji},{name:"ConditionalNode",test:Ki},{name:"ConstantNode",test:eo},{name:"FunctionNode",test:to},{name:"FunctionAssignmentNode",test:ro},{name:"IndexNode",test:no},{name:"Node",test:io},{name:"ObjectNode",test:oo},{name:"OperatorNode",test:ao},{name:"ParenthesisNode",test:uo},{name:"RangeNode",test:so},{name:"RelationalNode",test:fo},{name:"SymbolNode",test:co},{name:"Map",test:zo},{name:"Object",test:Hi}]),c.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||yn(s),bo(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return n||Ft(s),new n(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return n||Ft(s),new n(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return n||Ft(s),new n(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){o||wn(s);var u=new o(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){t||yn(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){o||wn(s);try{return new o(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){n||Ft(s);try{return new n(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||yn(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return o||wn(s),new o(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||Ju(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),c.onMismatch=(p,s,u)=>{var a=c.createError(p,s,u);if(["wrongType","mismatch"].includes(a.data.category)&&s.length===1&&mr(s[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw f.data=a.data,f}throw a},c.onMismatch=(p,s,u)=>{var a=c.createError(p,s,u);if(["wrongType","mismatch"].includes(a.data.category)&&s.length===1&&mr(s[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw f.data=a.data,f}throw a},c});function yn(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Ft(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Ju(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function wn(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Vr=9e15,Cr=1e9,Tn="0123456789abcdef",Mt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Nt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Vr,maxE:Vr,crypto:!1},Zo,dr,ee=!0,Bt="[DecimalError] ",Ar=Bt+"Invalid argument: ",jo=Bt+"Precision limit exceeded",Ho=Bt+"crypto unavailable",Go="[object Decimal]",ke=Math.floor,be=Math.pow,Ku=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,es=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rs=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Wo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ur=1e7,J=7,ts=9007199254740991,ns=Mt.length-1,Fn=Nt.length-1,B={toStringTag:Go};B.absoluteValue=B.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Q(r)};B.ceil=function(){return Q(new this.constructor(this),this.e+1,2)};B.clampedTo=B.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(Ar+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};B.comparedTo=B.cmp=function(r){var e,t,n,i,o=this,c=o.d,p=(r=new o.constructor(r)).d,s=o.s,u=r.s;if(!c||!p)return!s||!u?NaN:s!==u?s:c===p?0:!c^s<0?1:-1;if(!c[0]||!p[0])return c[0]?s:p[0]?-u:0;if(s!==u)return s;if(o.e!==r.e)return o.e>r.e^s<0?1:-1;for(n=c.length,i=p.length,e=0,t=n<i?n:i;e<t;++e)if(c[e]!==p[e])return c[e]>p[e]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1};B.cosine=B.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+J,n.rounding=1,t=is(n,Ko(n,t)),n.precision=r,n.rounding=e,Q(dr==2||dr==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};B.cubeRoot=B.cbrt=function(){var r,e,t,n,i,o,c,p,s,u,a=this,f=a.constructor;if(!a.isFinite()||a.isZero())return new f(a);for(ee=!1,o=a.s*be(a.s*a,1/3),!o||Math.abs(o)==1/0?(t=Oe(a.d),r=a.e,(o=(r-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=be(t,1/3),r=ke((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?t="5e"+r:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=a.s):n=new f(o.toString()),c=(r=f.precision)+3;;)if(p=n,s=p.times(p).times(p),u=s.plus(a),n=ce(u.plus(a).times(p),u.plus(s),c+2,1),Oe(p.d).slice(0,c)===(t=Oe(n.d)).slice(0,c))if(t=t.slice(c-3,c+1),t=="9999"||!i&&t=="4999"){if(!i&&(Q(p,r+1,0),p.times(p).times(p).eq(a))){n=p;break}c+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Q(n,r+1,1),e=!n.times(n).times(n).eq(a));break}return ee=!0,Q(n,r,f.rounding,e)};B.decimalPlaces=B.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-ke(this.e/J))*J,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};B.dividedBy=B.div=function(r){return ce(this,new this.constructor(r))};B.dividedToIntegerBy=B.divToInt=function(r){var e=this,t=e.constructor;return Q(ce(e,new t(r),0,1,1),t.precision,t.rounding)};B.equals=B.eq=function(r){return this.cmp(r)===0};B.floor=function(){return Q(new this.constructor(this),this.e+1,3)};B.greaterThan=B.gt=function(r){return this.cmp(r)>0};B.greaterThanOrEqualTo=B.gte=function(r){var e=this.cmp(r);return e==1||e===0};B.hyperbolicCosine=B.cosh=function(){var r,e,t,n,i,o=this,c=o.constructor,p=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return p;t=c.precision,n=c.rounding,c.precision=t+Math.max(o.e,o.sd())+4,c.rounding=1,i=o.d.length,i<32?(r=Math.ceil(i/3),e=(1/Rt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=Xr(c,1,o.times(e),new c(1),!0);for(var s,u=r,a=new c(8);u--;)s=o.times(o),o=p.minus(s.times(a.minus(s.times(a))));return Q(o,c.precision=t,c.rounding=n,!0)};B.hyperbolicSine=B.sinh=function(){var r,e,t,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=Xr(o,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Rt(5,r)),i=Xr(o,2,i,i,!0);for(var c,p=new o(5),s=new o(16),u=new o(20);r--;)c=i.times(i),i=i.times(p.plus(c.times(s.times(c).plus(u))))}return o.precision=e,o.rounding=t,Q(i,e,t,!0)};B.hyperbolicTangent=B.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,ce(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};B.inverseCosine=B.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,o=t.rounding;return n!==-1?n===0?e.isNeg()?ar(t,i,o):new t(0):new t(NaN):e.isZero()?ar(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=ar(t,i+4,o).times(.5),t.precision=i,t.rounding=o,r.minus(e))};B.inverseHyperbolicCosine=B.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,ee=!1,t=t.times(t).minus(1).sqrt().plus(t),ee=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};B.inverseHyperbolicSine=B.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,ee=!1,t=t.times(t).plus(1).sqrt().plus(t),ee=!0,n.precision=r,n.rounding=e,t.ln())};B.inverseHyperbolicTangent=B.atanh=function(){var r,e,t,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,e=o.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Q(new o(i),r,e,!0):(o.precision=t=n-i.e,i=ce(i.plus(1),new o(1).minus(i),t+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=e,i.times(.5))):new o(NaN)};B.inverseSine=B.asin=function(){var r,e,t,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,n=o.rounding,e!==-1?e===0?(r=ar(o,t+4,n).times(.5),r.s=i.s,r):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,i.times(2)))};B.inverseTangent=B.atan=function(){var r,e,t,n,i,o,c,p,s,u=this,a=u.constructor,f=a.precision,h=a.rounding;if(u.isFinite()){if(u.isZero())return new a(u);if(u.abs().eq(1)&&f+4<=Fn)return c=ar(a,f+4,h).times(.25),c.s=u.s,c}else{if(!u.s)return new a(NaN);if(f+4<=Fn)return c=ar(a,f+4,h).times(.5),c.s=u.s,c}for(a.precision=p=f+10,a.rounding=1,t=Math.min(28,p/J+2|0),r=t;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(ee=!1,e=Math.ceil(p/J),n=1,s=u.times(u),c=new a(u),i=u;r!==-1;)if(i=i.times(s),o=c.minus(i.div(n+=2)),i=i.times(s),c=o.plus(i.div(n+=2)),c.d[e]!==void 0)for(r=e;c.d[r]===o.d[r]&&r--;);return t&&(c=c.times(2<<t-1)),ee=!0,Q(c,a.precision=f,a.rounding=h,!0)};B.isFinite=function(){return!!this.d};B.isInteger=B.isInt=function(){return!!this.d&&ke(this.e/J)>this.d.length-2};B.isNaN=function(){return!this.s};B.isNegative=B.isNeg=function(){return this.s<0};B.isPositive=B.isPos=function(){return this.s>0};B.isZero=function(){return!!this.d&&this.d[0]===0};B.lessThan=B.lt=function(r){return this.cmp(r)<0};B.lessThanOrEqualTo=B.lte=function(r){return this.cmp(r)<1};B.logarithm=B.log=function(r){var e,t,n,i,o,c,p,s,u=this,a=u.constructor,f=a.precision,h=a.rounding,m=5;if(r==null)r=new a(10),e=!0;else{if(r=new a(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new a(NaN);e=r.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new a(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10===0;)i/=10;o=i!==1}if(ee=!1,p=f+m,c=wr(u,p),n=e?St(a,p+10):wr(r,p),s=ce(c,n,p,1),ft(s.d,i=f,h))do if(p+=10,c=wr(u,p),n=e?St(a,p+10):wr(r,p),s=ce(c,n,p,1),!o){+Oe(s.d).slice(i+1,i+15)+1==1e14&&(s=Q(s,f+1,0));break}while(ft(s.d,i+=10,h));return ee=!0,Q(s,f,h)};B.minus=B.sub=function(r){var e,t,n,i,o,c,p,s,u,a,f,h,m=this,v=m.constructor;if(r=new v(r),!m.d||!r.d)return!m.s||!r.s?r=new v(NaN):m.d?r.s=-r.s:r=new v(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(u=m.d,h=r.d,p=v.precision,s=v.rounding,!u[0]||!h[0]){if(h[0])r.s=-r.s;else if(u[0])r=new v(m);else return new v(s===3?-0:0);return ee?Q(r,p,s):r}if(t=ke(r.e/J),a=ke(m.e/J),u=u.slice(),o=a-t,o){for(f=o<0,f?(e=u,o=-o,c=h.length):(e=h,t=a,c=u.length),n=Math.max(Math.ceil(p/J),c)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=u.length,c=h.length,f=n<c,f&&(c=n),n=0;n<c;n++)if(u[n]!=h[n]){f=u[n]<h[n];break}o=0}for(f&&(e=u,u=h,h=e,r.s=-r.s),c=u.length,n=h.length-c;n>0;--n)u[c++]=0;for(n=h.length;n>o;){if(u[--n]<h[n]){for(i=n;i&&u[--i]===0;)u[i]=ur-1;--u[i],u[n]+=ur}u[n]-=h[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(r.d=u,r.e=It(u,t),ee?Q(r,p,s):r):new v(s===3?-0:0)};B.modulo=B.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Q(new n(t),n.precision,n.rounding):(ee=!1,n.modulo==9?(e=ce(t,r.abs(),0,3,1),e.s*=r.s):e=ce(t,r,0,n.modulo,1),e=e.times(r),ee=!0,t.minus(e))};B.naturalExponential=B.exp=function(){return _n(this)};B.naturalLogarithm=B.ln=function(){return wr(this)};B.negated=B.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Q(r)};B.plus=B.add=function(r){var e,t,n,i,o,c,p,s,u,a,f=this,h=f.constructor;if(r=new h(r),!f.d||!r.d)return!f.s||!r.s?r=new h(NaN):f.d||(r=new h(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(u=f.d,a=r.d,p=h.precision,s=h.rounding,!u[0]||!a[0])return a[0]||(r=new h(f)),ee?Q(r,p,s):r;if(o=ke(f.e/J),n=ke(r.e/J),u=u.slice(),i=o-n,i){for(i<0?(t=u,i=-i,c=a.length):(t=a,n=o,c=u.length),o=Math.ceil(p/J),c=o>c?o+1:c+1,i>c&&(i=c,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(c=u.length,i=a.length,c-i<0&&(i=c,t=a,a=u,u=t),e=0;i;)e=(u[--i]=u[i]+a[i]+e)/ur|0,u[i]%=ur;for(e&&(u.unshift(e),++n),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=It(u,n),ee?Q(r,p,s):r};B.precision=B.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Ar+r);return t.d?(e=Qo(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};B.round=function(){var r=this,e=r.constructor;return Q(new e(r),r.e+1,e.rounding)};B.sine=B.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+J,n.rounding=1,t=as(n,Ko(n,t)),n.precision=r,n.rounding=e,Q(dr>2?t.neg():t,r,e,!0)):new n(NaN)};B.squareRoot=B.sqrt=function(){var r,e,t,n,i,o,c=this,p=c.d,s=c.e,u=c.s,a=c.constructor;if(u!==1||!p||!p[0])return new a(!u||u<0&&(!p||p[0])?NaN:p?c:1/0);for(ee=!1,u=Math.sqrt(+c),u==0||u==1/0?(e=Oe(p),(e.length+s)%2==0&&(e+="0"),u=Math.sqrt(e),s=ke((s+1)/2)-(s<0||s%2),u==1/0?e="5e"+s:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),n=new a(e)):n=new a(u.toString()),t=(s=a.precision)+3;;)if(o=n,n=o.plus(ce(c,o,t+2,1)).times(.5),Oe(o.d).slice(0,t)===(e=Oe(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Q(o,s+1,0),o.times(o).eq(c))){n=o;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Q(n,s+1,1),r=!n.times(n).eq(c));break}return ee=!0,Q(n,s,a.rounding,r)};B.tangent=B.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=ce(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Q(dr==2||dr==4?t.neg():t,r,e,!0)):new n(NaN)};B.times=B.mul=function(r){var e,t,n,i,o,c,p,s,u,a=this,f=a.constructor,h=a.d,m=(r=new f(r)).d;if(r.s*=a.s,!h||!h[0]||!m||!m[0])return new f(!r.s||h&&!h[0]&&!m||m&&!m[0]&&!h?NaN:!h||!m?r.s/0:r.s*0);for(t=ke(a.e/J)+ke(r.e/J),s=h.length,u=m.length,s<u&&(o=h,h=m,m=o,c=s,s=u,u=c),o=[],c=s+u,n=c;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=s+n;i>n;)p=o[i]+m[n]*h[i-n-1]+e,o[i--]=p%ur|0,e=p/ur|0;o[i]=(o[i]+e)%ur|0}for(;!o[--c];)o.pop();return e?++t:o.shift(),r.d=o,r.e=It(o,t),ee?Q(r,f.precision,f.rounding):r};B.toBinary=function(r,e){return Nn(this,2,r,e)};B.toDecimalPlaces=B.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Qe(r,0,Cr),e===void 0?e=n.rounding:Qe(e,0,8),Q(t,r+t.e+1,e))};B.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=lr(n,!0):(Qe(r,0,Cr),e===void 0?e=i.rounding:Qe(e,0,8),n=Q(new i(n),r+1,e),t=lr(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};B.toFixed=function(r,e){var t,n,i=this,o=i.constructor;return r===void 0?t=lr(i):(Qe(r,0,Cr),e===void 0?e=o.rounding:Qe(e,0,8),n=Q(new o(i),r+i.e+1,e),t=lr(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};B.toFraction=function(r){var e,t,n,i,o,c,p,s,u,a,f,h,m=this,v=m.d,l=m.constructor;if(!v)return new l(m);if(u=t=new l(1),n=s=new l(0),e=new l(n),o=e.e=Qo(v)-m.e-1,c=o%J,e.d[0]=be(10,c<0?J+c:c),r==null)r=o>0?e:u;else{if(p=new l(r),!p.isInt()||p.lt(u))throw Error(Ar+p);r=p.gt(e)?o>0?e:u:p}for(ee=!1,p=new l(Oe(v)),a=l.precision,l.precision=o=v.length*J*2;f=ce(p,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=u,u=s.plus(f.times(i)),s=i,i=e,e=p.minus(f.times(i)),p=i;return i=ce(r.minus(t),n,0,1,1),s=s.plus(i.times(u)),t=t.plus(i.times(n)),s.s=u.s=m.s,h=ce(u,n,o,1).minus(m).abs().cmp(ce(s,t,o,1).minus(m).abs())<1?[u,n]:[s,t],l.precision=a,ee=!0,h};B.toHexadecimal=B.toHex=function(r,e){return Nn(this,16,r,e)};B.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Qe(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(ee=!1,t=ce(t,r,0,e,1).times(r),ee=!0,Q(t)):(r.s=t.s,t=r),t};B.toNumber=function(){return+this};B.toOctal=function(r,e){return Nn(this,8,r,e)};B.toPower=B.pow=function(r){var e,t,n,i,o,c,p=this,s=p.constructor,u=+(r=new s(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new s(be(+p,u));if(p=new s(p),p.eq(1))return p;if(n=s.precision,o=s.rounding,r.eq(1))return Q(p,n,o);if(e=ke(r.e/J),e>=r.d.length-1&&(t=u<0?-u:u)<=ts)return i=Yo(s,p,t,n),r.s<0?new s(1).div(i):Q(i,n,o);if(c=p.s,c<0){if(e<r.d.length-1)return new s(NaN);if((r.d[e]&1)==0&&(c=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=c,p}return t=be(+p,u),e=t==0||!isFinite(t)?ke(u*(Math.log("0."+Oe(p.d))/Math.LN10+p.e+1)):new s(t+"").e,e>s.maxE+1||e<s.minE-1?new s(e>0?c/0:0):(ee=!1,s.rounding=p.s=1,t=Math.min(12,(e+"").length),i=_n(r.times(wr(p,n+t)),n),i.d&&(i=Q(i,n+5,1),ft(i.d,n,o)&&(e=n+10,i=Q(_n(r.times(wr(p,e+t)),e),e+5,1),+Oe(i.d).slice(n+1,n+15)+1==1e14&&(i=Q(i,n+1,0)))),i.s=c,ee=!0,s.rounding=o,Q(i,n,o))};B.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=lr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Qe(r,1,Cr),e===void 0?e=i.rounding:Qe(e,0,8),n=Q(new i(n),r,e),t=lr(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};B.toSignificantDigits=B.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Qe(r,1,Cr),e===void 0?e=n.rounding:Qe(e,0,8)),Q(new n(t),r,e)};B.toString=function(){var r=this,e=r.constructor,t=lr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};B.truncated=B.trunc=function(){return Q(new this.constructor(this),this.e+1,1)};B.valueOf=B.toJSON=function(){var r=this,e=r.constructor,t=lr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Oe(r){var e,t,n,i=r.length-1,o="",c=r[0];if(i>0){for(o+=c,e=1;e<i;e++)n=r[e]+"",t=J-n.length,t&&(o+=yr(t)),o+=n;c=r[e],n=c+"",t=J-n.length,t&&(o+=yr(t))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}function Qe(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Ar+r)}function ft(r,e,t,n){var i,o,c,p;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=J,i=0):(i=Math.ceil((e+1)/J),e%=J),o=be(10,J-e),p=r[i]%o|0,n==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),c=t<4&&p==99999||t>3&&p==49999||p==5e4||p==0):c=(t<4&&p+1==o||t>3&&p+1==o/2)&&(r[i+1]/o/100|0)==be(10,e-2)-1||(p==o/2||p==0)&&(r[i+1]/o/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),c=(n||t<4)&&p==9999||!n&&t>3&&p==4999):c=((n||t<4)&&p+1==o||!n&&t>3&&p+1==o/2)&&(r[i+1]/o/1e3|0)==be(10,e-3)-1,c}function _t(r,e,t){for(var n,i=[0],o,c=0,p=r.length;c<p;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Tn.indexOf(r.charAt(c++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function is(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/Rt(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Xr(r,1,e.times(i),new r(1));for(var o=t;o--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return r.precision-=t,e}var ce=function(){function r(n,i,o){var c,p=0,s=n.length;for(n=n.slice();s--;)c=n[s]*i+p,n[s]=c%o|0,p=c/o|0;return p&&n.unshift(p),n}function e(n,i,o,c){var p,s;if(o!=c)s=o>c?1:-1;else for(p=s=0;p<o;p++)if(n[p]!=i[p]){s=n[p]>i[p]?1:-1;break}return s}function t(n,i,o,c){for(var p=0;o--;)n[o]-=p,p=n[o]<i[o]?1:0,n[o]=p*c+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,c,p,s){var u,a,f,h,m,v,l,d,D,A,x,b,w,g,y,T,F,N,R,V,j=n.constructor,L=n.s==i.s?1:-1,O=n.d,M=i.d;if(!O||!O[0]||!M||!M[0])return new j(!n.s||!i.s||(O?M&&O[0]==M[0]:!M)?NaN:O&&O[0]==0||!M?L*0:L/0);for(s?(m=1,a=n.e-i.e):(s=ur,m=J,a=ke(n.e/m)-ke(i.e/m)),R=M.length,F=O.length,D=new j(L),A=D.d=[],f=0;M[f]==(O[f]||0);f++);if(M[f]>(O[f]||0)&&a--,o==null?(g=o=j.precision,c=j.rounding):p?g=o+(n.e-i.e)+1:g=o,g<0)A.push(1),v=!0;else{if(g=g/m+2|0,f=0,R==1){for(h=0,M=M[0],g++;(f<F||h)&&g--;f++)y=h*s+(O[f]||0),A[f]=y/M|0,h=y%M|0;v=h||f<F}else{for(h=s/(M[0]+1)|0,h>1&&(M=r(M,h,s),O=r(O,h,s),R=M.length,F=O.length),T=R,x=O.slice(0,R),b=x.length;b<R;)x[b++]=0;V=M.slice(),V.unshift(0),N=M[0],M[1]>=s/2&&++N;do h=0,u=e(M,x,R,b),u<0?(w=x[0],R!=b&&(w=w*s+(x[1]||0)),h=w/N|0,h>1?(h>=s&&(h=s-1),l=r(M,h,s),d=l.length,b=x.length,u=e(l,x,d,b),u==1&&(h--,t(l,R<d?V:M,d,s))):(h==0&&(u=h=1),l=M.slice()),d=l.length,d<b&&l.unshift(0),t(x,l,b,s),u==-1&&(b=x.length,u=e(M,x,R,b),u<1&&(h++,t(x,R<b?V:M,b,s))),b=x.length):u===0&&(h++,x=[0]),A[f++]=h,u&&x[0]?x[b++]=O[T]||0:(x=[O[T]],b=1);while((T++<F||x[0]!==void 0)&&g--);v=x[0]!==void 0}A[0]||A.shift()}if(m==1)D.e=a,Zo=v;else{for(f=1,h=A[0];h>=10;h/=10)f++;D.e=f+a*m-1,Q(D,p?o+D.e+1:o,c,v)}return D}}();function Q(r,e,t,n){var i,o,c,p,s,u,a,f,h,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,p=f[0];p>=10;p/=10)i++;if(o=e-i,o<0)o+=J,c=e,a=f[h=0],s=a/be(10,i-c-1)%10|0;else if(h=Math.ceil((o+1)/J),p=f.length,h>=p)if(n){for(;p++<=h;)f.push(0);a=s=0,i=1,o%=J,c=o-J+1}else break e;else{for(a=p=f[h],i=1;p>=10;p/=10)i++;o%=J,c=o-J+i,s=c<0?0:a/be(10,i-c-1)%10|0}if(n=n||e<0||f[h+1]!==void 0||(c<0?a:a%be(10,i-c-1)),u=t<4?(s||n)&&(t==0||t==(r.s<0?3:2)):s>5||s==5&&(t==4||n||t==6&&(o>0?c>0?a/be(10,i-c):0:f[h-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=r.e+1,f[0]=be(10,(J-e%J)%J),r.e=-e||0):f[0]=r.e=0,r;if(o==0?(f.length=h,p=1,h--):(f.length=h+1,p=be(10,J-o),f[h]=c>0?(a/be(10,i-c)%be(10,c)|0)*p:0),u)for(;;)if(h==0){for(o=1,c=f[0];c>=10;c/=10)o++;for(c=f[0]+=p,p=1;c>=10;c/=10)p++;o!=p&&(r.e++,f[0]==ur&&(f[0]=1));break}else{if(f[h]+=p,f[h]!=ur)break;f[h--]=0,p=1}for(o=f.length;f[--o]===0;)f.pop()}return ee&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function lr(r,e,t){if(!r.isFinite())return Jo(r);var n,i=r.e,o=Oe(r.d),c=o.length;return e?(t&&(n=t-c)>0?o=o.charAt(0)+"."+o.slice(1)+yr(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+yr(-i-1)+o,t&&(n=t-c)>0&&(o+=yr(n))):i>=c?(o+=yr(i+1-c),t&&(n=t-i-1)>0&&(o=o+"."+yr(n))):((n=i+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-c)>0&&(i+1===c&&(o+="."),o+=yr(n))),o}function It(r,e){var t=r[0];for(e*=J;t>=10;t/=10)e++;return e}function St(r,e,t){if(e>ns)throw ee=!0,t&&(r.precision=t),Error(jo);return Q(new r(Mt),e,1,!0)}function ar(r,e,t){if(e>Fn)throw Error(jo);return Q(new r(Nt),e,t,!0)}function Qo(r){var e=r.length-1,t=e*J+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function yr(r){for(var e="";r--;)e+="0";return e}function Yo(r,e,t,n){var i,o=new r(1),c=Math.ceil(n/J+4);for(ee=!1;;){if(t%2&&(o=o.times(e),Vo(o.d,c)&&(i=!0)),t=ke(t/2),t===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}e=e.times(e),Vo(e.d,c)}return ee=!0,o}function Uo(r){return r.d[r.d.length-1]&1}function $o(r,e,t){for(var n,i=new r(e[0]),o=0;++o<e.length;)if(n=new r(e[o]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function _n(r,e){var t,n,i,o,c,p,s,u=0,a=0,f=0,h=r.constructor,m=h.rounding,v=h.precision;if(!r.d||!r.d[0]||r.e>17)return new h(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(ee=!1,s=v):s=e,p=new h(.03125);r.e>-2;)r=r.times(p),f+=5;for(n=Math.log(be(2,f))/Math.LN10*2+5|0,s+=n,t=o=c=new h(1),h.precision=s;;){if(o=Q(o.times(r),s,1),t=t.times(++a),p=c.plus(ce(o,t,s,1)),Oe(p.d).slice(0,s)===Oe(c.d).slice(0,s)){for(i=f;i--;)c=Q(c.times(c),s,1);if(e==null)if(u<3&&ft(c.d,s-n,m,u))h.precision=s+=10,t=o=p=new h(1),a=0,u++;else return Q(c,h.precision=v,m,ee=!0);else return h.precision=v,c}c=p}}function wr(r,e){var t,n,i,o,c,p,s,u,a,f,h,m=1,v=10,l=r,d=l.d,D=l.constructor,A=D.rounding,x=D.precision;if(l.s<0||!d||!d[0]||!l.e&&d[0]==1&&d.length==1)return new D(d&&!d[0]?-1/0:l.s!=1?NaN:d?0:l);if(e==null?(ee=!1,a=x):a=e,D.precision=a+=v,t=Oe(d),n=t.charAt(0),Math.abs(o=l.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)l=l.times(r),t=Oe(l.d),n=t.charAt(0),m++;o=l.e,n>1?(l=new D("0."+t),o++):l=new D(n+"."+t.slice(1))}else return u=St(D,a+2,x).times(o+""),l=wr(new D(n+"."+t.slice(1)),a-v).plus(u),D.precision=x,e==null?Q(l,x,A,ee=!0):l;for(f=l,s=c=l=ce(l.minus(1),l.plus(1),a,1),h=Q(l.times(l),a,1),i=3;;){if(c=Q(c.times(h),a,1),u=s.plus(ce(c,new D(i),a,1)),Oe(u.d).slice(0,a)===Oe(s.d).slice(0,a))if(s=s.times(2),o!==0&&(s=s.plus(St(D,a+2,x).times(o+""))),s=ce(s,new D(m),a,1),e==null)if(ft(s.d,a-v,A,p))D.precision=a+=v,u=c=l=ce(f.minus(1),f.plus(1),a,1),h=Q(l.times(l),a,1),i=p=1;else return Q(s,D.precision=x,A,ee=!0);else return D.precision=x,s;s=u,i+=2}}function Jo(r){return String(r.s*r.s/0)}function Mn(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%J,t<0&&(n+=J),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=J;n<i;)r.d.push(+e.slice(n,n+=J));e=e.slice(n),n=J-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),ee&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function os(r,e){var t,n,i,o,c,p,s,u,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Wo.test(e))return Mn(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(es.test(e))t=16,e=e.toLowerCase();else if(Ku.test(e))t=2;else if(rs.test(e))t=8;else throw Error(Ar+e);for(o=e.search(/p/i),o>0?(s=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),c=o>=0,n=r.constructor,c&&(e=e.replace(".",""),p=e.length,o=p-o,i=Yo(n,new n(t),o,o*2)),u=_t(e,t,ur),a=u.length-1,o=a;u[o]===0;--o)u.pop();return o<0?new n(r.s*0):(r.e=It(u,a),r.d=u,ee=!1,c&&(r=ce(r,i,p*4)),s&&(r=r.times(Math.abs(s)<54?be(2,s):ct.pow(2,s))),ee=!0,r)}function as(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Xr(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Rt(5,t)),e=Xr(r,2,e,e);for(var i,o=new r(5),c=new r(16),p=new r(20);t--;)i=e.times(e),e=e.times(o.plus(i.times(c.times(i).minus(p))));return e}function Xr(r,e,t,n,i){var o,c,p,s,u=1,a=r.precision,f=Math.ceil(a/J);for(ee=!1,s=t.times(t),p=new r(n);;){if(c=ce(p.times(s),new r(e++*e++),a,1),p=i?n.plus(c):n.minus(c),n=ce(c.times(s),new r(e++*e++),a,1),c=p.plus(n),c.d[f]!==void 0){for(o=f;c.d[o]===p.d[o]&&o--;);if(o==-1)break}o=p,p=n,n=c,c=o,u++}return ee=!0,c.d.length=f+1,c}function Rt(r,e){for(var t=r;--e;)t*=r;return t}function Ko(r,e){var t,n=e.s<0,i=ar(r,r.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return dr=n?4:1,e;if(t=e.divToInt(i),t.isZero())dr=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(o))return dr=Uo(t)?n?2:3:n?4:1,e;dr=Uo(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Nn(r,e,t,n){var i,o,c,p,s,u,a,f,h,m=r.constructor,v=t!==void 0;if(v?(Qe(t,1,Cr),n===void 0?n=m.rounding:Qe(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())a=Jo(r);else{for(a=lr(r),c=a.indexOf("."),v?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,c>=0&&(a=a.replace(".",""),h=new m(1),h.e=a.length-c,h.d=_t(lr(h),10,i),h.e=h.d.length),f=_t(a,10,i),o=s=f.length;f[--s]==0;)f.pop();if(!f[0])a=v?"0p+0":"0";else{if(c<0?o--:(r=new m(r),r.d=f,r.e=o,r=ce(r,h,t,n,0,i),f=r.d,o=r.e,u=Zo),c=f[t],p=i/2,u=u||f[t+1]!==void 0,u=n<4?(c!==void 0||u)&&(n===0||n===(r.s<0?3:2)):c>p||c===p&&(n===4||u||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,u)for(;++f[--t]>i-1;)f[t]=0,t||(++o,f.unshift(1));for(s=f.length;!f[s-1];--s);for(c=0,a="";c<s;c++)a+=Tn.charAt(f[c]);if(v){if(s>1)if(e==16||e==8){for(c=e==16?4:3,--s;s%c;s++)a+="0";for(f=_t(a,i,e),s=f.length;!f[s-1];--s);for(c=1,a="1.";c<s;c++)a+=Tn.charAt(f[c])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>s)for(o-=s;o--;)a+="0";else o<s&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return r.s<0?"-"+a:a}function Vo(r,e){if(r.length>e)return r.length=e,!0}function us(r){return new this(r).abs()}function ss(r){return new this(r).acos()}function fs(r){return new this(r).acosh()}function cs(r,e){return new this(r).plus(e)}function ls(r){return new this(r).asin()}function ps(r){return new this(r).asinh()}function hs(r){return new this(r).atan()}function ms(r){return new this(r).atanh()}function vs(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,o=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ar(this,o,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ar(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ar(this,o,1).times(.5),t.s=r.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(ce(r,e,o,1)),e=ar(this,o,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(ce(r,e,o,1)),t}function ds(r){return new this(r).cbrt()}function Ds(r){return Q(r=new this(r),r.e+1,2)}function xs(r,e,t){return new this(r).clamp(e,t)}function gs(r){if(!r||typeof r!="object")throw Error(Bt+"Object expected");var e,t,n,i=r.defaults===!0,o=["precision",1,Cr,"rounding",0,8,"toExpNeg",-Vr,0,"toExpPos",0,Vr,"maxE",0,Vr,"minE",-Vr,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=bn[t]),(n=r[t])!==void 0)if(ke(n)===n&&n>=o[e+1]&&n<=o[e+2])this[t]=n;else throw Error(Ar+t+": "+n);if(t="crypto",i&&(this[t]=bn[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Ho);else this[t]=!1;else throw Error(Ar+t+": "+n);return this}function Es(r){return new this(r).cos()}function ys(r){return new this(r).cosh()}function ea(r){var e,t,n;function i(o){var c,p,s,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,Xo(o)){u.s=o.s,ee?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(s=typeof o,s==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(c=0,p=o;p>=10;p/=10)c++;ee?c>i.maxE?(u.e=NaN,u.d=null):c<i.minE?(u.e=0,u.d=[0]):(u.e=c,u.d=[o]):(u.e=c,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return Mn(u,o.toString())}else if(s!=="string")throw Error(Ar+o);return(p=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(p===43&&(o=o.slice(1)),u.s=1),Wo.test(o)?Mn(u,o):os(u,o)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=gs,i.clone=ea,i.isDecimal=Xo,i.abs=us,i.acos=ss,i.acosh=fs,i.add=cs,i.asin=ls,i.asinh=ps,i.atan=hs,i.atanh=ms,i.atan2=vs,i.cbrt=ds,i.ceil=Ds,i.clamp=xs,i.cos=Es,i.cosh=ys,i.div=ws,i.exp=As,i.floor=Cs,i.hypot=Ts,i.ln=bs,i.log=Fs,i.log10=Ms,i.log2=_s,i.max=Ns,i.min=Ss,i.mod=Bs,i.mul=Is,i.pow=Rs,i.random=Os,i.round=Ls,i.sign=ks,i.sin=Ps,i.sinh=zs,i.sqrt=qs,i.sub=Us,i.sum=Vs,i.tan=Xs,i.tanh=Zs,i.trunc=js,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function ws(r,e){return new this(r).div(e)}function As(r){return new this(r).exp()}function Cs(r){return Q(r=new this(r),r.e+1,3)}function Ts(){var r,e,t=new this(0);for(ee=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return ee=!0,new this(1/0);t=e}return ee=!0,t.sqrt()}function Xo(r){return r instanceof ct||r&&r.toStringTag===Go||!1}function bs(r){return new this(r).ln()}function Fs(r,e){return new this(r).log(e)}function _s(r){return new this(r).log(2)}function Ms(r){return new this(r).log(10)}function Ns(){return $o(this,arguments,"lt")}function Ss(){return $o(this,arguments,"gt")}function Bs(r,e){return new this(r).mod(e)}function Is(r,e){return new this(r).mul(e)}function Rs(r,e){return new this(r).pow(e)}function Os(r){var e,t,n,i,o=0,c=new this(1),p=[];if(r===void 0?r=this.precision:Qe(r,1,Cr),n=Math.ceil(r/J),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:p[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(p.push(i%1e7),o+=4);o=n/4}else throw Error(Ho);else for(;o<n;)p[o++]=Math.random()*1e7|0;for(n=p[--o],r%=J,n&&r&&(i=be(10,J-r),p[o]=(n/i|0)*i);p[o]===0;o--)p.pop();if(o<0)t=0,p=[0];else{for(t=-1;p[0]===0;t-=J)p.shift();for(n=1,i=p[0];i>=10;i/=10)n++;n<J&&(t-=J-n)}return c.e=t,c.d=p,c}function Ls(r){return Q(r=new this(r),r.e+1,this.rounding)}function ks(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Ps(r){return new this(r).sin()}function zs(r){return new this(r).sinh()}function qs(r){return new this(r).sqrt()}function Us(r,e){return new this(r).sub(e)}function Vs(){var r=0,e=arguments,t=new this(e[r]);for(ee=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return ee=!0,Q(t,this.precision,this.rounding)}function Xs(r){return new this(r).tan()}function Zs(r){return new this(r).tanh()}function js(r){return Q(r=new this(r),r.e+1,1)}B[Symbol.for("nodejs.util.inspect.custom")]=B.toString;B[Symbol.toStringTag]="Decimal";var ct=B.constructor=ea(bn);Mt=new ct(Mt);Nt=new ct(Nt);var Sn=ct;var Hs="BigNumber",Gs=["?on","config"],Bn=k(Hs,Gs,r=>{var{on:e,config:t}=r,n=Sn.clone({precision:t.precision,modulo:Sn.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Ne=rt(ta(),1);var Ws="Complex",Qs=[],Rn=k(Ws,Qs,()=>(Object.defineProperty(Ne.default,"name",{value:"Complex"}),Ne.default.prototype.constructor=Ne.default,Ne.default.prototype.type="Complex",Ne.default.prototype.isComplex=!0,Ne.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ne.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ne.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=at(this.re,r),o=at(this.im,r),c=se(r)?r:r?r.precision:null;if(c!==null){var p=Math.pow(10,-c);Math.abs(n/t)<p&&(n=0),Math.abs(t/n)<p&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+o+"i",e},Ne.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Ne.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(se(t)){if(At(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),se(n))return new Ne.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ne.default.prototype.valueOf=Ne.default.prototype.toString,Ne.default.fromJSON=function(r){return new Ne.default(r)},Ne.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Ne.default),{isClass:!0});var pr=rt(ia(),1);var Ys="Fraction",$s=[],Ln=k(Ys,$s,()=>(Object.defineProperty(pr.default,"name",{value:"Fraction"}),pr.default.prototype.constructor=pr.default,pr.default.prototype.type="Fraction",pr.default.prototype.isFraction=!0,pr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},pr.default.fromJSON=function(r){return new pr.default(r)},pr.default),{isClass:!0});var Js="Matrix",Ks=[],kn=k(Js,Ks,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Ot(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var ef="DenseMatrix",rf=["Matrix"],Pn=k(ef,rf,r=>{var{Matrix:e}=r;function t(a,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!We(f))throw new Error("Invalid datatype: "+f);if(xe(a))a.type==="DenseMatrix"?(this._data=me(a._data),this._size=me(a._size),this._datatype=f||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=f||a._datatype);else if(a&&he(a.data)&&he(a.size))this._data=a.data,this._size=a.size,gn(this._data,this._size),this._datatype=f||a.datatype;else if(he(a))this._data=u(a),this._size=er(this._data),gn(this._data,this._size),this._datatype=f;else{if(a)throw new TypeError("Unsupported type of data ("+Ke(a)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(a,f){return new t(a,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Ur(this._data,Ke)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,f){return new t(a,f)},t.prototype.subset=function(a,f,h){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return o(this,a,f,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(a){if(!he(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new ne(a.length,this._size.length);for(var f=0;f<a.length;f++)ve(a[f],this._size[f]);for(var h=this._data,m=0,v=a.length;m<v;m++){var l=a[m];ve(l,h.length),h=h[l]}return h},t.prototype.set=function(a,f,h){if(!he(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new ne(a.length,this._size.length,"<");var m,v,l,d=a.map(function(A){return A+1});s(this,d,h);var D=this._data;for(m=0,v=a.length-1;m<v;m++)l=a[m],ve(l,D.length),D=D[l];return l=a[a.length-1],ve(l,D.length),D[l]=f,this};function n(a,f){if(!kr(f))throw new TypeError("Invalid index");var h=f.isScalar();if(h)return a.get(f.min());var m=f.size();if(m.length!==a._size.length)throw new ne(m.length,a._size.length);for(var v=f.min(),l=f.max(),d=0,D=a._size.length;d<D;d++)ve(v[d],a._size[d]),ve(l[d],a._size[d]);return new t(i(a._data,f,m.length,0),a._datatype)}function i(a,f,h,m){var v=m===h-1,l=f.dimension(m);return v?l.map(function(d){return ve(d,a.length),a[d]}).valueOf():l.map(function(d){ve(d,a.length);var D=a[d];return i(D,f,h,m+1)}).valueOf()}function o(a,f,h,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var v=f.size(),l=f.isScalar(),d;if(xe(h)?(d=h.size(),h=h.valueOf()):d=er(h),l){if(d.length!==0)throw new TypeError("Scalar expected");a.set(f.min(),h,m)}else{if(v.length<a._size.length)throw new ne(v.length,a._size.length,"<");if(d.length<v.length){for(var D=0,A=0;v[D]===1&&d[D]===1;)D++;for(;v[D]===1;)A++,D++;h=bt(h,v.length,A,d)}if(!Pr(v,d))throw new ne(v,d,">");var x=f.max().map(function(g){return g+1});s(a,x,m);var b=v.length,w=0;c(a._data,f,h,b,w)}return a}function c(a,f,h,m,v){var l=v===m-1,d=f.dimension(v);l?d.forEach(function(D,A){ve(D),a[D]=h[A[0]]}):d.forEach(function(D,A){ve(D),c(a[D],f,h[A[0]],m,v+1)})}t.prototype.resize=function(a,f,h){if(!mr(a))throw new TypeError("Array or Matrix expected");var m=a.valueOf().map(l=>Array.isArray(l)&&l.length===1?l[0]:l),v=h?this.clone():this;return p(v,m,f)};function p(a,f,h){if(f.length===0){for(var m=a._data;he(m);)m=m[0];return m}return a._size=f.slice(0),a._data=ut(a._data,a._size,h),a}t.prototype.reshape=function(a,f){var h=f?this.clone():this;h._data=So(h._data,a);var m=h._size.reduce((v,l)=>v*l);return h._size=st(a,m),h};function s(a,f,h){for(var m=a._size.slice(0),v=!1;m.length<f.length;)m.push(0),v=!0;for(var l=0,d=f.length;l<d;l++)f[l]>m[l]&&(m[l]=f[l],v=!0);v&&p(a,m,h)}t.prototype.clone=function(){var a=new t({data:me(this._data),size:me(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(a){var f=this,h=Ot(a),m=function d(D,A){return he(D)?D.map(function(x,b){return d(x,A.concat(b))}):h===1?a(D):h===2?a(D,A):a(D,A,f)},v=m(this._data,[]),l=this._datatype!==void 0?Ur(v,Ke):void 0;return new t(v,l)},t.prototype.forEach=function(a){var f=this,h=function m(v,l){he(v)?v.forEach(function(d,D){m(d,l.concat(D))}):a(v,l,f)};h(this._data,[])},t.prototype[Symbol.iterator]=function*(){var a=function*f(h,m){if(he(h))for(var v=0;v<h.length;v++)yield*f(h[v],m.concat(v));else yield{value:h,index:m}};yield*a(this._data,[])},t.prototype.rows=function(){var a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var m of h)a.push(new t([m],this._datatype));return a},t.prototype.columns=function(){var a=this,f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,v=function(D){var A=m.map(x=>[x[D]]);f.push(new t(A,a._datatype))},l=0;l<h[1];l++)v(l);return f},t.prototype.toArray=function(){return me(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(a){return we(this._data,a)},t.prototype.toString=function(){return we(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(Me(a)&&(a=a.toNumber()),!se(a)||!ie(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var f=a>0?a:0,h=a<0?-a:0,m=this._size[0],v=this._size[1],l=Math.min(m-h,v-f),d=[],D=0;D<l;D++)d[D]=this._data[D+h][D+f];return new t({data:d,size:[l],datatype:this._datatype})},t.diagonal=function(a,f,h,m){if(!he(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(y){if(Me(y)&&(y=y.toNumber()),!se(y)||!ie(y)||y<1)throw new Error("Size values must be positive integers");return y}),h){if(Me(h)&&(h=h.toNumber()),!se(h)||!ie(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var v=h>0?h:0,l=h<0?-h:0,d=a[0],D=a[1],A=Math.min(d-l,D-v),x;if(he(f)){if(f.length!==A)throw new Error("Invalid value array length");x=function(T){return f[T]}}else if(xe(f)){var b=f.size();if(b.length!==1||b[0]!==A)throw new Error("Invalid matrix length");x=function(T){return f.get([T])}}else x=function(){return f};m||(m=Me(x(0))?x(0).mul(0):0);var w=[];if(a.length>0){w=ut(w,a,m);for(var g=0;g<A;g++)w[g+l][g+v]=x(g)}return new t({data:w,size:[d,D]})},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(a,f){if(!se(a)||!ie(a)||!se(f)||!ie(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ve(a,this._size[0]),ve(f,this._size[0]),t._swapRows(a,f,this._data),this},t._swapRows=function(a,f,h){var m=h[a];h[a]=h[f],h[f]=m};function u(a){for(var f=0,h=a.length;f<h;f++){var m=a[f];he(m)?a[f]=u(m):m&&m.isMatrix===!0&&(a[f]=u(m.valueOf()))}return a}return t},{isClass:!0});function oa(r){var e=r.length,t=r[0].length,n,i,o=[];for(i=0;i<t;i++){var c=[];for(n=0;n<e;n++)c.push(r[n][i]);o.push(c)}return o}function kt(r){for(var e=0;e<r.length;e++)if(mr(r[e]))return!0;return!1}function lt(r,e){xe(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?lt(i,e):e(i)}}function Xe(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Xe(n,e,t)}):e(r)}function Pt(r,e,t){var n=Array.isArray(r)?er(r):r.size();if(e<0||e>=n.length)throw new vr(e,n.length);return xe(r)?r.create(Lt(r.valueOf(),e,t)):Lt(r,e,t)}function Lt(r,e,t){var n,i,o,c;if(e<=0)if(Array.isArray(r[0])){for(c=oa(r),i=[],n=0;n<c.length;n++)i[n]=Lt(c[n],e-1,t);return i}else{for(o=r[0],n=1;n<r.length;n++)o=t(o,r[n]);return o}else{for(i=[],n=0;n<r.length;n++)i[n]=Lt(r[n],e-1,t);return i}}var Ye="number",Dr="number, number";function tf(r){return Math.abs(r)}tf.signature=Ye;function zn(r,e){return r+e}zn.signature=Dr;function nf(r,e){return r-e}nf.signature=Dr;function qn(r,e){return r*e}qn.signature=Dr;function of(r,e){return r/e}of.signature=Dr;function Un(r){return-r}Un.signature=Ye;function af(r){return r}af.signature=Ye;function uf(r){return wo(r)}uf.signature=Ye;function sf(r){return r*r*r}sf.signature=Ye;function ff(r){return Math.exp(r)}ff.signature=Ye;function cf(r){return Ao(r)}cf.signature=Ye;function lf(r,e){if(!ie(r)||!ie(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}lf.signature=Dr;function pf(r,e){if(!ie(r)||!ie(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}pf.signature=Dr;function hf(r){return Eo(r)}hf.signature=Ye;function mf(r){return go(r)}mf.signature=Ye;function vf(r){return yo(r)}vf.signature=Ye;function df(r,e){if(e>0)return r-e*Math.floor(r/e);if(e===0)return r;throw new Error("Cannot calculate mod for a negative divisor")}df.signature=Dr;function Df(r){return xo(r)}Df.signature=Ye;function xf(r){return Math.sqrt(r)}xf.signature=Ye;function gf(r){return r*r}gf.signature=Ye;function Ef(r,e){var t,n,i,o=0,c=1,p=1,s=0;if(!ie(r)||!ie(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=o,o=c-n*o,c=t,t=p,p=s-n*p,s=t,r=e,e=i;var u;return r<0?u=[-r,-c,-s]:u=[r,r?c:0,s],u}Ef.signature=Dr;function yf(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}yf.signature=Dr;function wf(r){return Math.abs(r)}wf.signature=Ye;function zt(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return zt(r,t)*zt(t+1,e)}function Vn(r,e){if(!ie(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!ie(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,o=2,c=e<t?e:t,p=i;p<=r;++p)for(n*=p;o<=c&&n%o===0;)n/=o,++o;return o<=c&&(n/=zt(o,c)),n}Vn.signature="number, number";var pt="number";function Af(r){return ie(r)}Af.signature=pt;function Cf(r){return r<0}Cf.signature=pt;function Tf(r){return r>0}Tf.signature=pt;function Xn(r){return r===0}Xn.signature=pt;function bf(r){return Number.isNaN(r)}bf.signature=pt;var aa="isZero",Ff=["typed"],Zn=k(aa,Ff,r=>{var{typed:e}=r;return e(aa,{number:Xn,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Xe(n,t))})});function Zr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function ua(r,e,t){return cr(r.re,e.re,t)&&cr(r.im,e.im,t)}var jr=k("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var qt="equalScalar",_f=["typed","config"],jn=k(qt,_f,r=>{var{typed:e,config:t}=r,n=jr({typed:e});return e(qt,{"boolean, boolean":function(o,c){return o===c},"number, number":function(o,c){return cr(o,c,t.epsilon)},"BigNumber, BigNumber":function(o,c){return o.eq(c)||Zr(o,c,t.epsilon)},"Fraction, Fraction":function(o,c){return o.equals(c)},"Complex, Complex":function(o,c){return ua(o,c,t.epsilon)}},n)}),Lp=k(qt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(qt,{"number, number":function(i,o){return cr(i,o,t.epsilon)}})});var Mf="SparseMatrix",Nf=["typed","equalScalar","Matrix"],Hn=k(Mf,Nf,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(l,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!We(d))throw new Error("Invalid datatype: "+d);if(xe(l))o(this,l,d);else if(l&&he(l.index)&&he(l.ptr)&&he(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=d||l.datatype;else if(he(l))c(this,l,d);else{if(l)throw new TypeError("Unsupported type of data ("+Ke(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function o(l,d,D){d.type==="SparseMatrix"?(l._values=d._values?me(d._values):void 0,l._index=me(d._index),l._ptr=me(d._ptr),l._size=me(d._size),l._datatype=D||d._datatype):c(l,d.valueOf(),D||d._datatype)}function c(l,d,D){l._values=[],l._index=[],l._ptr=[],l._datatype=D;var A=d.length,x=0,b=t,w=0;if(We(D)&&(b=e.find(t,[D,D])||t,w=e.convert(0,D)),A>0){var g=0;do{l._ptr.push(l._index.length);for(var y=0;y<A;y++){var T=d[y];if(he(T)){if(g===0&&x<T.length&&(x=T.length),g<T.length){var F=T[g];b(F,w)||(l._values.push(F),l._index.push(y))}}else g===0&&x<1&&(x=1),b(T,w)||(l._values.push(T),l._index.push(y))}g++}while(g<x)}l._ptr.push(l._index.length),l._size=[A,x]}i.prototype=new n,i.prototype.createSparseMatrix=function(l,d){return new i(l,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Ur(this._values,Ke)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(l,d){return new i(l,d)},i.prototype.density=function(){var l=this._size[0],d=this._size[1];return l!==0&&d!==0?this._index.length/(l*d):0},i.prototype.subset=function(l,d,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,l);case 2:case 3:return s(this,l,d,D);default:throw new SyntaxError("Wrong number of arguments")}};function p(l,d){if(!kr(d))throw new TypeError("Invalid index");var D=d.isScalar();if(D)return l.get(d.min());var A=d.size();if(A.length!==l._size.length)throw new ne(A.length,l._size.length);var x,b,w,g,y=d.min(),T=d.max();for(x=0,b=l._size.length;x<b;x++)ve(y[x],l._size[x]),ve(T[x],l._size[x]);var F=l._values,N=l._index,R=l._ptr,V=d.dimension(0),j=d.dimension(1),L=[],O=[];V.forEach(function(H,K){O[H]=K[0],L[H]=!0});var M=F?[]:void 0,G=[],Z=[];return j.forEach(function(H){for(Z.push(G.length),w=R[H],g=R[H+1];w<g;w++)x=N[w],L[x]===!0&&(G.push(O[x]),M&&M.push(F[w]))}),Z.push(G.length),new i({values:M,index:G,ptr:Z,size:A,datatype:l._datatype})}function s(l,d,D,A){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var x=d.size(),b=d.isScalar(),w;if(xe(D)?(w=D.size(),D=D.toArray()):w=er(D),b){if(w.length!==0)throw new TypeError("Scalar expected");l.set(d.min(),D,A)}else{if(x.length!==1&&x.length!==2)throw new ne(x.length,l._size.length,"<");if(w.length<x.length){for(var g=0,y=0;x[g]===1&&w[g]===1;)g++;for(;x[g]===1;)y++,g++;D=bt(D,x.length,y,w)}if(!Pr(x,w))throw new ne(x,w,">");if(x.length===1){var T=d.dimension(0);T.forEach(function(R,V){ve(R),l.set([R,0],D[V[0]],A)})}else{var F=d.dimension(0),N=d.dimension(1);F.forEach(function(R,V){ve(R),N.forEach(function(j,L){ve(j),l.set([R,j],D[V[0]][L[0]],A)})})}}return l}i.prototype.get=function(l){if(!he(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ne(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=l[0],D=l[1];ve(d,this._size[0]),ve(D,this._size[1]);var A=u(d,this._ptr[D],this._ptr[D+1],this._index);return A<this._ptr[D+1]&&this._index[A]===d?this._values[A]:0},i.prototype.set=function(l,d,D){if(!he(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ne(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=l[0],x=l[1],b=this._size[0],w=this._size[1],g=t,y=0;We(this._datatype)&&(g=e.find(t,[this._datatype,this._datatype])||t,y=e.convert(0,this._datatype)),(A>b-1||x>w-1)&&(h(this,Math.max(A+1,b),Math.max(x+1,w),D),b=this._size[0],w=this._size[1]),ve(A,b),ve(x,w);var T=u(A,this._ptr[x],this._ptr[x+1],this._index);return T<this._ptr[x+1]&&this._index[T]===A?g(d,y)?a(T,x,this._values,this._index,this._ptr):this._values[T]=d:f(T,A,x,d,this._values,this._index,this._ptr),this};function u(l,d,D,A){if(D-d===0)return D;for(var x=d;x<D;x++)if(A[x]===l)return x;return d}function a(l,d,D,A,x){D.splice(l,1),A.splice(l,1);for(var b=d+1;b<x.length;b++)x[b]--}function f(l,d,D,A,x,b,w){x.splice(l,0,A),b.splice(l,0,d);for(var g=D+1;g<w.length;g++)w[g]++}i.prototype.resize=function(l,d,D){if(!mr(l))throw new TypeError("Array or Matrix expected");var A=l.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(b){if(!se(b)||!ie(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(A)+")")});var x=D?this.clone():this;return h(x,A[0],A[1],d)};function h(l,d,D,A){var x=A||0,b=t,w=0;We(l._datatype)&&(b=e.find(t,[l._datatype,l._datatype])||t,w=e.convert(0,l._datatype),x=e.convert(x,l._datatype));var g=!b(x,w),y=l._size[0],T=l._size[1],F,N,R;if(D>T){for(N=T;N<D;N++)if(l._ptr[N]=l._values.length,g)for(F=0;F<y;F++)l._values.push(x),l._index.push(F);l._ptr[D]=l._values.length}else D<T&&(l._ptr.splice(D+1,T-D),l._values.splice(l._ptr[D],l._values.length),l._index.splice(l._ptr[D],l._index.length));if(T=D,d>y){if(g){var V=0;for(N=0;N<T;N++){l._ptr[N]=l._ptr[N]+V,R=l._ptr[N+1]+V;var j=0;for(F=y;F<d;F++,j++)l._values.splice(R+j,0,x),l._index.splice(R+j,0,F),V++}l._ptr[T]=l._values.length}}else if(d<y){var L=0;for(N=0;N<T;N++){l._ptr[N]=l._ptr[N]-L;var O=l._ptr[N],M=l._ptr[N+1]-L;for(R=O;R<M;R++)F=l._index[R],F>d-1&&(l._values.splice(R,1),l._index.splice(R,1),L++)}l._ptr[N]=l._values.length}return l._size[0]=d,l._size[1]=D,l}i.prototype.reshape=function(l,d){if(!he(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(H){if(!se(H)||!ie(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+we(l)+")")});var D=this._size[0]*this._size[1];l=st(l,D);var A=l[0]*l[1];if(D!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=d?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return x;for(var b=[],w=0;w<x._ptr.length;w++)for(var g=0;g<x._ptr[w+1]-x._ptr[w];g++)b.push(w);for(var y=x._values.slice(),T=x._index.slice(),F=0;F<x._index.length;F++){var N=T[F],R=b[F],V=N*x._size[1]+R;b[F]=V%l[1],T[F]=Math.floor(V/l[1])}x._values.length=0,x._index.length=0,x._ptr.length=l[1]+1,x._size=l.slice();for(var j=0;j<x._ptr.length;j++)x._ptr[j]=0;for(var L=0;L<y.length;L++){var O=T[L],M=b[L],G=y[L],Z=u(O,x._ptr[M],x._ptr[M+1],x._index);f(Z,O,M,G,x._values,x._index,x._ptr)}return x},i.prototype.clone=function(){var l=new i({values:this._values?me(this._values):void 0,index:me(this._index),ptr:me(this._ptr),size:me(this._size),datatype:this._datatype});return l},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(l,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,A=this._size[0],x=this._size[1],b=Ot(l),w=function(y,T,F){return b===1?l(y):b===2?l(y,[T,F]):l(y,[T,F],D)};return m(this,0,A-1,0,x-1,w,d)};function m(l,d,D,A,x,b,w){var g=[],y=[],T=[],F=t,N=0;We(l._datatype)&&(F=e.find(t,[l._datatype,l._datatype])||t,N=e.convert(0,l._datatype));for(var R=function(oe,Ee,ye){oe=b(oe,Ee,ye),F(oe,N)||(g.push(oe),y.push(Ee))},V=A;V<=x;V++){T.push(g.length);var j=l._ptr[V],L=l._ptr[V+1];if(w)for(var O=j;O<L;O++){var M=l._index[O];M>=d&&M<=D&&R(l._values[O],M-d,V-A)}else{for(var G={},Z=j;Z<L;Z++){var H=l._index[Z];G[H]=l._values[Z]}for(var K=d;K<=D;K++){var ue=K in G?G[K]:0;R(ue,K-d,V-A)}}}return T.push(g.length),new i({values:g,index:y,ptr:T,size:[D-d+1,x-A+1]})}i.prototype.forEach=function(l,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,A=this._size[0],x=this._size[1],b=0;b<x;b++){var w=this._ptr[b],g=this._ptr[b+1];if(d)for(var y=w;y<g;y++){var T=this._index[y];l(this._values[y],[T,b],D)}else{for(var F={},N=w;N<g;N++){var R=this._index[N];F[R]=this._values[N]}for(var V=0;V<A;V++){var j=V in F?F[V]:0;l(j,[V,b],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],d=0;d<l;d++)for(var D=this._ptr[d],A=this._ptr[d+1],x=D;x<A;x++){var b=this._index[x];yield{value:this._values[x],index:[b,d]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(l,d,D,A,x){var b=A[0],w=A[1],g=[],y,T;for(y=0;y<b;y++)for(g[y]=[],T=0;T<w;T++)g[y][T]=0;for(T=0;T<w;T++)for(var F=D[T],N=D[T+1],R=F;R<N;R++)y=d[R],g[y][T]=l?x?me(l[R]):l[R]:1;return g}return i.prototype.format=function(l){for(var d=this._size[0],D=this._size[1],A=this.density(),x="Sparse Matrix ["+we(d,l)+" x "+we(D,l)+"] density: "+we(A,l)+`
`,b=0;b<D;b++)for(var w=this._ptr[b],g=this._ptr[b+1],y=w;y<g;y++){var T=this._index[y];x+=`
    (`+we(T,l)+", "+we(b,l)+") ==> "+(this._values?we(this._values[y],l):"X")}return x},i.prototype.toString=function(){return we(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(l){if(l){if(Me(l)&&(l=l.toNumber()),!se(l)||!ie(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var d=l>0?l:0,D=l<0?-l:0,A=this._size[0],x=this._size[1],b=Math.min(A-D,x-d),w=[],g=[],y=[];y[0]=0;for(var T=d;T<x&&w.length<b;T++)for(var F=this._ptr[T],N=this._ptr[T+1],R=F;R<N;R++){var V=this._index[R];if(V===T-d+D){w.push(this._values[R]),g[w.length-1]=V-D;break}}return y.push(w.length),new i({values:w,index:g,ptr:y,size:[b,1]})},i.fromJSON=function(l){return new i(l)},i.diagonal=function(l,d,D,A,x){if(!he(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(H){if(Me(H)&&(H=H.toNumber()),!se(H)||!ie(H)||H<1)throw new Error("Size values must be positive integers");return H}),D){if(Me(D)&&(D=D.toNumber()),!se(D)||!ie(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var b=t,w=0;We(x)&&(b=e.find(t,[x,x])||t,w=e.convert(0,x));var g=D>0?D:0,y=D<0?-D:0,T=l[0],F=l[1],N=Math.min(T-y,F-g),R;if(he(d)){if(d.length!==N)throw new Error("Invalid value array length");R=function(K){return d[K]}}else if(xe(d)){var V=d.size();if(V.length!==1||V[0]!==N)throw new Error("Invalid matrix length");R=function(K){return d.get([K])}}else R=function(){return d};for(var j=[],L=[],O=[],M=0;M<F;M++){O.push(j.length);var G=M-g;if(G>=0&&G<N){var Z=R(G);b(Z,w)||(L.push(G+y),j.push(Z))}}return O.push(j.length),new i({values:j,index:L,ptr:O,size:[T,F]})},i.prototype.swapRows=function(l,d){if(!se(l)||!ie(l)||!se(d)||!ie(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ve(l,this._size[0]),ve(d,this._size[0]),i._swapRows(l,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(l,d,D,A,x){for(var b=A[l],w=A[l+1],g=b;g<w;g++)x(D[g],d[g])},i._swapRows=function(l,d,D,A,x,b){for(var w=0;w<D;w++){var g=b[w],y=b[w+1],T=u(l,g,y,x),F=u(d,g,y,x);if(T<y&&F<y&&x[T]===l&&x[F]===d){if(A){var N=A[T];A[T]=A[F],A[F]=N}continue}if(T<y&&x[T]===l&&(F>=y||x[F]!==d)){var R=A?A[T]:void 0;x.splice(F,0,d),A&&A.splice(F,0,R),x.splice(F<=T?T+1:T,1),A&&A.splice(F<=T?T+1:T,1);continue}if(F<y&&x[F]===d&&(T>=y||x[T]!==l)){var V=A?A[F]:void 0;x.splice(T,0,l),A&&A.splice(T,0,V),x.splice(T<=F?F+1:F,1),A&&A.splice(T<=F?F+1:F,1)}}},i},{isClass:!0});var Sf="number",Bf=["typed"];function If(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function Rf(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var Gn=k(Sf,Bf,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=If(i);if(o)return Rf(o);var c=0,p=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(c=Number(p[2]),i=p[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is no valid number');if(p){if(s>2**c-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(c-1)&&(s=s-2**c)}return s},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(n=>i=>Xe(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var Of="bignumber",Lf=["typed","BigNumber"],Wn=k(Of,Lf,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var c=o[2],p=t(o[1]),s=new t(2).pow(Number(c));if(p.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(c)-1);return p.gte(u)?p.sub(s):p}return new t(i)},BigNumber:function(i){return i},Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Xe(i,n))})});var kf="complex",Pf=["typed","Complex"],Qn=k(kf,Pf,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,o){return new t(i,o)},"BigNumber, BigNumber":function(i,o){return new t(i.toNumber(),o.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Xe(i,n))})});var zf="fraction",qf=["typed","Fraction"],Yn=k(zf,qf,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,o){return new t(i,o)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Xe(i,n))})});var sa="matrix",Uf=["typed","Matrix","DenseMatrix","SparseMatrix"],$n=k(sa,Uf,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(sa,{"":function(){return o([])},string:function(p){return o([],p)},"string, string":function(p,s){return o([],p,s)},Array:function(p){return o(p)},Matrix:function(p){return o(p,p.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(c,p,s){if(p==="dense"||p==="default"||p===void 0)return new n(c,s);if(p==="sparse")return new i(c,s);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}});var fa="unaryMinus",Vf=["typed"],Jn=k(fa,Vf,r=>{var{typed:e}=r;return e(fa,{number:Un,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Xe(n,t,!0))})});var ca="addScalar",Xf=["typed"],Kn=k(ca,Xf,r=>{var{typed:e}=r;return e(ca,{"number, number":zn,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var Zf="matAlgo11xS0s",jf=["typed","equalScalar"],la=k(Zf,jf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c,p){var s=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=t,D=0,A=c;typeof h=="string"&&(l=h,d=e.find(t,[l,l]),D=e.convert(0,l),o=e.convert(o,l),A=e.find(c,[l,l]));for(var x=[],b=[],w=[],g=0;g<v;g++){w[g]=b.length;for(var y=a[g],T=a[g+1],F=y;F<T;F++){var N=u[F],R=p?A(o,s[F]):A(s[F],o);d(R,D)||(b.push(N),x.push(R))}}return w[v]=b.length,i.createSparseMatrix({values:x,index:b,ptr:w,size:[m,v],datatype:l})}});var Hf="matAlgo12xSfs",Gf=["typed","DenseMatrix"],Hr=k(Hf,Gf,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,c,p){var s=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=c;typeof h=="string"&&(l=h,o=e.convert(o,l),d=e.find(c,[l,l]));for(var D=[],A=[],x=[],b=0;b<v;b++){for(var w=b+1,g=a[b],y=a[b+1],T=g;T<y;T++){var F=u[T];A[F]=s[T],x[F]=w}for(var N=0;N<m;N++)b===0&&(D[N]=[]),x[N]===w?D[N][b]=p?d(o,A[N]):d(A[N],o):D[N][b]=p?d(o,0):d(0,o)}return new t({data:D,size:[m,v],datatype:l})}});var Wf="matAlgo14xDs",Qf=["typed"],Ut=k(Wf,Qf,r=>{var{typed:e}=r;return function(i,o,c,p){var s=i._data,u=i._size,a=i._datatype,f,h=c;typeof a=="string"&&(f=a,o=e.convert(o,f),h=e.find(c,[f,f]));var m=u.length>0?t(h,0,u,u[0],s,o,p):[];return i.createDenseMatrix({data:m,size:me(u),datatype:f})};function t(n,i,o,c,p,s,u){var a=[];if(i===o.length-1)for(var f=0;f<c;f++)a[f]=u?n(s,p[f]):n(p[f],s);else for(var h=0;h<c;h++)a[h]=t(n,i+1,o,o[i+1],p[h],s,u);return a}});var Yf="matAlgo01xDSid",$f=["typed"],Vt=k(Yf,$f,r=>{var{typed:e}=r;return function(n,i,o,c){var p=n._data,s=n._size,u=n._datatype,a=i._values,f=i._index,h=i._ptr,m=i._size,v=i._datatype;if(s.length!==m.length)throw new ne(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=s[0],d=s[1],D=typeof u=="string"&&u===v?u:void 0,A=D?e.find(o,[D,D]):o,x,b,w=[];for(x=0;x<l;x++)w[x]=[];var g=[],y=[];for(b=0;b<d;b++){for(var T=b+1,F=h[b],N=h[b+1],R=F;R<N;R++)x=f[R],g[x]=c?A(a[R],p[x][b]):A(p[x][b],a[R]),y[x]=T;for(x=0;x<l;x++)y[x]===T?w[x][b]=g[x]:w[x][b]=p[x][b]}return n.createDenseMatrix({data:w,size:[l,d],datatype:D})}});var Jf="matAlgo04xSidSid",Kf=["typed","equalScalar"],pa=k(Jf,Kf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c){var p=i._values,s=i._index,u=i._ptr,a=i._size,f=i._datatype,h=o._values,m=o._index,v=o._ptr,l=o._size,d=o._datatype;if(a.length!==l.length)throw new ne(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var D=a[0],A=a[1],x,b=t,w=0,g=c;typeof f=="string"&&f===d&&(x=f,b=e.find(t,[x,x]),w=e.convert(0,x),g=e.find(c,[x,x]));var y=p&&h?[]:void 0,T=[],F=[],N=p&&h?[]:void 0,R=p&&h?[]:void 0,V=[],j=[],L,O,M,G,Z;for(O=0;O<A;O++){F[O]=T.length;var H=O+1;for(G=u[O],Z=u[O+1],M=G;M<Z;M++)L=s[M],T.push(L),V[L]=H,N&&(N[L]=p[M]);for(G=v[O],Z=v[O+1],M=G;M<Z;M++)if(L=m[M],V[L]===H){if(N){var K=g(N[L],h[M]);b(K,w)?V[L]=null:N[L]=K}}else T.push(L),j[L]=H,R&&(R[L]=h[M]);if(N&&R)for(M=F[O];M<T.length;)L=T[M],V[L]===H?(y[M]=N[L],M++):j[L]===H?(y[M]=R[L],M++):T.splice(M,1)}return F[A]=T.length,i.createSparseMatrix({values:y,index:T,ptr:F,size:[D,A],datatype:x})}});var ec="matAlgo10xSids",rc=["typed","DenseMatrix"],Xt=k(ec,rc,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,c,p){var s=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=c;typeof h=="string"&&(l=h,o=e.convert(o,l),d=e.find(c,[l,l]));for(var D=[],A=[],x=[],b=0;b<v;b++){for(var w=b+1,g=a[b],y=a[b+1],T=g;T<y;T++){var F=u[T];A[F]=s[T],x[F]=w}for(var N=0;N<m;N++)b===0&&(D[N]=[]),x[N]===w?D[N][b]=p?d(o,A[N]):d(A[N],o):D[N][b]=o}return new t({data:D,size:[m,v],datatype:l})}});var tc="matAlgo13xDD",nc=["typed"],ha=k(tc,nc,r=>{var{typed:e}=r;return function(i,o,c){var p=i._data,s=i._size,u=i._datatype,a=o._data,f=o._size,h=o._datatype,m=[];if(s.length!==f.length)throw new ne(s.length,f.length);for(var v=0;v<s.length;v++){if(s[v]!==f[v])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");m[v]=s[v]}var l,d=c;typeof u=="string"&&u===h&&(l=u,d=e.find(c,[l,l]));var D=m.length>0?t(d,0,m,m[0],p,a):[];return i.createDenseMatrix({data:D,size:m,datatype:l})};function t(n,i,o,c,p,s){var u=[];if(i===o.length-1)for(var a=0;a<c;a++)u[a]=n(p[a],s[a]);else for(var f=0;f<c;f++)u[f]=t(n,i+1,o,o[i+1],p[f],s[f]);return u}});var ic="matrixAlgorithmSuite",oc=["typed","matrix"],Tr=k(ic,oc,r=>{var{typed:e,matrix:t}=r,n=ha({typed:e}),i=Ut({typed:e});return function(c){var p=c.elop,s=c.SD||c.DS,u;p?(u={"DenseMatrix, DenseMatrix":(m,v)=>n(m,v,p),"Array, Array":(m,v)=>n(t(m),t(v),p).valueOf(),"Array, DenseMatrix":(m,v)=>n(t(m),v,p),"DenseMatrix, Array":(m,v)=>n(m,t(v),p)},c.SS&&(u["SparseMatrix, SparseMatrix"]=(m,v)=>c.SS(m,v,p,!1)),c.DS&&(u["DenseMatrix, SparseMatrix"]=(m,v)=>c.DS(m,v,p,!1),u["Array, SparseMatrix"]=(m,v)=>c.DS(t(m),v,p,!1)),s&&(u["SparseMatrix, DenseMatrix"]=(m,v)=>s(v,m,p,!0),u["SparseMatrix, Array"]=(m,v)=>s(t(v),m,p,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(v,l)=>n(v,l,m)),"Array, Array":e.referToSelf(m=>(v,l)=>n(t(v),t(l),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(v,l)=>n(t(v),l,m)),"DenseMatrix, Array":e.referToSelf(m=>(v,l)=>n(v,t(l),m))},c.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.SS(v,l,m,!1))),c.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.DS(v,l,m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.DS(t(v),l,m,!1))),s&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(v,l)=>s(l,v,m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(v,l)=>s(t(l),v,m,!0))));var a=c.scalar||"any",f=c.Ds||c.Ss;f&&(p?(u["DenseMatrix,"+a]=(m,v)=>i(m,v,p,!1),u[a+", DenseMatrix"]=(m,v)=>i(v,m,p,!0),u["Array,"+a]=(m,v)=>i(t(m),v,p,!1).valueOf(),u[a+", Array"]=(m,v)=>i(t(v),m,p,!0).valueOf()):(u["DenseMatrix,"+a]=e.referToSelf(m=>(v,l)=>i(v,l,m,!1)),u[a+", DenseMatrix"]=e.referToSelf(m=>(v,l)=>i(l,v,m,!0)),u["Array,"+a]=e.referToSelf(m=>(v,l)=>i(t(v),l,m,!1).valueOf()),u[a+", Array"]=e.referToSelf(m=>(v,l)=>i(t(l),v,m,!0).valueOf())));var h=c.sS!==void 0?c.sS:c.Ss;return p?(c.Ss&&(u["SparseMatrix,"+a]=(m,v)=>c.Ss(m,v,p,!1)),h&&(u[a+", SparseMatrix"]=(m,v)=>h(v,m,p,!0))):(c.Ss&&(u["SparseMatrix,"+a]=e.referToSelf(m=>(v,l)=>c.Ss(v,l,m,!1))),h&&(u[a+", SparseMatrix"]=e.referToSelf(m=>(v,l)=>h(l,v,m,!0)))),p&&p.signatures&&po(u,p.signatures),u}});var ac="matAlgo03xDSf",uc=["typed"],Gr=k(ac,uc,r=>{var{typed:e}=r;return function(n,i,o,c){var p=n._data,s=n._size,u=n._datatype,a=i._values,f=i._index,h=i._ptr,m=i._size,v=i._datatype;if(s.length!==m.length)throw new ne(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=s[0],d=s[1],D,A=0,x=o;typeof u=="string"&&u===v&&(D=u,A=e.convert(0,D),x=e.find(o,[D,D]));for(var b=[],w=0;w<l;w++)b[w]=[];for(var g=[],y=[],T=0;T<d;T++){for(var F=T+1,N=h[T],R=h[T+1],V=N;V<R;V++){var j=f[V];g[j]=c?x(a[V],p[j][T]):x(p[j][T],a[V]),y[j]=F}for(var L=0;L<l;L++)y[L]===F?b[L][T]=g[L]:b[L][T]=c?x(A,p[L][T]):x(p[L][T],A)}return n.createDenseMatrix({data:b,size:[l,d],datatype:D})}});var sc="matAlgo05xSfSf",fc=["typed","equalScalar"],ma=k(sc,fc,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c){var p=i._values,s=i._index,u=i._ptr,a=i._size,f=i._datatype,h=o._values,m=o._index,v=o._ptr,l=o._size,d=o._datatype;if(a.length!==l.length)throw new ne(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var D=a[0],A=a[1],x,b=t,w=0,g=c;typeof f=="string"&&f===d&&(x=f,b=e.find(t,[x,x]),w=e.convert(0,x),g=e.find(c,[x,x]));var y=p&&h?[]:void 0,T=[],F=[],N=y?[]:void 0,R=y?[]:void 0,V=[],j=[],L,O,M,G;for(O=0;O<A;O++){F[O]=T.length;var Z=O+1;for(M=u[O],G=u[O+1];M<G;M++)L=s[M],T.push(L),V[L]=Z,N&&(N[L]=p[M]);for(M=v[O],G=v[O+1];M<G;M++)L=m[M],V[L]!==Z&&T.push(L),j[L]=Z,R&&(R[L]=h[M]);if(y)for(M=F[O];M<T.length;){L=T[M];var H=V[L],K=j[L];if(H===Z||K===Z){var ue=H===Z?N[L]:w,ae=K===Z?R[L]:w,oe=g(ue,ae);b(oe,w)?T.splice(M,1):(y.push(oe),M++)}}}return F[A]=T.length,i.createSparseMatrix({values:y,index:T,ptr:F,size:[D,A],datatype:x})}});var cc="multiplyScalar",lc=["typed"],ei=k(cc,lc,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":qn,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var va="multiply",pc=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ri=k(va,pc,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:o,dot:c}=r,p=la({typed:e,equalScalar:o}),s=Ut({typed:e});function u(w,g){switch(w.length){case 1:switch(g.length){case 1:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+g[0]+")");break;case 2:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function a(w,g,y){if(y===0)throw new Error("Cannot multiply two empty vectors");return c(w,g)}function f(w,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(w,g)}function h(w,g){var y=w._data,T=w._size,F=w._datatype,N=g._data,R=g._size,V=g._datatype,j=T[0],L=R[1],O,M=n,G=i;F&&V&&F===V&&typeof F=="string"&&(O=F,M=e.find(n,[O,O]),G=e.find(i,[O,O]));for(var Z=[],H=0;H<L;H++){for(var K=G(y[0],N[0][H]),ue=1;ue<j;ue++)K=M(K,G(y[ue],N[ue][H]));Z[H]=K}return w.createDenseMatrix({data:Z,size:[L],datatype:O})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":A}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":b});function l(w,g){var y=w._data,T=w._size,F=w._datatype,N=g._data,R=g._datatype,V=T[0],j=T[1],L,O=n,M=i;F&&R&&F===R&&typeof F=="string"&&(L=F,O=e.find(n,[L,L]),M=e.find(i,[L,L]));for(var G=[],Z=0;Z<V;Z++){for(var H=y[Z],K=M(H[0],N[0]),ue=1;ue<j;ue++)K=O(K,M(H[ue],N[ue]));G[Z]=K}return w.createDenseMatrix({data:G,size:[V],datatype:L})}function d(w,g){var y=w._data,T=w._size,F=w._datatype,N=g._data,R=g._size,V=g._datatype,j=T[0],L=T[1],O=R[1],M,G=n,Z=i;F&&V&&F===V&&typeof F=="string"&&(M=F,G=e.find(n,[M,M]),Z=e.find(i,[M,M]));for(var H=[],K=0;K<j;K++){var ue=y[K];H[K]=[];for(var ae=0;ae<O;ae++){for(var oe=Z(ue[0],N[0][ae]),Ee=1;Ee<L;Ee++)oe=G(oe,Z(ue[Ee],N[Ee][ae]));H[K][ae]=oe}}return w.createDenseMatrix({data:H,size:[j,O],datatype:M})}function D(w,g){var y=w._data,T=w._size,F=w._datatype,N=g._values,R=g._index,V=g._ptr,j=g._size,L=g._datatype;if(!N)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=T[0],M=j[1],G,Z=n,H=i,K=o,ue=0;F&&L&&F===L&&typeof F=="string"&&(G=F,Z=e.find(n,[G,G]),H=e.find(i,[G,G]),K=e.find(o,[G,G]),ue=e.convert(0,G));for(var ae=[],oe=[],Ee=[],ye=g.createSparseMatrix({values:ae,index:oe,ptr:Ee,size:[O,M],datatype:G}),Ce=0;Ce<M;Ce++){Ee[Ce]=oe.length;var De=V[Ce],Ze=V[Ce+1];if(Ze>De)for(var ge=0,pe=0;pe<O;pe++){for(var rr=pe+1,Se=void 0,fe=De;fe<Ze;fe++){var Be=R[fe];ge!==rr?(Se=H(y[pe][Be],N[fe]),ge=rr):Se=Z(Se,H(y[pe][Be],N[fe]))}ge===rr&&!K(Se,ue)&&(oe.push(pe),ae.push(Se))}}return Ee[M]=oe.length,ye}function A(w,g){var y=w._values,T=w._index,F=w._ptr,N=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=g._data,V=g._datatype,j=w._size[0],L=g._size[0],O=[],M=[],G=[],Z,H=n,K=i,ue=o,ae=0;N&&V&&N===V&&typeof N=="string"&&(Z=N,H=e.find(n,[Z,Z]),K=e.find(i,[Z,Z]),ue=e.find(o,[Z,Z]),ae=e.convert(0,Z));var oe=[],Ee=[];G[0]=0;for(var ye=0;ye<L;ye++){var Ce=R[ye];if(!ue(Ce,ae))for(var De=F[ye],Ze=F[ye+1],ge=De;ge<Ze;ge++){var pe=T[ge];Ee[pe]?oe[pe]=H(oe[pe],K(Ce,y[ge])):(Ee[pe]=!0,M.push(pe),oe[pe]=K(Ce,y[ge]))}}for(var rr=M.length,Se=0;Se<rr;Se++){var fe=M[Se];O[Se]=oe[fe]}return G[1]=M.length,w.createSparseMatrix({values:O,index:M,ptr:G,size:[j,1],datatype:Z})}function x(w,g){var y=w._values,T=w._index,F=w._ptr,N=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=g._data,V=g._datatype,j=w._size[0],L=g._size[0],O=g._size[1],M,G=n,Z=i,H=o,K=0;N&&V&&N===V&&typeof N=="string"&&(M=N,G=e.find(n,[M,M]),Z=e.find(i,[M,M]),H=e.find(o,[M,M]),K=e.convert(0,M));for(var ue=[],ae=[],oe=[],Ee=w.createSparseMatrix({values:ue,index:ae,ptr:oe,size:[j,O],datatype:M}),ye=[],Ce=[],De=0;De<O;De++){oe[De]=ae.length;for(var Ze=De+1,ge=0;ge<L;ge++){var pe=R[ge][De];if(!H(pe,K))for(var rr=F[ge],Se=F[ge+1],fe=rr;fe<Se;fe++){var Be=T[fe];Ce[Be]!==Ze?(Ce[Be]=Ze,ae.push(Be),ye[Be]=Z(pe,y[fe])):ye[Be]=G(ye[Be],Z(pe,y[fe]))}}for(var ir=oe[De],xr=ae.length,hr=ir;hr<xr;hr++){var Br=ae[hr];ue[hr]=ye[Br]}}return oe[O]=ae.length,Ee}function b(w,g){var y=w._values,T=w._index,F=w._ptr,N=w._datatype,R=g._values,V=g._index,j=g._ptr,L=g._datatype,O=w._size[0],M=g._size[1],G=y&&R,Z,H=n,K=i;N&&L&&N===L&&typeof N=="string"&&(Z=N,H=e.find(n,[Z,Z]),K=e.find(i,[Z,Z]));for(var ue=G?[]:void 0,ae=[],oe=[],Ee=w.createSparseMatrix({values:ue,index:ae,ptr:oe,size:[O,M],datatype:Z}),ye=G?[]:void 0,Ce=[],De,Ze,ge,pe,rr,Se,fe,Be,ir=0;ir<M;ir++){oe[ir]=ae.length;var xr=ir+1;for(rr=j[ir],Se=j[ir+1],pe=rr;pe<Se;pe++)if(Be=V[pe],G)for(Ze=F[Be],ge=F[Be+1],De=Ze;De<ge;De++)fe=T[De],Ce[fe]!==xr?(Ce[fe]=xr,ae.push(fe),ye[fe]=K(R[pe],y[De])):ye[fe]=H(ye[fe],K(R[pe],y[De]));else for(Ze=F[Be],ge=F[Be+1],De=Ze;De<ge;De++)fe=T[De],Ce[fe]!==xr&&(Ce[fe]=xr,ae.push(fe));if(G)for(var hr=oe[ir],Br=ae.length,or=hr;or<Br;or++){var $r=ae[or];ue[or]=ye[$r]}}return oe[M]=ae.length,Ee}return e(va,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(g,y)=>{u(er(g),er(y));var T=w(t(g),t(y));return xe(T)?T.valueOf():T}),"Matrix, Matrix":function(g,y){var T=g.size(),F=y.size();return u(T,F),T.length===1?F.length===1?a(g,y,T[0]):f(g,y):F.length===1?m(g,y):v(g,y)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(g,y)=>w(g,t(y))),"Array, Matrix":e.referToSelf(w=>(g,y)=>w(t(g,y.storage()),y)),"SparseMatrix, any":function(g,y){return p(g,y,i,!1)},"DenseMatrix, any":function(g,y){return s(g,y,i,!1)},"any, SparseMatrix":function(g,y){return p(y,g,i,!0)},"any, DenseMatrix":function(g,y){return s(y,g,i,!0)},"Array, any":function(g,y){return s(t(g),y,i,!1).valueOf()},"any, Array":function(g,y){return s(t(y),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(g,y,T)=>{for(var F=w(g,y),N=0;N<T.length;N++)F=w(F,T[N]);return F})})});var da="subtract",hc=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],ti=k(da,hc,r=>{var{typed:e,matrix:t,equalScalar:n,addScalar:i,unaryMinus:o,DenseMatrix:c}=r,p=Vt({typed:e}),s=Gr({typed:e}),u=ma({typed:e,equalScalar:n}),a=Xt({typed:e,DenseMatrix:c}),f=Hr({typed:e,DenseMatrix:c}),h=Tr({typed:e,matrix:t});return e(da,{"number, number":(m,v)=>m-v,"Complex, Complex":(m,v)=>m.sub(v),"BigNumber, BigNumber":(m,v)=>m.minus(v),"Fraction, Fraction":(m,v)=>m.sub(v),"Unit, Unit":e.referToSelf(m=>(v,l)=>{if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(l.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(l))throw new Error("Units do not match");var d=v.clone();return d.value=e.find(m,[d.valueType(),l.valueType()])(d.value,l.value),d.fixPrefix=!1,d})},h({SS:u,DS:p,SD:s,Ss:f,sS:a}))});var mc="matAlgo07xSSf",vc=["typed","DenseMatrix"],Zt=k(mc,vc,r=>{var{typed:e,DenseMatrix:t}=r;return function(o,c,p){var s=o._size,u=o._datatype,a=c._size,f=c._datatype;if(s.length!==a.length)throw new ne(s.length,a.length);if(s[0]!==a[0]||s[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+a+")");var h=s[0],m=s[1],v,l=0,d=p;typeof u=="string"&&u===f&&(v=u,l=e.convert(0,v),d=e.find(p,[v,v]));var D,A,x=[];for(D=0;D<h;D++)x[D]=[];var b=[],w=[],g=[],y=[];for(A=0;A<m;A++){var T=A+1;for(n(o,A,g,b,T),n(c,A,y,w,T),D=0;D<h;D++){var F=g[D]===T?b[D]:l,N=y[D]===T?w[D]:l;x[D][A]=d(F,N)}}return new t({data:x,size:[h,m],datatype:v})};function n(i,o,c,p,s){for(var u=i._values,a=i._index,f=i._ptr,h=f[o],m=f[o+1];h<m;h++){var v=a[h];c[v]=s,p[v]=u[h]}}});var Da="conj",dc=["typed"],ni=k(Da,dc,r=>{var{typed:e}=r;return e(Da,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Xe(n,t))})});function xa(){throw new Error('No "bignumber" implementation available')}function ga(){throw new Error('No "fraction" implementation available')}function Ea(){throw new Error('No "matrix" implementation available')}var ya="size",Dc=["typed","config","?matrix"],ii=k(ya,Dc,r=>{var{typed:e,config:t,matrix:n}=r;return e(ya,{Matrix:function(o){return o.create(o.size())},Array:er,string:function(o){return t.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:n?n([]):Ea()}})});var wa="zeros",xc=["typed","config","matrix","BigNumber"],oi=k(wa,xc,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(wa,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var a=u[u.length-1];if(typeof a=="string"){var f=u.pop();return o(u,f)}else return t.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var a=u.storage();return o(u.valueOf(),a)},"Array | Matrix, string":function(u,a){return o(u.valueOf(),a)}});function o(s,u){var a=c(s),f=a?new i(0):0;if(p(s),u){var h=n(u);return s.length>0?h.resize(s,f):h}else{var m=[];return s.length>0?ut(m,s,f):m}}function c(s){var u=!1;return s.forEach(function(a,f,h){Me(a)&&(u=!0,h[f]=a.toNumber())}),u}function p(s){s.forEach(function(u){if(typeof u!="number"||!ie(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Wr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Ke(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Ke(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var gc="numeric",Ec=["number","?bignumber","?fraction"],ai=k(gc,Ec,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:c=>e(c),BigNumber:t?c=>t(c):xa,Fraction:n?c=>n(c):ga};return function(p){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Ke(p);if(!(a in i))throw new TypeError("Cannot convert "+p+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in o))throw new TypeError("Cannot convert "+p+' to type "'+s+'"; valid output types are '+Object.keys(o).join(", "));return s===a?p:o[s](p)}});var Aa="divideScalar",yc=["typed","numeric"],ui=k(Aa,yc,r=>{var{typed:e,numeric:t}=r;return e(Aa,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var jt="smaller",wc=["typed","config","matrix","DenseMatrix"],si=k(jt,wc,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i}=r,o=Gr({typed:e}),c=Zt({typed:e,DenseMatrix:i}),p=Hr({typed:e,DenseMatrix:i}),s=Tr({typed:e,matrix:n}),u=jr({typed:e});return e(jt,Ac({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<f,"BigNumber, BigNumber":function(f,h){return f.lt(h)&&!Zr(f,h,t.epsilon)},"Fraction, Fraction":(a,f)=>a.compare(f)===-1,"Complex, Complex":function(f,h){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:p}))}),Ac=k(jt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(jt,{"number, number":function(i,o){return i<o&&!cr(i,o,t.epsilon)}})});var Ht="larger",Cc=["typed","config","matrix","DenseMatrix"],fi=k(Ht,Cc,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i}=r,o=Gr({typed:e}),c=Zt({typed:e,DenseMatrix:i}),p=Hr({typed:e,DenseMatrix:i}),s=Tr({typed:e,matrix:n}),u=jr({typed:e});return e(Ht,Tc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>f,"BigNumber, BigNumber":function(f,h){return f.gt(h)&&!Zr(f,h,t.epsilon)},"Fraction, Fraction":(a,f)=>a.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:p}))}),Tc=k(Ht,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ht,{"number, number":function(i,o){return i>o&&!cr(i,o,t.epsilon)}})});var Ca="max",bc=["typed","config","numeric","larger"],ci=k(Ca,bc,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(Ca,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,u){return Pt(s,u.valueOf(),o)},"...":function(s){if(kt(s))throw new TypeError("Scalar values expected in function max");return c(s)}});function o(p,s){try{return i(p,s)?p:s}catch(u){throw Wr(u,"max",s)}}function c(p){var s;if(lt(p,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(a){throw Wr(a,"max",u)}}),s===void 0)throw new Error("Cannot calculate max of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var Ta="min",Fc=["typed","config","numeric","smaller"],li=k(Ta,Fc,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(Ta,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,u){return Pt(s,u.valueOf(),o)},"...":function(s){if(kt(s))throw new TypeError("Scalar values expected in function min");return c(s)}});function o(p,s){try{return i(p,s)?p:s}catch(u){throw Wr(u,"min",s)}}function c(p){var s;if(lt(p,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(a){throw Wr(a,"min",u)}}),s===void 0)throw new Error("Cannot calculate min of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var ba="add",_c=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],pi=k(ba,_c,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:c}=r,p=Vt({typed:e}),s=pa({typed:e,equalScalar:i}),u=Xt({typed:e,DenseMatrix:o}),a=Tr({typed:e,matrix:t});return e(ba,{"any, any":n,"any, any, ...any":e.referToSelf(f=>(h,m,v)=>{for(var l=f(h,m),d=0;d<v.length;d++)l=f(l,v[d]);return l})},a({elop:n,DS:p,SS:s,Ss:u}))});var Fa="dot",Mc=["typed","addScalar","multiplyScalar","conj","size"],hi=k(Fa,Mc,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:o}=r;return e(Fa,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":s});function c(a,f){var h=u(a),m=u(f),v,l;if(h.length===1)v=h[0];else if(h.length===2&&h[1]===1)v=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(m.length===1)l=m[0];else if(m.length===2&&m[1]===1)l=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(v!==l)throw new RangeError("Vectors must have equal length ("+v+" != "+l+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function p(a,f){var h=c(a,f),m=xe(a)?a._data:a,v=xe(a)?a._datatype:void 0,l=xe(f)?f._data:f,d=xe(f)?f._datatype:void 0,D=u(a).length===2,A=u(f).length===2,x=t,b=n;if(v&&d&&v===d&&typeof v=="string"){var w=v;x=e.find(t,[w,w]),b=e.find(n,[w,w])}if(!D&&!A){for(var g=b(i(m[0]),l[0]),y=1;y<h;y++)g=x(g,b(i(m[y]),l[y]));return g}if(!D&&A){for(var T=b(i(m[0]),l[0][0]),F=1;F<h;F++)T=x(T,b(i(m[F]),l[F][0]));return T}if(D&&!A){for(var N=b(i(m[0][0]),l[0]),R=1;R<h;R++)N=x(N,b(i(m[R][0]),l[R]));return N}if(D&&A){for(var V=b(i(m[0][0]),l[0][0]),j=1;j<h;j++)V=x(V,b(i(m[j][0]),l[j][0]));return V}}function s(a,f){c(a,f);for(var h=a._index,m=a._values,v=f._index,l=f._values,d=0,D=t,A=n,x=0,b=0;x<h.length&&b<v.length;){var w=h[x],g=v[b];if(w<g){x++;continue}if(w>g){b++;continue}w===g&&(d=D(d,A(m[x],l[b])),x++,b++)}return d}function u(a){return xe(a)?a.size():o(a)}});var _a="det",Nc=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],mi=k(_a,Nc,r=>{var{typed:e,matrix:t,subtract:n,multiply:i,divideScalar:o,isZero:c,unaryMinus:p}=r;return e(_a,{any:function(a){return me(a)},"Array | Matrix":function(a){var f;switch(xe(a)?f=a.size():Array.isArray(a)?(a=t(a),f=a.size()):f=[],f.length){case 0:return me(a);case 1:if(f[0]===1)return me(a.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+we(f)+")");case 2:{var h=f[0],m=f[1];if(h===m)return s(a.clone().valueOf(),h,m);throw new RangeError("Matrix must be square (size: "+we(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+we(f)+")")}}});function s(u,a,f){if(a===1)return me(u[0][0]);if(a===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var h=!1,m=new Array(a).fill(0).map((y,T)=>T),v=0;v<a;v++){var l=m[v];if(c(u[l][v])){var d=void 0;for(d=v+1;d<a;d++)if(!c(u[m[d]][v])){l=m[d],m[d]=m[v],m[v]=l,h=!h;break}if(d===a)return u[l][v]}for(var D=u[l][v],A=v===0?1:u[m[v-1]][v-1],x=v+1;x<a;x++)for(var b=m[x],w=v+1;w<a;w++)u[b][w]=o(n(i(u[b][w],D),i(u[b][v],u[l][w])),A)}var g=u[m[a-1]][a-1];return h?p(g):g}});var Ma="combinations",Sc=["typed"],vi=k(Ma,Sc,r=>{var{typed:e}=r;return e(Ma,{"number, number":Vn,"BigNumber, BigNumber":function(n,i){var o=n.constructor,c,p,s=n.minus(i),u=new o(1);if(!Na(n)||!Na(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(c=u,i.lt(s))for(p=u;p.lte(s);p=p.plus(u))c=c.times(i.plus(p)).dividedBy(p);else for(p=u;p.lte(i);p=p.plus(u))c=c.times(s.plus(p)).dividedBy(p);return c}})});function Na(r){return r.isInteger()&&r.gte(0)}var di=Bn({config:fr}),Sa=Rn({});var Ba=Ln({});var Di=kn({});var Qr=Pn({Matrix:Di});var de=Cn({BigNumber:di,Complex:Sa,DenseMatrix:Qr,Fraction:Ba});var Gt=Kn({typed:de});var Bc=Wn({BigNumber:di,typed:de});var Ia=vi({typed:de}),Ra=Qn({Complex:Sa,typed:de}),Ic=ni({typed:de});var Wt=jn({config:fr,typed:de});var Rc=Zn({typed:de});var Oa=ei({typed:de});var Oc=Gn({typed:de});var La=Hn({Matrix:Di,equalScalar:Wt,typed:de});var ka=Jn({typed:de});var Lc=Yn({Fraction:Ba,typed:de});var br=$n({DenseMatrix:Qr,Matrix:Di,SparseMatrix:La,typed:de});var xi=ai({bignumber:Bc,fraction:Lc,number:Oc});var kc=ii({matrix:br,config:fr,typed:de}),Pc=si({DenseMatrix:Qr,config:fr,matrix:br,typed:de});var ht=ti({DenseMatrix:Qr,addScalar:Gt,equalScalar:Wt,matrix:br,typed:de,unaryMinus:ka});var Pa=oi({BigNumber:di,config:fr,matrix:br,typed:de});var zc=ui({numeric:xi,typed:de});var za=li({config:fr,numeric:xi,smaller:Pc,typed:de});var Qt=pi({DenseMatrix:Qr,SparseMatrix:La,addScalar:Gt,equalScalar:Wt,matrix:br,typed:de});var qc=hi({addScalar:Gt,conj:Ic,multiplyScalar:Oa,size:kc,typed:de});var Uc=fi({DenseMatrix:Qr,config:fr,matrix:br,typed:de});var mt=ri({addScalar:Gt,dot:qc,equalScalar:Wt,matrix:br,multiplyScalar:Oa,typed:de});var qa=mi({divideScalar:zc,isZero:Rc,matrix:br,multiply:mt,subtract:ht,typed:de,unaryMinus:ka});var Ua=ci({config:fr,larger:Uc,numeric:xi,typed:de});var le=class{constructor(e,t){this.rows=1;this.cols=1;this.values=[];this.rows=e,this.cols=t,this.values=new Array(e*t).fill(0)}getRows(){return this.rows}getCols(){return this.cols}setValue(e,t,n){this.values[e*this.cols+t]=n}getValue(e,t){return this.values[e*this.cols+t]}clone(){let e=new le(this.rows,this.cols);return e.values=[...this.values],e}toString(){let e="[";for(let t=0;t<this.rows;t++){t>0&&(e+=","),e+="[";for(let n=0;n<this.cols;n++)n>0&&(e+=","),e+=this.getValue(t,n);e+="]"}return e+="]",e}static mathjs2matrix(e){let t=new le(e.size()[0],e.size()[1]),n=t.getRows(),i=t.getCols();for(let o=0;o<n;o++)for(let c=0;c<i;c++)t.setValue(o,c,e.get([o,c]));return t}static matrix2mathjs(e){let t=Pa(e.rows,e.cols);for(let n=0;n<e.rows;n++)for(let i=0;i<e.cols;i++)t.set([n,i],e.getValue(n,i));return t}};var $t=class{constructor(e){this.parent=null;this.parent=e}_create(e,t,n){let i=new le(e,t),o=0;for(let c=0;c<e;c++)for(let p=0;p<t;p++)i.setValue(c,p,n[o++]);return i}_getElement(e,t,n,i){if(t<0||t>=e.getRows())throw new Ae(i,"matrix has "+e.getRows()+" rows. Cannot get row "+t);if(n<0||n>=e.getCols())throw new Ae(i,"matrix has "+e.getCols()+" columns. Cannot get column "+n);return e.getValue(t,n)}_setElement(e,t,n,i,o){if(t<0||t>=e.getRows())throw new Ae(o,"matrix has "+e.getRows()+" rows. Cannot get row "+t);if(n<0||n>=e.getCols())throw new Ae(o,"matrix has "+e.getCols()+" columns. Cannot get column "+n);e.setValue(t,n,i)}_addMatrices(e,t,n){let i;try{i=Qt(le.matrix2mathjs(e),le.matrix2mathjs(t))}catch{throw new Ae(n,"dimensions do not match")}return le.mathjs2matrix(i)}_subMatrices(e,t,n){let i;try{i=ht(le.matrix2mathjs(e),le.matrix2mathjs(t))}catch{throw new Ae(n,"dimensions do not match")}return le.mathjs2matrix(i)}_mulScalarMatrix(e,t){let n=mt(e,le.matrix2mathjs(t));return le.mathjs2matrix(n)}_mulMatrixScalar(e,t){let n=mt(le.matrix2mathjs(e),t);return le.mathjs2matrix(n)}_mulMatrices(e,t,n){let i;try{i=mt(le.matrix2mathjs(e),le.matrix2mathjs(t))}catch{throw new Ae(n,"dimensions do not match")}return le.mathjs2matrix(i)}_randMatrix(e,t,n,i){let o=new le(e,t);for(let c=0;c<e;c++)for(let p=0;p<t;p++)o.setValue(c,p,this.parent.interpret_basic._randIntMinMax(n,i));return o}_randZMatrix(e,t,n,i){let o=new le(e,t);for(let c=0;c<e;c++)for(let p=0;p<t;p++)o.setValue(c,p,this.parent.interpret_basic._randIntMinMaxZ(n,i));return o}_det(e,t){try{return qa(le.matrix2mathjs(e))}catch{throw new Ae(t,"matrix is not square")}}_minMatrix(e){return za(le.matrix2mathjs(e))}_maxMatrix(e){return Ua(le.matrix2mathjs(e))}_zeros(e,t){let n=new le(e,t);for(let i=0;i<e;i++)for(let o=0;o<t;o++)n.setValue(i,o,0);return n}_ones(e,t){let n=new le(e,t);for(let i=0;i<e;i++)for(let o=0;o<t;o++)n.setValue(i,o,1);return n}};var Fr=class{constructor(e=0,t=0){this.real=e,this.imag=t}static mathjs2complex(e){return new Fr(e.re,e.im)}static complex2mathjs(e){return Ra(e.real,e.imag)}toMathJs(){return Fr.complex2mathjs(this)}};var Jt=class{constructor(e){this.parent=null;this.parent=e}_addComplex(e,t){return Fr.mathjs2complex(Qt(e.toMathJs(),t.toMathJs()))}_subComplex(e,t){return Fr.mathjs2complex(ht(e.toMathJs(),t.toMathJs()))}_absComplex(e){return 0}};var Kt=class{constructor(e){this.parent=null;this.parent=e}_add(e,t){return e+t}_unaryMinus(e){return-e}_unaryNot(e){return!e}_sub(e,t){return e-t}_mul(e,t){return e*t}_div(e,t){return e/t}_pow(e,t){return Math.pow(e,t)}_randIntMax(e){return Math.floor(Math.random()*e)}_randIntMaxZ(e){let t=0;for(;t==0;)t=this._randIntMax(e);return t}_randIntMinMax(e,t){return Math.floor(Math.random()*(t-e)+e)}_randIntMinMaxZ(e,t){let n=0;for(;n==0;)n=this._randIntMinMax(e,t);return n}_sin(e){return Math.sin(e)}_cos(e){return Math.cos(e)}_tan(e){return Math.tan(e)}_asin(e){return Math.asin(e)}_acos(e){return Math.acos(e)}_atan(e){return Math.atan(e)}_exp(e){return Math.exp(e)}_sqrt(e){return Math.sqrt(e)}_abs(e){return Math.abs(e)}_floor(e){return Math.floor(e)}_ceil(e){return Math.ceil(e)}_round(e){return Math.round(e)}_sign(e){return e==0?0:e<0?-1:1}_maxInt(e){return Math.max(...e)}_fac(e){let t=1;for(let n=1;n<=e;n++)t*=n;return t}_binomial(e,t){return Ia(e,t)}};var Yr=class extends Error{constructor(e){super(e),this.name="TermError"}},W=class{constructor(e="",t=[]){this.op="";this.value="";this.o=[];this.op=e,this.o=t}static Op(e,t){let n=new W;return n.op=e,n.o=t,n}static Const(e){let t=new W;return t.op="#",t.value=e,t}static Var(e){let t=new W;return t.op="$",t.value=e,t}clone(){let e=new W;e.op=this.op,e.value=this.value;for(let t of this.o)e.o.push(t.clone());return e}eval(e={}){let t;switch(this.op){case"+":t=0;for(let n of this.o)t+=n.eval(e);break;case"*":t=1;for(let n of this.o)t*=n.eval(e);break;case"-":t=0;for(let n of this.o)t-=n.eval(e);break;case".-":t=-this.o[0].eval(e);break;case"^":t=Math.pow(this.o[0].eval(e),this.o[1].eval(e));break;case"#":t=this.value;break;case"sin":t=Math.sin(this.o[0].eval(e));break;case"cos":t=Math.cos(this.o[0].eval(e));break;case"tan":t=Math.tan(this.o[0].eval(e));break;case"asin":t=Math.asin(this.o[0].eval(e));break;case"atan":t=Math.atan(this.o[0].eval(e));break;case"exp":t=Math.exp(this.o[0].eval(e));break;case"$":if(this.value in e)return e[this.value];throw new Yr('eval(..): unset variable "'+this.value+'"');default:throw new Yr('eval(..): unimplemented operator "'+this.op+'"')}return t}diff(e){let t=null,n,i;switch(this.op){case".-":t=W.Op(".-",[this.o[0].diff(e)]);break;case"+":t=W.Op("+",[]);for(let o of this.o)t.o.push(o.diff(e));break;case"*":n=this.o[0],i=this.o.length==2?this.o[1]:W.Op("*",this.o.slice(1)),t=W.Op("+",[W.Op("*",[n.diff(e),i.clone()]),W.Op("*",[n.clone(),i.diff(e)])]);break;case"^":if(this.o[1].op!=="#")throw new Yr("diff(..): u^v: operator ^ only implemented for constant v");t=W.Op("*",[this.o[0].diff(e),this.o[1].clone(),W.Op("^",[this.o[0].clone(),W.Const(this.o[1].value-1)])]);break;case"exp":t=W.Op("*",[this.o[0].diff(e),W.Op("exp",[this.o[0].clone()])]);break;case"sin":t=W.Op("*",[this.o[0].diff(e),W.Op("cos",[this.o[0].clone()])]);break;case"cos":t=W.Op(".-",[W.Op("*",[this.o[0].diff(e),W.Op("cos",[this.o[0].clone()])])]);break;case"$":t=W.Const(this.value===e?1:0);break;case"#":t=W.Const(0);break;default:throw new Yr('diff(..): unimplemented operator "'+this.op+'"')}return t}integrate(e,t,n,i=1e-12){let o=0;for(let c=t;c<=n;c+=i)o+=this.eval({varId:c});return o/i}optimize(){let e=this.clone();for(let t=0;t<e.o.length;t++)e.o[t]=e.o[t].optimize();if(this.op==="*"){for(let t of e.o)if(t.op==="#"&&t.value==0)return W.Const(0)}try{let t=e.eval();return W.Const(t)}catch{}return e}setVariableValue(e,t){this.op==="$"&&(this.op="#",this.value=t);for(let n of this.o)n.setVariableValue(e,t)}getVariableIDs(){let e=new Set;this.op==="$"&&e.add(this.value);for(let t of this.o)e=new Set([...e,...t.getVariableIDs()]);return e}toString(){let e="";switch(this.op){case"#":case"$":e=""+this.value;break;case".-":e+="-("+this.o[0].toString()+")";break;default:if(this.op.length>2){e+=this.op+"(";for(let t=0;t<this.o.length;t++)t>0&&(e+=","),e+=this.o[t].toString();e+=")"}else{e+="(";for(let t=0;t<this.o.length;t++)t>0&&(e+=this.op),e+=this.o[t].toString();e+=")"}break}return e}};var en=class{constructor(e){this.parent=null;this.parent=e}var(e){return W.Var(e)}_eval(e,t,n){let i=0;try{i=e.eval(t)}catch(o){throw new Ae(n,o.message)}return i}_numberToTerm(e){return W.Const(e)}_addTermReal(e,t){return W.Op("+",[e,W.Const(t)])}_addRealTerm(e,t){return W.Op("+",[W.Const(e),t])}_addTermTerm(e,t){return W.Op("+",[e,t])}_subTermReal(e,t){return W.Op("-",[e,W.Const(t)])}_subRealTerm(e,t){return W.Op("-",[W.Const(e),t])}_subTermTerm(e,t){return W.Op("-",[e,t])}_mulTermReal(e,t){return W.Op("*",[e,W.Const(t)])}_mulRealTerm(e,t){return W.Op("*",[W.Const(e),t])}_mulTermTerm(e,t){return W.Op("*",[e,t])}_divTermReal(e,t){return W.Op("/",[e,W.Const(t)])}_divRealTerm(e,t){return W.Op("/",[W.Const(e),t])}_divTermTerm(e,t){return W.Op("/",[e,t])}_powTermReal(e,t){return W.Op("^",[e,W.Const(t)])}_powRealTerm(e,t){return W.Op("^",[W.Const(e),t])}_powTermTerm(e,t){return W.Op("^",[e,t])}_sinTerm(e){return W.Op("sin",[e])}_cosTerm(e){return W.Op("cos",[e])}_tanTerm(e){return W.Op("tan",[e])}_expTerm(e){return W.Op("exp",[e])}_diffTerm(e,t){return e.diff(t.toString())}};var rn=class{constructor(e=[]){this.elements=[];this.elements=e}toString(){let e="{";return e+=this.elements.sort().join(","),e+="}",e}};var tn=class{constructor(e){this.parent=null;this.parent=e}_createSet(e){let t=new rn;return t.elements=e,t}_lenSet(e){return e.elements.length}};var Ae=class extends Error{constructor(e,t){super(""+e+":"+t),this.name="RunError"}},nn=class{constructor(){this.interpret_vector=null;this.interpret_matrix=null;this.interpret_complex=null;this.interpret_basic=null;this.interpret_term=null;this.interpret_set=null;this.interpret_vector=new wt(this),this.interpret_matrix=new $t(this),this.interpret_complex=new Jt(this),this.interpret_basic=new Kt(this),this.interpret_term=new en(this),this.interpret_set=new tn(this)}interpret(e,t){e+="return [";let n=0;for(let o of t)o.type.base!="TERM_VAR"&&(n>0&&(e+=", "),e+=o.id,n++);e+="];";let i=new Function("runtime",e);try{let o=i(this);for(let c=0;c<t.length;c++){let p=t[c];switch(p.type.base){case"BOOL":p.value=o[c];break;case"INT":case"REAL":p.value=o[c];break;case"VECTOR":p.value=o[c];break;case"MATRIX":p.value=o[c];break;case"TERM":p.value=o[c];break;case"INT_SET":p.value=o[c];break;default:throw new Ae("-1","interpret(..): unimplemented type "+p.type)}}}catch(o){throw new Ae("-1","interpret(..) failed: "+o)}}};var Xa=rt(fn());var Va=`

_add(x:INT,y:INT):INT -> interpret_basic._add;
_add(x:INT,y:REAL):REAL -> interpret_basic._add;
_add(x:REAL,y:INT):REAL -> interpret_basic._add;
_add(x:REAL,y:REAL):REAL -> interpret_basic._add;
_unaryMinus(x:INT):INT -> interpret_basic._unaryMinus;
_unaryMinus(x:REAL):REAL -> interpret_basic._unaryMinus;
_unaryNot(x:BOOL):BOOL -> interpret_basic._unaryNot;
_sub(x:INT,y:INT):INT -> interpret_basic._sub;
_sub(X:INT,y:REAL):REAL -> interpret_basic._sub;
_sub(x:REAL,y:INT):REAL -> interpret_basic._sub;
_sub(x:REAL,y:REAL):REAL -> interpret_basic._sub;
_mul(x:INT,y:INT):INT -> interpret_basic._mul;
_mul(x:INT,y:REAL):REAL -> interpret_basic._mul;
_mul(x:REAL,y:INT):REAL -> interpret_basic._mul;
_mul(x:REAL,y:REAL):REAL -> interpret_basic._mul;
_div(x:INT,y:INT):REAL -> interpret_basic._div;
_div(x:INT,y:REAL):REAL -> interpret_basic._div;
_div(x:REAL,y:INT):REAL -> interpret_basic._div;
_div(x:REAL,y:REAL):REAL -> interpret_basic._div;
_pow(x:INT,y:INT):INT -> interpret_basic._pow;
_pow(x:INT,y:REAL):REAL -> interpret_basic._pow;
_pow(x:REAL,y:INT):REAL -> interpret_basic._pow;
_pow(x:REAL,y:REAL):REAL -> interpret_basic._pow;
rand(max:INT): INT -> interpret_basic._randIntMax;
rand(min:INT,max:INT): INT -> interpret_basic._randIntMinMax;
randZ(min:INT,max:INT): INT -> interpret_basic._randIntMinMaxZ;
sin(x:INT): REAL -> interpret_basic._sin;
sin(x:REAL): REAL -> interpret_basic._sin;
cos(x:INT): REAL -> interpret_basic._cos;
cos(x:REAL): REAL -> interpret_basic._cos;
tan(x:INT): REAL -> interpret_basic._tan;
tan(x:REAL): REAL -> interpret_basic._tan;
asin(x:INT): REAL -> interpret_basic._asin;
asin(x:REAL): REAL -> interpret_basic._asin;
acos(x:INT): REAL -> interpret_basic._acos;
acos(x:REAL): REAL -> interpret_basic._acos;
atan(x:INT): REAL -> interpret_basic._atan;
atan(x:REAL): REAL -> interpret_basic._atan;
exp(x:INT):REAL -> interpret_basic._exp;
exp(x:REAL):REAL -> interpret_basic._exp;
sqrt(x:REAL): REAL -> interpret_basic._sqrt;
abs(x:INT):INT -> interpret_basic._abs;
abs(x:REAL):REAL -> interpret_basic._abs;
floor(x:INT): INT -> interpret_basic._floor;
floor(x:REAL): INT -> interpret_basic._floor;
ceil(x:INT): INT -> interpret_basic._ceil;
ceil(x:REAL): INT -> interpret_basic._ceil;
round(x:INT): INT -> interpret_basic._round;
round(x:REAL): INT -> interpret_basic._round;
sign(x:INT): INT -> interpret_basic._sign;
sign(x:REAL): INT -> interpret_basic._sign;
max(list:INT_LIST): INT -> interpret_basic._maxInt;
fac(x:INT): INT -> interpret_basic._fac;
binomial(n:INT,k:INT): INT -> interpret_basic._binomial;
set(elements:INT_LIST): SET_INT -> interpret_set._createSet;
len(s:SET_INT): INT -> interpret_set._lenSet;
_add(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._addComplex;
_sub(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._subComplex;
exp(x:COMPLEX):COMPLEX -> interpret_complex._expComplex;
sqrt(x:COMPLEX): COMPLEX -> interpret_complex._sqrtComplex;
abs(x:COMPLEX): REAL -> interpret_complex._absComplex;
_add(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._addVectors;
_sub(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._subVectors;
dot(x:VECTOR, y:VECTOR): VECTOR -> interpret_vector._dotVectors;
cross(x:VECTOR, y:VECTOR): VECTOR -> interpret_vector._crossVectors;
zeros<size:INT>(): VECTOR -> interpret_vector._zerosVector;
rand<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randVector;
randZ<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randZVector;
_add(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._addMatrices;
_sub(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._subMatrices;
_mul(x:INT,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x:REAL,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x: MATRIX, y: INT): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x: MATRIX, y: REAL): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._mulMatrices;
rand<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randMatrix;
randZ<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randZMatrix;
det(x:MATRIX): REAL -> interpret_matrix._det;
min(x:MATRIX): REAL -> interpret_matrix._minMatrix;
max(x:MATRIX): REAL -> interpret_matrix._maxMatrix;
zeros<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._zeros;
ones<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._ones;
_numberToTerm(x:INT):TERM -> interpret_term._numberToTerm;
_add(x:TERM,y:INT):TERM -> interpret_term._addTermReal;
_add(x:TERM,y:REAL):TERM -> interpret_term._addTermReal;
_add(x:INT,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:REAL,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:TERM,y:TERM):TERM -> interpret_term._addTermTerm;
_sub(x:TERM,y:INT):TERM -> interpret_term._subTermReal;
_sub(x:TERM,y:REAL):TERM -> interpret_term._subTermReal;
_sub(x:INT,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:REAL,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:TERM,y:TERM):TERM -> interpret_term._subTermTerm;
_mul(x:TERM,y:INT):TERM -> interpret_term._mulTermReal;
_mul(x:TERM,y:REAL):TERM -> interpret_term._mulTermReal;
_mul(x:INT,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:REAL,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:TERM,y:TERM):TERM -> interpret_term._mulTermTerm;
_div(x:TERM,y:INT):TERM -> interpret_term._divTermReal;
_div(x:TERM,y:REAL):TERM -> interpret_term._divTermReal;
_div(x:INT,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:REAL,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:TERM,y:TERM):TERM -> interpret_term._divTermTerm;
_pow(x:TERM,y:INT):TERM -> interpret_term._powTermReal;
_pow(x:TERM,y:REAL):TERM -> interpret_term._powTermReal;
_pow(x:INT,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:REAL,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:TERM,y:TERM):TERM -> interpret_term._powTermTerm;
sin(x:TERM): TERM -> interpret_term._sinTerm;
cos(x:TERM): TERM -> interpret_term._cosTerm;
tan(x:TERM): TERM -> interpret_term._tanTerm;
exp(x:TERM): TERM -> interpret_term._expTerm;
diff(x:TERM, varId:TERM): TERM -> interpret_term._diffTerm;

`;var on=class{constructor(){this.lexer=null;this.symTab=[];this.loopLevel=0;this.scope=0}getSymbol(e){for(let t of this.symTab)if(t.id===e)return t;return null}removeSymTabEntry(e){let t=[];for(let n of this.symTab)n!==e&&t.push(n);this.symTab=t}getLocalSymbols(){let e=[];for(let t of this.symTab)if(t.kind==="LOCAL"){if(t.type.base==="TERM_VAR")continue;e.push(t)}return e}parse(e){return this.loopLevel=0,this.scope=0,this.symTab=Li(Va),this.lexer=new Xa.Lexer,this.lexer.configureSingleLineComments("//"),this.lexer.configureMultiLineComments("/*","*/"),this.lexer.enableEmitNewlines(!1),this.lexer.enableEmitIndentation(!1),this.lexer.enableBackslashLineBreaks(!1),this.lexer.pushSource("FILE",e),this.lexer.setTerminals(["&&","||","==","!=",">=","<=","++","--"]),this.parseProgram().str}parseProgram(){let e=new Ve;for(;this.lexer.isNotEND();){let t=this.parseStatement();e.str+=t.str}return e}parseStatement(){if(this.lexer.isTER("let"))return this.parseDeclaration();if(this.lexer.isTER("if"))return this.parseIf();if(this.lexer.isTER("do"))return this.parseDo();if(this.lexer.isTER("while"))return this.parseWhile();if(this.lexer.isTER("function"))return this.parseFunction();if(this.lexer.isTER("return"))return this.parseReturn();if(this.lexer.isTER("break"))return this.parseBreak();if(this.lexer.isTER("continue"))return this.parseContinue();{let e=this.parseExpression();return this.lexer.EOS(),new Ve(e.code.str+";")}}parseDeclaration(){let e=new Ve;this.lexer.TER("let");let t=[];if(t.push(this.lexer.ID()),this.lexer.isTER("(")){let n=t[0];this.lexer.next();let i=[];for(i.push(this.lexer.ID());this.lexer.isTER(",");)this.lexer.next(),i.push(this.lexer.ID());for(let s of i){let u=new Ue("TERM_VAR"),a=new sr(s,"LOCAL",u,this.scope,[]);this.symTab.push(a)}this.lexer.TER(")"),this.lexer.TER("=");let o=this.parseExpression();if(o.type.base!=="TERM")switch(o.type.base){case"INT":case"REAL":o.code.str="runtime.interpret_term._numberToTerm("+o.code.str+")",o.type.base="TERM";break;default:this.lexer.error("right-hand side is not a term")}e.str+="let "+n+" = "+o.code.str+";";for(let s=0;s<i.length;s++)this.symTab.pop();let c=[];for(let s of i)c.push(new sr(s,"PARAMETER",new Ue("TERM_VAR"),this.scope+1,[]));let p=new sr(n,"LOCAL",new Ue("TERM"),this.scope,c);this.symTab.push(p),this.lexer.EOS()}else{let n=!1;for(;this.lexer.isTER(":")||this.lexer.isTER("/");)this.lexer.isTER("/")&&(n=!0),this.lexer.isTER(":")&&n==!0&&this.lexer.error('cannot mix ":" and "/"'),this.lexer.next(),t.push(this.lexer.ID());this.lexer.TER("=");let i=this.parseExpression();for(let o of t){let c=new sr(o,"LOCAL",i.type,this.scope,[]);this.symTab.push(c)}if(n){i.type.base!=="INT"&&this.lexer.error('declaration operator "/" is unimplemented for type '+i.type.base),e.str+="let ";for(let o=0;o<t.length;o++){let c=t[o];o>0&&(e.str+=", "),e.str+=c}e.str+=`;
`;for(let o=0;o<t.length;o++){let c=t[o];if(o==0)e.str+=c+" = "+i.code.str+`;
`;else{e.str+="do { "+c+" = "+i.code.str+"; } while (";let p="";for(let s=0;s<o;s++)p.length>0&&(p+=" || "),p+=c+" == "+t[s];e.str+=p,e.str+=`);
`}}}else for(let o of t)e.str+="let "+o+" = "+i.code.str+";";this.lexer.EOS()}return e}parseExpression(){let e=this.parseOr();for(;this.lexer.isTER("=");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseOr();e.code.tmp.includes("setElement")?(n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("matrix element must be of type INT or REAL."),e.code.str=e.code.tmp.replace("\xA7RHS\xA7",n.code.str),e.type.base="VOID"):(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="INT",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseOr(){let e=this.parseAnd();for(;this.lexer.isTER("||");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseAnd();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseAnd(){let e=this.parseEqual();for(;this.lexer.isTER("&&");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseEqual();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseEqual(){let e=this.parseRelational();if(this.lexer.isTER("==")||this.lexer.isTER("!=")){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseRelational();e.type.base=="INT"&&n.type.base=="INT"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseRelational(){let e=this.parseAdd();if(this.lexer.isTER("<=")||this.lexer.isTER(">=")||this.lexer.isTER("<")||this.lexer.isTER(">")){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseAdd();(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseAdd(){let e=this.parseMul();for(;this.lexer.isTER("+")||this.lexer.isTER("-");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseMul();e=this.call(this.getSymbol(t==="+"?"_add":"_sub"),[],[e,n])}return e}parseMul(){let e=this.parsePow();for(;this.lexer.isTER("*")||this.lexer.isTER("/");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parsePow();e=this.call(this.getSymbol(t==="*"?"_mul":"_div"),[],[e,n])}return e}parsePow(){let e=this.parseUnary();if(this.lexer.isTER("^")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_pow"),[],[e,t])}return e}parseUnary(){let e=this.parseUnaryExpression();return e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isNotTER("(")&&this.lexer.isNotTER("<")&&this.lexer.errorExpected(["(","<"]),(this.lexer.isTER("++")||this.lexer.isTER("--")||e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isTER("<")||this.lexer.isTER("(")||this.lexer.isTER("["))&&(e=this.parseUnaryPostfix(e)),e}parseUnaryExpression(){let e=new it;if(this.lexer.isTER("true"))e.code.str=" true ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isTER("false"))e.code.str=" false ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isINT())e.code.str=" "+this.lexer.INT()+" ",e.type.base="INT";else if(this.lexer.isREAL())e.code.str=" "+this.lexer.REAL()+" ",e.type.base="REAL";else if(this.lexer.isTER("(")){this.lexer.next();let t=this.parseExpression();this.lexer.TER(")"),e.code.str=" ( "+t.code.str+" ) ",e.type=t.type}else if(this.lexer.isTER("[")){this.lexer.next();let t=0,n=-1,i=-1,o=[];for(;this.lexer.isNotTER("]");){t>0&&this.lexer.TER(",");let s=this.parseMatrixRow();t==0?i=s.length:i!=s.length&&this.lexer.error("inconsistent number of matrix columns");for(let u of s)o.push(u);t++}n=t,this.lexer.TER("]");let c="[",p=0;for(let s of o)p>0&&(c+=", "),c+=s.code.str,p++;c+="]",e.code.str="runtime.interpret_matrix._create("+n+", "+i+", "+c+")",e.type.base="MATRIX"}else if(this.lexer.isID()){let t=this.lexer.ID();e.sym=this.getSymbol(t),e.sym==null&&this.lexer.errorUnknownSymbol(t),e.sym.type.base==="TERM_VAR"?(e.type=new Ue("TERM"),e.code.str='runtime.interpret_term.var("'+t+'")'):(e.type=e.sym.type.clone(),e.code.str=" "+t)}else if(this.lexer.isTER("-")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_unaryMinus"),[],[t])}else if(this.lexer.isTER("!")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_unaryNot"),[],[t])}else this.lexer.errorExpected(["INT","IMAG","REAL","(","ID"]);return e}parseMatrixRow(){this.lexer.TER("[");let e=0,t=[];for(;this.lexer.isNotTER("]");){e>0&&this.lexer.TER(",");let n=this.parseExpression();n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("matrix element must be of type INT or REAL."),t.push(n),e++}return this.lexer.TER("]"),t}parseUnaryPostfix(e){if(this.lexer.isTER("++"))this.lexer.next(),e.code.str+=" ++ ";else if(this.lexer.isTER("--"))this.lexer.next(),e.code.str+=" -- ";else if(this.lexer.isTER("<")||this.lexer.isTER("(")){let t=[],n=[];if(this.lexer.isTER("<")){this.lexer.next();let i=0;for(;this.lexer.isNotTER(">");)i>0&&this.lexer.TER(","),t.push(this.parseUnary()),i++;this.lexer.TER(">")}if(this.lexer.TER("("),e.sym==null&&this.lexer.errorNotAFunction(),e.sym.kind=="FUNCTION"||e.sym.kind=="LOCAL"&&e.sym.type.base==="TERM"){let i=0;for(;this.lexer.isNotTER(")");)i>0&&this.lexer.TER(","),n.push(this.parseExpression()),i++;this.lexer.TER(")")}else this.lexer.errorNotAFunction();if(e.sym.kind=="FUNCTION")e=this.call(e.sym,t,n);else{e.sym.subSymbols.length!=n.length&&this.lexer.error("invalid parameters for function "+e.sym.id);let i="{";for(let o=0;o<n.length;o++)n[o].type.base!=="INT"&&n[o].type.base!=="REAL"&&this.lexer.error("parameters for function must be of type INT or REAL."),o>0&&(i+=", "),i+=e.sym.subSymbols[o].id+": "+n[o].code.str;i+="}",e.code.str="runtime.interpret_term._eval("+e.sym.id+", "+i+", "+this.getTokenPosStr()+")",e.type=new Ue("REAL")}}else if(this.lexer.isTER("[")){this.lexer.next();let t=[],n=0;for(;this.lexer.isNotTER("]");)n>0&&this.lexer.TER(","),t.push(this.parseExpression()),n++;if(this.lexer.TER("]"),e.type.base==="MATRIX"){t.length!=2&&this.lexer.error("expected two indices");for(let i=0;i<t.length;i++)t[i].type.base!=="INT"&&this.lexer.error("index "+(i+1)+" is not of type integer")}else this.lexer.error('expected matrix after "["');e.type.base="REAL",e.code.str="runtime.interpret_matrix._getElement("+e.sym.id+", "+t[0].code.str+", "+t[1].code.str+", "+this.getTokenPosStr()+")",e.code.tmp="runtime.interpret_matrix._setElement("+e.sym.id+", "+t[0].code.str+", "+t[1].code.str+", \xA7RHS\xA7, "+this.getTokenPosStr()+")"}else this.lexer.errorExpected(["++","--","(","["]);return e}call(e,t,n){let i=new it;i.sym=e,i.type=e.type;let o=e;for(;o!=null;){let c=[],p=[];for(let s of o.subSymbols)s.kind=="DIMENSION"?c.push(s):s.kind==="PARAMETER"&&p.push(s);if(c.length==t.length&&p.length==n.length||p.length==1&&p[0].type.base=="INT_LIST"){let s=p.length==1&&p[0].type.base=="INT_LIST",u=!0;for(let a=0;a<c.length;a++)if(c[a].type.base!==t[a].type.base){u=!1;break}if(s){for(let a=0;a<n.length;a++)if(n[a].type.base!="INT"){u=!1;break}}else for(let a=0;a<p.length;a++)if(p[a].type.base!==n[a].type.base){u=!1;break}if(u){i.type=o.type,i.code.str="runtime."+o.runtimeId+"(";let a=0;for(let f=0;f<c.length;f++)a>0&&(i.code.str+=", "),i.code.str+=t[f].code.str,a++;if(s){a>0&&(i.code.str+=", "),i.code.str+="[";for(let f=0;f<n.length;f++)f>0&&(i.code.str+=","),i.code.str+=n[f].code.str;i.code.str+="]",a++}else for(let f=0;f<p.length;f++)a>0&&(i.code.str+=", "),i.code.str+=n[f].code.str,a++;a>0&&(i.code.str+=", "),i.code.str+=this.getTokenPosStr(),a++,i.code.str+=")",i.sym=null;break}}o=o.functionOverloadSuccessor}if(o==null){let c="";for(let p of n)c.length>0&&(c+=", "),c+=p.type.toString();this.lexer.error('no matching function prototype for calling "'+i.sym.id+'" with types ('+c+")")}return i}parseIf(){let e=new Ve;this.lexer.TER("if"),this.lexer.TER("(");let t=this.parseExpression();t.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),e.str="if ("+t.code.str+")";let n=this.parseBlock();if(e.str+=n.str,this.lexer.isTER("else")){this.lexer.next(),e.str+=" else ";let i=this.parseBlock();e.str+=i.str}return e}parseBlock(){let e=new Ve;if(this.lexer.isTER("{")){for(this.lexer.next(),e.str+="{";this.lexer.isNotTER("}");)e.str+=this.parseStatement().str;return this.lexer.TER("}"),e.str+="}",e}else return this.parseStatement()}parseDo(){this.lexer.TER("do"),this.loopLevel++;let e=this.parseBlock();this.loopLevel--,this.lexer.TER("while"),this.lexer.TER("(");let t=this.parseExpression();return t.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.lexer.EOS(),new Ve(" do "+e.str+" while( "+t.code.str+" ); ")}parseWhile(){this.lexer.TER("while"),this.lexer.TER("(");let e=this.parseExpression();e.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.loopLevel++;let t=this.parseBlock();return this.loopLevel--,new Ve(" while( "+e.code.str+" ) "+t.str)}parseFunction(){this.lexer.TER("function");let e=this.lexer.ID();this.lexer.TER("(");let t=0;for(;this.lexer.isNotTER(")");){t>0&&this.lexer.TER(",");let i=this.lexer.ID();t++}return this.lexer.TER(")"),this.parseBlock()}parseReturn(){if(this.lexer.TER("return"),this.lexer.isEOS()==!1){let e=this.parseExpression();return this.lexer.EOS(),new Ve(" return "+e.code)}else return this.lexer.EOS(),new Ve(" return ")}parseBreak(){return this.lexer.TER("break"),this.loopLevel==0&&this.lexer.error("break not allowed outside loop"),this.lexer.EOS(),new Ve(" break ")}parseContinue(){return this.lexer.TER("continue"),this.loopLevel==0&&this.lexer.error("continue not allowed outside loop"),this.lexer.EOS(),new Ve(" continue ")}getTokenPosStr(){return"'"+this.lexer.getToken().row+":"+this.lexer.getToken().col+"'"}};var an="";function Xc(r,e=!1){let t=new on;an=t.parse(r);let n=t.getLocalSymbols();return e&&console.log(an),new nn().interpret(an,n),n}return Mu(Zc);})();
/*!
 *  decimal.js v10.4.1
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
