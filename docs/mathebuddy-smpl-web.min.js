"use strict";var mathebuddySMPL=(()=>{var _s=Object.create;var Lt=Object.defineProperty;var Ts=Object.getOwnPropertyDescriptor;var Ms=Object.getOwnPropertyNames;var Fs=Object.getPrototypeOf,Ns=Object.prototype.hasOwnProperty;var Fr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ss=(t,e)=>{for(var r in e)Lt(t,r,{get:e[r],enumerable:!0})},da=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ms(e))!Ns.call(t,i)&&i!==r&&Lt(t,i,{get:()=>e[i],enumerable:!(n=Ts(e,i))||n.enumerable});return t};var ht=(t,e,r)=>(r=t!=null?_s(Fs(t)):{},da(e||!t||!t.__esModule?Lt(r,"default",{value:t,enumerable:!0}):r,t)),Bs=t=>da(Lt({},"__esModule",{value:!0}),t);var Da=Fr(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.getStr=pr.setLanguage=pr.LanguageText=pr.Language=void 0;var Ot;(function(t){t[t.EN=0]="EN",t[t.DE=1]="DE"})(Ot=pr.Language||(pr.Language={}));var sr;(function(t){t[t.EXPECTED=0]="EXPECTED",t[t.EXPECTED_ONE_OF=1]="EXPECTED_ONE_OF",t[t.CONDITION_NOT_BOOLEAN=2]="CONDITION_NOT_BOOLEAN",t[t.UNKNOWN_SYMBOL=3]="UNKNOWN_SYMBOL",t[t.SYMBOL_IS_NOT_A_FUNCTION=4]="SYMBOL_IS_NOT_A_FUNCTION",t[t.BIN_OP_INCOMPATIBLE_TYPES=5]="BIN_OP_INCOMPATIBLE_TYPES"})(sr=pr.LanguageText||(pr.LanguageText={}));function Is(t){xa=t}pr.setLanguage=Is;function Rs(t){return In[t+"_"+xa]}pr.getStr=Rs;var xa=Ot.EN,In={};function $r(t,e){In[t+"_"+Ot.EN]=e}function Qr(t,e){In[t+"_"+Ot.DE]=e}$r(sr.EXPECTED,"expected");Qr(sr.EXPECTED,"erwarte");$r(sr.EXPECTED_ONE_OF,"expected one of");Qr(sr.EXPECTED_ONE_OF,"erwarte Token aus Liste");$r(sr.CONDITION_NOT_BOOLEAN,"condition must be boolean");Qr(sr.CONDITION_NOT_BOOLEAN,"Bedingung muss Boolsch sein");$r(sr.UNKNOWN_SYMBOL,"unknown symbol");Qr(sr.UNKNOWN_SYMBOL,"unbekanntes Symbol");$r(sr.SYMBOL_IS_NOT_A_FUNCTION,"symbol is not a function");Qr(sr.SYMBOL_IS_NOT_A_FUNCTION,"Symbol ist keine Funktion");$r(sr.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP is incompatible for types $T1 and $T2");Qr(sr.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP ist inkompatibel mit den Typen $T1 und $T2")});var ga=Fr(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.LexerState=void 0;var vt=class{constructor(){this.i=0,this.n=-1,this.row=1,this.col=1,this.indent=0,this.lastIndent=0,this.stack=[]}copy(){let e=new vt;e.i=this.i,e.n=this.n,e.row=this.row,e.col=this.col,e.indent=this.indent,e.lastIndent=this.lastIndent;for(let r=0;r<this.stack.length;r++)e.stack.push(this.stack[r].copy());return e}};Pt.LexerState=vt});var ya=Fr(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.LexerToken=Vr.LexerTokenType=void 0;var Ea;(function(t){t.DEL="DEL",t.TER="TER",t.INT="INT",t.BIGINT="BIGINT",t.REAL="REAL",t.HEX="HEX",t.STR="STR",t.ID="ID",t.END="END"})(Ea=Vr.LexerTokenType||(Vr.LexerTokenType={}));var dt=class{constructor(){this.token="",this.type=Ea.TER,this.value=0,this.valueBigint=0n,this.fileID="",this.row=0,this.col=0}toString(){let e=this.token;e=e.replace(/\n/g,"\\n"),e=e.replace(/\t/g,"\\t");let r=this.fileID+":"+this.row+":"+this.col;return r+=': "'+e+'" ('+this.type+")",r}copy(){let e=new dt;return e.token=this.token,e.type=this.type,e.value=this.value,e.fileID=this.fileID,e.row=this.row,e.col=this.col,e}};Vr.LexerToken=dt});var wa=Fr(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Lexer=Nr.ParseError=Nr.LexerFile=void 0;var ce=Da(),Ls=ga(),W=ya(),zt=class{constructor(){this.stateBackup=null,this.tokenBackup=null,this.id="",this.sourceCode=""}};Nr.LexerFile=zt;var ze=class extends Error{constructor(e){super(e),this.name="ParseError"}};Nr.ParseError=ze;var Rn=class{constructor(){this.terminals=new Set,this.fileStack=[],this.token=null,this.lastToken=null,this.state=null,this.singleLineCommentStart="//",this.multiLineCommentStart="/*",this.multilineCommentEnd="*/",this.emitNewline=!1,this.emitHex=!0,this.emitInt=!0,this.emitReal=!0,this.emitBigint=!0,this.emitDoubleQuotes=!0,this.emitIndentation=!1,this.lexerFilePositionPrefix="!>",this.allowBackslashLineBreaks=!1,this.putTrailingSemicolon=[],this.multicharDelimiters=[]}configureSingleLineComments(e="//"){this.singleLineCommentStart=e}configureMultiLineComments(e="/*",r="*/"){this.multiLineCommentStart=e,this.multilineCommentEnd=r}configureLexerFilePositionPrefix(e="!>"){this.lexerFilePositionPrefix=e}enableEmitNewlines(e){this.emitNewline=e}enableEmitHex(e){this.emitHex=e}enableEmitInt(e){this.emitInt=e}enableEmitReal(e){this.emitReal=e}enableEmitBigint(e){this.emitBigint=e}enableEmitDoubleQuotes(e){this.emitDoubleQuotes=e}enableEmitIndentation(e){this.emitIndentation=e}enableBackslashLineBreaks(e){this.allowBackslashLineBreaks=e}isEND(){return this.token.type===W.LexerTokenType.END}isNotEND(){return this.token.type!==W.LexerTokenType.END}END(){if(this.token.type===W.LexerTokenType.END)this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" END")}isID(){return this.token.type===W.LexerTokenType.ID}ID(){let e="";if(this.token.type===W.LexerTokenType.ID)e=this.token.token,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" ID");return e}isLID(){return this.token.type===W.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase()}LID(){let e="";if(this.token.type===W.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase())e=this.token.token,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" LowerCaseID");return e}isUID(){return this.token.type===W.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase()}UID(){let e="";if(this.token.type===W.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase())e=this.token.token,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" UpperCaseID");return e}isINT(){return this.token.type===W.LexerTokenType.INT}INT(){let e=0;if(this.token.type===W.LexerTokenType.INT)e=this.token.value,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" INT");return e}isBIGINT(){return this.token.type===W.LexerTokenType.BIGINT}BIGINT(){let e=0n;if(this.token.type===W.LexerTokenType.BIGINT)e=this.token.valueBigint,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" BIGINT");return e}isREAL(){return this.token.type===W.LexerTokenType.REAL}REAL(){let e=0;if(this.token.type===W.LexerTokenType.REAL)e=this.token.value,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" REAL");return e}isHEX(){return this.token.type===W.LexerTokenType.HEX}HEX(){let e="";if(this.token.type===W.LexerTokenType.HEX)e=this.token.token,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" HEX");return e}isSTR(){return this.token.type===W.LexerTokenType.STR}STR(){let e="";if(this.token.type===W.LexerTokenType.STR)e=this.token.token,this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" STR");return e}isTER(e){return this.token.type===W.LexerTokenType.DEL&&this.token.token===e||this.token.type===W.LexerTokenType.ID&&this.token.token===e}isNotTER(e){return this.isTER(e)==!1&&this.token.type!=W.LexerTokenType.END}TER(e){if(this.token.type===W.LexerTokenType.DEL&&this.token.token===e||this.token.type===W.LexerTokenType.ID&&this.token.token===e)this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+' "'+e+'"')}isEOS(){return this.token.token===";"}EOS(){if(this.token.token===";")this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+' ";"')}isINDENT(){return this.token.type==W.LexerTokenType.DEL&&this.token.token==="	+"}isNotINDENT(){return!(this.token.type===W.LexerTokenType.DEL&&this.token.token==="	+")}INDENT(){if(this.token.type==W.LexerTokenType.DEL&&this.token.token==="	+")this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" INDENT")}isOUTDENT(){return this.token.type==W.LexerTokenType.DEL&&this.token.token==="	-"}isNotOUTDENT(){return this.token.type===W.LexerTokenType.END?!1:!(this.token.type===W.LexerTokenType.DEL&&this.token.token==="	-")}OUTDENT(){if(this.token.type==W.LexerTokenType.DEL&&this.token.token==="	-")this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" OUTDENT")}isNEWLINE(){return this.isOUTDENT()||this.token.type==W.LexerTokenType.DEL&&this.token.token===`
`}isNotNEWLINE(){return!this.isOUTDENT()&&!(this.token.type===W.LexerTokenType.DEL&&this.token.token===`
`)}NEWLINE(){if(!this.isOUTDENT())if(this.token.type==W.LexerTokenType.DEL&&this.token.token===`
`)this.next();else throw new ze(this.err_pos()+(0,ce.getStr)(ce.LanguageText.EXPECTED)+" NEWLINE")}error(e,r=null){throw new ze(this.err_pos(r)+e)}errorExpected(e){let r=(0,ce.getStr)(ce.LanguageText.EXPECTED_ONE_OF)+" ";for(let n=0;n<e.length;n++)n>0&&(r+=", "),r+=e[n];r+=".",this.error(r)}errorConditionNotBoolean(){this.error((0,ce.getStr)(ce.LanguageText.CONDITION_NOT_BOOLEAN))}errorUnknownSymbol(e){this.error((0,ce.getStr)(ce.LanguageText.UNKNOWN_SYMBOL)+" "+e)}errorNotAFunction(){this.error((0,ce.getStr)(ce.LanguageText.SYMBOL_IS_NOT_A_FUNCTION))}errorTypesInBinaryOperation(e,r,n){this.error((0,ce.getStr)(ce.LanguageText.BIN_OP_INCOMPATIBLE_TYPES).replace("$OP",e).replace("$T1",r).replace("$T2",n))}err_pos(e=null){return e==null&&(e=this.token),e.fileID+":"+e.row+":"+e.col+": "}addPutTrailingSemicolon(e,r=""){let n=new W.LexerToken;n.type=e,n.token=r,this.putTrailingSemicolon.push(n)}setTerminals(e){this.terminals.clear(),this.multicharDelimiters=[];for(let r of e)r.length!=0&&(r[0]>="A"&&r[0]<="Z"||r[0]>="a"&&r[0]<="z"||r[0]=="_"?this.terminals.add(r):this.multicharDelimiters.push(r));this.multicharDelimiters.sort(function(r,n){return n.length-r.length})}getTerminals(){return Array.from(this.terminals)}getMulticharDelimiters(){return this.multicharDelimiters}getToken(){return this.token}next(){this.lastToken=this.token;let e=this.fileStack.slice(-1)[0].sourceCode,r=this.fileStack.slice(-1)[0].id,n=this.state;if(n.stack.length>0){this.token=n.stack[0],n.stack.shift();return}this.token=new W.LexerToken,this.token.fileID=r,n.indent=-1;let i=!1;for(;;)if(n.i<n.n&&e[n.i]===`
`)n.indent=0,i=this.nextTokenLinefeed(n);else if(n.i<n.n&&e[n.i]===" ")n.i++,n.col++,n.indent>=0&&n.indent++;else if(n.i<n.n&&e[n.i]==="	")n.i++,n.col+=4,n.indent>=0&&(n.indent+=4);else if(this.allowBackslashLineBreaks&&n.i<n.n&&e[n.i]==="\\")for(n.i++;n.i<n.n;){if(e[n.i]==" ")n.col++;else if(e[n.i]=="	")n.col+=4;else if(e[n.i]==`
`)n.row++,n.col=1;else break;n.i++}else if(this.singleLineCommentStart.length>0&&this.isNext(this.singleLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.singleLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&e[n.i]!=`
`;)n.i++,n.col++;n.i<n.n&&e[n.i]===`
`&&(i=this.nextTokenLinefeed(n)),n.indent=0}else if(this.multiLineCommentStart.length>0&&this.isNext(this.multiLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.multiLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&!this.isNext(this.multilineCommentEnd);)e[n.i]===`
`?(n.row++,n.col=1,n.indent=0):n.col++,n.i++;c=this.multilineCommentEnd.length,n.i+=c,n.col+=c}else if(this.lexerFilePositionPrefix.length>0&&e.substring(n.i).startsWith(this.lexerFilePositionPrefix)){n.i+=this.lexerFilePositionPrefix.length;let c="";for(;n.i<n.n&&e[n.i]!==":";)c+=e[n.i],n.i++;n.i++,this.fileStack.slice(-1)[0].id=c,this.token.fileID=c;let m="";for(;n.i<n.n&&e[n.i]!==":";)m+=e[n.i],n.i++;n.i++,this.token.row=parseInt(m);let f="";for(;n.i<n.n&&e[n.i]!==":";)f+=e[n.i],n.i++;n.i++,this.token.col=parseInt(f)}else break;if(this.emitIndentation&&n.indent>=0){let c=n.indent-n.lastIndent;if(n.lastIndent=n.indent,c!=0)if(c%4==0){let m=c>0,f=Math.floor(Math.abs(c)/4);for(let s=0;s<f;s++)this.token=new W.LexerToken,this.token.fileID=r,this.token.row=n.row,m?this.token.col=n.col-c+4*s:this.token.col=n.col,this.token.type=W.LexerTokenType.DEL,this.token.token=m?"	+":"	-",n.stack.push(this.token);this.token=n.stack[0],n.stack.shift();return}else{this.token.row=n.row,this.token.col=n.col-c,this.token.type=W.LexerTokenType.TER,this.token.token="	err";return}}if(i)return;let o=n.copy();if(this.token.row=n.row,this.token.col=n.col,n.indent=0,n.i>=n.n){this.token.token="$end",this.token.type=W.LexerTokenType.END;return}if(this.token.type=W.LexerTokenType.ID,this.token.token="",n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]==="_"))for(this.token.token+=e[n.i],n.i++,n.col++;n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]>="0"&&e[n.i]<="9"||e[n.i]==="_");)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.terminals.has(this.token.token)&&(this.token.type=W.LexerTokenType.TER),this.state=n;return}if(n=o.copy(),this.emitDoubleQuotes&&(this.token.type=W.LexerTokenType.STR,n.i<n.n&&e[n.i]==='"')){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!='"'&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==='"'){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitHex&&(this.token.type=W.LexerTokenType.HEX,this.token.token="",n.i<n.n&&e[n.i]==="0"&&(n.i++,n.col++,n.i<n.n&&e[n.i]==="x"))){n.i++,n.col++;let c=0;for(;n.i<n.n&&(e[n.i]>="0"&&e[n.i]<="9"||e[n.i]>="A"&&e[n.i]<="F"||e[n.i]>="a"&&e[n.i]<="f");)this.token.token+=e[n.i],n.i++,n.col++,c++;if(c>0){this.token.token="0x"+this.token.token,this.token.value=parseInt(this.token.token,16),this.token.valueBigint=BigInt(this.token.token),this.state=n;return}}if(n=o.copy(),this.emitInt){if(this.token.type=W.LexerTokenType.INT,this.token.token="",n.i<n.n&&e[n.i]==="0")this.token.token="0",n.i++,n.col++;else if(n.i<n.n&&e[n.i]>="1"&&e[n.i]<="9")for(this.token.token=e[n.i],n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0&&this.emitBigint&&n.i<n.n&&e[n.i]==="n")n.i++,n.col++,this.token.type=W.LexerTokenType.BIGINT;else if(this.token.token.length>0&&this.emitReal&&n.i<n.n&&e[n.i]===".")for(this.token.type=W.LexerTokenType.REAL,this.token.token+=".",n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.token.type===W.LexerTokenType.INT?this.token.value=parseInt(this.token.token):this.token.type===W.LexerTokenType.BIGINT?this.token.valueBigint=BigInt(this.token.token):this.token.value=parseFloat(this.token.token),this.state=n;return}}this.token.type=W.LexerTokenType.DEL,this.token.token="";for(let c=0;c<this.multicharDelimiters.length;c++){let m=this.multicharDelimiters[c],f=!0;n=o.copy();for(let s=0;s<m.length;s++){let a=m[s];if(n.i<n.n&&e[n.i]===a)n.i++,n.col++;else{f=!1;break}}if(f){this.state=n,this.token.token=m;return}}n=o.copy(),this.token.type=W.LexerTokenType.DEL,this.token.token="",n.i<n.n&&(this.token.token=e[n.i],n.i++,n.col++,this.state=n)}nextTokenLinefeed(e){let r=!1;if(this.emitNewline)this.token.row=e.row,this.token.col=e.col,this.token.token=`
`,this.token.type=W.LexerTokenType.DEL;else if(this.putTrailingSemicolon.length>0){let n=!1;for(let i of this.putTrailingSemicolon)if(i.type===this.lastToken.type&&(i.type===W.LexerTokenType.DEL?n=i.token===this.lastToken.token:n=!0,n))break;n&&(r=!0,this.token.row=e.row,this.token.col=e.col,this.token.token=";",this.token.type=W.LexerTokenType.DEL)}return e.row++,e.col=1,e.indent=0,e.i++,this.emitNewline||r}isNext(e){let r=this.fileStack.slice(-1)[0].sourceCode,n=this.state,i=e.length;if(n.i+i>=n.n)return!1;for(let o=0;o<i;o++){let c=e[o];if(r[n.i+o]!=c)return!1}return!0}pushSource(e,r){this.fileStack.length>0&&(this.fileStack.slice(-1)[0].stateBackup=this.state.copy(),this.fileStack.slice(-1)[0].tokenBackup=this.token.copy());let n=new zt;n.id=e,n.sourceCode=r,this.fileStack.push(n),this.state=new Ls.LexerState,this.state.n=r.length,this.next()}popSource(){this.fileStack.pop(),this.fileStack.length>0&&(this.state=this.fileStack.slice(-1)[0].stateBackup,this.token=this.fileStack.slice(-1)[0].tokenBackup)}backupState(){return{state:this.state.copy(),token:this.token.copy()}}replayState(e){this.state=e.state,this.token=e.token}};Nr.Lexer=Rn});var Ln=Fr(Ur=>{"use strict";var Os=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ps=Ur&&Ur.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Os(e,t,r)};Object.defineProperty(Ur,"__esModule",{value:!0});Ps(wa(),Ur)});var eo=Fr((qn,Vn)=>{(function(t,e){typeof qn=="object"&&typeof Vn<"u"?Vn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.typed=e())})(qn,function(){"use strict";function t(a,u){var l=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=e(a))||u&&a&&typeof a.length=="number"){l&&(a=l);var h=0,v=function(){};return{s:v,n:function(){return h>=a.length?{done:!0}:{done:!1,value:a[h++]}},e:function(g){throw g},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,d=!1,D;return{s:function(){l=l.call(a)},n:function(){var g=l.next();return p=g.done,g},e:function(g){d=!0,D=g},f:function(){try{!p&&l.return!=null&&l.return()}finally{if(d)throw D}}}}function e(a,u){if(!!a){if(typeof a=="string")return r(a,u);var l=Object.prototype.toString.call(a).slice(8,-1);if(l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set")return Array.from(a);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return r(a,u)}}function r(a,u){(u==null||u>a.length)&&(u=a.length);for(var l=0,h=new Array(u);l<u;l++)h[l]=a[l];return h}function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n(a)}function i(){return!0}function o(){return!1}function c(){}var m="Argument is not a typed-function.";function f(){function a(_){return n(_)==="object"&&_!==null&&_.constructor===Object}var u=[{name:"number",test:function(M){return typeof M=="number"}},{name:"string",test:function(M){return typeof M=="string"}},{name:"boolean",test:function(M){return typeof M=="boolean"}},{name:"Function",test:function(M){return typeof M=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(M){return M instanceof Date}},{name:"RegExp",test:function(M){return M instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(M){return M===null}},{name:"undefined",test:function(M){return M===void 0}}],l={name:"any",test:i,isAny:!0},h,v,p=0,d={createCount:0};function D(_){var M=h.get(_);if(M)return M;var B='Unknown type "'+_+'"',P=_.toLowerCase(),V,Z=t(v),G;try{for(Z.s();!(G=Z.n()).done;)if(V=G.value,V.toLowerCase()===P){B+='. Did you mean "'+V+'" ?';break}}catch(k){Z.e(k)}finally{Z.f()}throw new TypeError(B)}function E(_){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",B=M?D(M).index:v.length,P=[],V=0;V<_.length;++V){if(!_[V]||typeof _[V].name!="string"||typeof _[V].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var Z=_[V].name;if(h.has(Z))throw new TypeError('Duplicate type name "'+Z+'"');P.push(Z),h.set(Z,{name:Z,test:_[V].test,isAny:_[V].isAny,index:B+V,conversionsTo:[]})}var G=v.slice(B);v=v.slice(0,B).concat(P).concat(G);for(var k=B+P.length;k<v.length;++k)h.get(v[k]).index=k}function g(){h=new Map,v=[],p=0,E([l],!1)}g(),E(u);function A(){var _,M=t(v),B;try{for(M.s();!(B=M.n()).done;)_=B.value,h.get(_).conversionsTo=[]}catch(P){M.e(P)}finally{M.f()}p=0}function w(_){var M=v.filter(function(B){var P=h.get(B);return!P.isAny&&P.test(_)});return M.length?M:["any"]}function x(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function y(_,M,B){if(!x(_))throw new TypeError(m);var P=B&&B.exact,V=Array.isArray(M)?M.join(","):M,Z=O(V),G=T(Z);if(!P||G in _.signatures){var k=_._typedFunctionData.signatureMap.get(G);if(k)return k}var H=Z.length,re;if(P){re=[];var fe;for(fe in _.signatures)re.push(_._typedFunctionData.signatureMap.get(fe))}else re=_._typedFunctionData.signatures;for(var $=0;$<H;++$){var Qe=Z[$],Ue=[],Ye=void 0,Ie=t(re),er;try{for(Ie.s();!(er=Ie.n()).done;){Ye=er.value;var Pe=U(Ye.params,$);if(!(!Pe||Qe.restParam&&!Pe.restParam)){if(!Pe.hasAny){var lr=function(){var rr=q(Pe);if(Qe.types.some(function(qr){return!rr.has(qr.name)}))return"continue"}();if(lr==="continue")continue}Ue.push(Ye)}}}catch(rr){Ie.e(rr)}finally{Ie.f()}if(re=Ue,re.length===0)break}var Je,je=t(re),kr;try{for(je.s();!(kr=je.n()).done;)if(Je=kr.value,Je.params.length<=H)return Je}catch(rr){je.e(rr)}finally{je.f()}throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+T(Z,", ")+"))")}function b(_,M,B){return y(_,M,B).implementation}function C(_,M){var B=D(M);if(B.test(_))return _;var P=B.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+M+" defined.");for(var V=0;V<P.length;V++){var Z=D(P[V].from);if(Z.test(_))return P[V].convert(_)}throw new Error("Cannot convert "+_+" to "+M)}function T(_){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map(function(B){return B.name}).join(M)}function N(_){var M=_.indexOf("...")===0,B=M?_.length>3?_.slice(3):"any":_,P=B.split("|").map(function(k){return D(k.trim())}),V=!1,Z=M?"...":"",G=P.map(function(k){return V=k.isAny||V,Z+=k.name+"|",{name:k.name,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:null,conversionIndex:-1}});return{types:G,name:Z.slice(0,-1),hasAny:V,hasConversion:!1,restParam:M}}function R(_){var M=_.types.map(function(G){return G.name}),B=oe(M),P=_.hasAny,V=_.name,Z=B.map(function(G){var k=D(G.from);return P=k.isAny||P,V+="|"+G.from,{name:G.from,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:G,conversionIndex:G.index}});return{types:_.types.concat(Z),name:V,hasAny:P,hasConversion:Z.length>0,restParam:_.restParam}}function q(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(function(M){return _.typeSet.add(M.name)})),_.typeSet}function O(_){var M=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");var B=_.trim();if(B==="")return M;for(var P=B.split(","),V=0;V<P.length;++V){var Z=N(P[V].trim());if(Z.restParam&&V!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[V]+'": only allowed for the last parameter');if(Z.types.length===0)return null;M.push(Z)}return M}function I(_){var M=Be(_);return M?M.restParam:!1}function F(_){if(!_||_.types.length===0)return i;if(_.types.length===1)return D(_.types[0].name).test;if(_.types.length===2){var M=D(_.types[0].name).test,B=D(_.types[1].name).test;return function(Z){return M(Z)||B(Z)}}else{var P=_.types.map(function(V){return D(V.name).test});return function(Z){for(var G=0;G<P.length;G++)if(P[G](Z))return!0;return!1}}}function Y(_){var M,B,P;if(I(_)){M=xe(_).map(F);var V=M.length,Z=F(Be(_)),G=function(H){for(var re=V;re<H.length;re++)if(!Z(H[re]))return!1;return!0};return function(H){for(var re=0;re<M.length;re++)if(!M[re](H[re]))return!1;return G(H)&&H.length>=V+1}}else return _.length===0?function(H){return H.length===0}:_.length===1?(B=F(_[0]),function(H){return B(H[0])&&H.length===1}):_.length===2?(B=F(_[0]),P=F(_[1]),function(H){return B(H[0])&&P(H[1])&&H.length===2}):(M=_.map(F),function(H){for(var re=0;re<M.length;re++)if(!M[re](H[re]))return!1;return H.length===M.length})}function U(_,M){return M<_.length?_[M]:I(_)?Be(_):null}function S(_,M){var B=U(_,M);return B?q(B):new Set}function X(_){return _.conversion===null||_.conversion===void 0}function Q(_,M){var B=new Set;return _.forEach(function(P){var V=S(P.params,M),Z,G=t(V),k;try{for(G.s();!(k=G.n()).done;)Z=k.value,B.add(Z)}catch(H){G.e(H)}finally{G.f()}}),B.has("any")?["any"]:Array.from(B)}function ue(_,M,B){var P,V,Z=_||"unnamed",G=B,k,H=function(){var Ie=[];if(G.forEach(function(Pe){var lr=U(Pe.params,k),Je=F(lr);(k<Pe.params.length||I(Pe.params))&&Je(M[k])&&Ie.push(Pe)}),Ie.length===0){if(V=Q(G,k),V.length>0){var er=w(M[k]);return P=new TypeError("Unexpected type of argument in function "+Z+" (expected: "+V.join(" or ")+", actual: "+er.join(" | ")+", index: "+k+")"),P.data={category:"wrongType",fn:Z,index:k,actual:er,expected:V},{v:P}}}else G=Ie};for(k=0;k<M.length;k++){var re=H();if(n(re)==="object")return re.v}var fe=G.map(function(Ye){return I(Ye.params)?1/0:Ye.params.length});if(M.length<Math.min.apply(null,fe))return V=Q(G,k),P=new TypeError("Too few arguments in function "+Z+" (expected: "+V.join(" or ")+", index: "+M.length+")"),P.data={category:"tooFewArgs",fn:Z,index:M.length,expected:V},P;var $=Math.max.apply(null,fe);if(M.length>$)return P=new TypeError("Too many arguments in function "+Z+" (expected: "+$+", actual: "+M.length+")"),P.data={category:"tooManyArgs",fn:Z,index:M.length,expectedLength:$},P;for(var Qe=[],Ue=0;Ue<M.length;++Ue)Qe.push(w(M[Ue]).join("|"));return P=new TypeError('Arguments of type "'+Qe.join(", ")+'" do not match any of the defined signatures of function '+Z+"."),P.data={category:"mismatch",actual:Qe},P}function ee(_){for(var M=v.length+1,B=0;B<_.types.length;B++)X(_.types[B])&&(M=Math.min(M,_.types[B].typeIndex));return M}function j(_){for(var M=p+1,B=0;B<_.types.length;B++)X(_.types[B])||(M=Math.min(M,_.types[B].conversionIndex));return M}function we(_,M){if(_.hasAny){if(!M.hasAny)return 1}else if(M.hasAny)return-1;if(_.restParam){if(!M.restParam)return 1}else if(M.restParam)return-1;if(_.hasConversion){if(!M.hasConversion)return 1}else if(M.hasConversion)return-1;var B=ee(_)-ee(M);if(B<0)return-1;if(B>0)return 1;var P=j(_)-j(M);return P<0?-1:P>0?1:0}function pe(_,M){var B=_.params,P=M.params,V=Be(B),Z=Be(P),G=I(B),k=I(P);if(G&&V.hasAny){if(!k||!Z.hasAny)return 1}else if(k&&Z.hasAny)return-1;var H=0,re=0,fe,$=t(B),Qe;try{for($.s();!(Qe=$.n()).done;)fe=Qe.value,fe.hasAny&&++H,fe.hasConversion&&++re}catch(lt){$.e(lt)}finally{$.f()}var Ue=0,Ye=0,Ie=t(P),er;try{for(Ie.s();!(er=Ie.n()).done;)fe=er.value,fe.hasAny&&++Ue,fe.hasConversion&&++Ye}catch(lt){Ie.e(lt)}finally{Ie.f()}if(H!==Ue)return H-Ue;if(G&&V.hasConversion){if(!k||!Z.hasConversion)return 1}else if(k&&Z.hasConversion)return-1;if(re!==Ye)return re-Ye;if(G){if(!k)return 1}else if(k)return-1;var Pe=(B.length-P.length)*(G?-1:1);if(Pe!==0)return Pe;for(var lr=[],Je=0,je=0;je<B.length;++je){var kr=we(B[je],P[je]);lr.push(kr),Je+=kr}if(Je!==0)return Je;for(var rr,qr=0,Bt=lr;qr<Bt.length;qr++)if(rr=Bt[qr],rr!==0)return rr;return 0}function oe(_){if(_.length===0)return[];var M=_.map(D);_.length>1&&M.sort(function(H,re){return H.index-re.index});var B=M[0].conversionsTo;if(_.length===1)return B;B=B.concat([]);for(var P=new Set(_),V=1;V<M.length;++V){var Z=void 0,G=t(M[V].conversionsTo),k;try{for(G.s();!(k=G.n()).done;)Z=k.value,P.has(Z.from)||(B.push(Z),P.add(Z.from))}catch(H){G.e(H)}finally{G.f()}}return B}function de(_,M){var B=M;if(_.some(function(k){return k.hasConversion})){var P=I(_),V=_.map(he);B=function(){for(var H=[],re=P?arguments.length-1:arguments.length,fe=0;fe<re;fe++)H[fe]=V[fe](arguments[fe]);return P&&(H[re]=arguments[re].map(V[re])),M.apply(this,H)}}var Z=B;if(I(_)){var G=_.length-1;Z=function(){return B.apply(this,or(arguments,0,G).concat([or(arguments,G)]))}}return Z}function he(_){var M,B,P,V,Z=[],G=[];switch(_.types.forEach(function(k){k.conversion&&(Z.push(D(k.conversion.from).test),G.push(k.conversion.convert))}),G.length){case 0:return function(H){return H};case 1:return M=Z[0],P=G[0],function(H){return M(H)?P(H):H};case 2:return M=Z[0],B=Z[1],P=G[0],V=G[1],function(H){return M(H)?P(H):B(H)?V(H):H};default:return function(H){for(var re=0;re<G.length;re++)if(Z[re](H))return G[re](H);return H}}}function ne(_){function M(B,P,V){if(P<B.length){var Z=B[P],G=[];if(Z.restParam){var k=Z.types.filter(X);k.length<Z.types.length&&G.push({types:k,name:"..."+k.map(function(H){return H.name}).join("|"),hasAny:k.some(function(H){return H.isAny}),hasConversion:!1,restParam:!0}),G.push(Z)}else G=Z.types.map(function(H){return{types:[H],name:H.name,hasAny:H.isAny,hasConversion:H.conversion,restParam:!1}});return Ft(G,function(H){return M(B,P+1,V.concat([H]))})}else return[V]}return M(_,0,[])}function Se(_,M){for(var B=Math.max(_.length,M.length),P=0;P<B;P++){var V=S(_,P),Z=S(M,P),G=!1,k=void 0,H=t(Z),re;try{for(H.s();!(re=H.n()).done;)if(k=re.value,V.has(k)){G=!0;break}}catch(Ye){H.e(Ye)}finally{H.f()}if(!G)return!1}var fe=_.length,$=M.length,Qe=I(_),Ue=I(M);return Qe?Ue?fe===$:$>=fe:Ue?fe>=$:fe===$}function be(_){return _.map(function(M){return Gr(M)?ft(M.referToSelf.callback):ct(M)?St(M.referTo.references,M.referTo.callback):M})}function se(_,M,B){var P=[],V,Z=t(_),G;try{for(Z.s();!(G=Z.n()).done;){V=G.value;var k=B[V];if(typeof k!="number")throw new TypeError('No definition for referenced signature "'+V+'"');if(k=M[k],typeof k!="function")return!1;P.push(k)}}catch(H){Z.e(H)}finally{Z.f()}return P}function De(_,M,B){for(var P=be(_),V=new Array(P.length).fill(!1),Z=!0;Z;){Z=!1;for(var G=!0,k=0;k<P.length;++k)if(!V[k]){var H=P[k];if(Gr(H))P[k]=H.referToSelf.callback(B),P[k].referToSelf=H.referToSelf,V[k]=!0,G=!1;else if(ct(H)){var re=se(H.referTo.references,P,M);re?(P[k]=H.referTo.callback.apply(this,re),P[k].referTo=H.referTo,V[k]=!0,G=!1):Z=!0}}if(G&&Z)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function Oe(_){var M=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(function(B){var P=_[B];if(M.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ar(_,M){if(d.createCount++,Object.keys(M).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&Oe(M);var B=[],P=[],V={},Z=[],G,k=function(){if(!Object.prototype.hasOwnProperty.call(M,G))return"continue";var Xe=O(G);if(!Xe)return"continue";B.forEach(function(Yr){if(Se(Yr,Xe))throw new TypeError('Conflicting signatures "'+T(Yr)+'" and "'+T(Xe)+'".')}),B.push(Xe);var ma=P.length;P.push(M[G]);var bs=Xe.map(R),It=void 0,Rt=t(ne(bs)),ha;try{for(Rt.s();!(ha=Rt.n()).done;){It=ha.value;var va=T(It);Z.push({params:It,name:va,fn:ma}),It.every(function(Yr){return!Yr.hasConversion})&&(V[va]=ma)}}catch(Yr){Rt.e(Yr)}finally{Rt.f()}};for(G in M)var H=k();Z.sort(pe);var re=De(P,V,mt),fe;for(fe in V)Object.prototype.hasOwnProperty.call(V,fe)&&(V[fe]=re[V[fe]]);for(var $=[],Qe=new Map,Ue=0,Ye=Z;Ue<Ye.length;Ue++)fe=Ye[Ue],Qe.has(fe.name)||(fe.fn=re[fe.fn],$.push(fe),Qe.set(fe.name,fe));for(var Ie=$[0]&&$[0].params.length<=2&&!I($[0].params),er=$[1]&&$[1].params.length<=2&&!I($[1].params),Pe=$[2]&&$[2].params.length<=2&&!I($[2].params),lr=$[3]&&$[3].params.length<=2&&!I($[3].params),Je=$[4]&&$[4].params.length<=2&&!I($[4].params),je=$[5]&&$[5].params.length<=2&&!I($[5].params),kr=Ie&&er&&Pe&&lr&&Je&&je,rr=0;rr<$.length;++rr)$[rr].test=Y($[rr].params);for(var qr=Ie?F($[0].params[0]):o,Bt=er?F($[1].params[0]):o,lt=Pe?F($[2].params[0]):o,Wu=lr?F($[3].params[0]):o,es=Je?F($[4].params[0]):o,rs=je?F($[5].params[0]):o,ts=Ie?F($[0].params[1]):o,ns=er?F($[1].params[1]):o,is=Pe?F($[2].params[1]):o,as=lr?F($[3].params[1]):o,os=Je?F($[4].params[1]):o,us=je?F($[5].params[1]):o,pt=0;pt<$.length;++pt)$[pt].implementation=de($[pt].params,$[pt].fn);var ss=Ie?$[0].implementation:c,fs=er?$[1].implementation:c,cs=Pe?$[2].implementation:c,ls=lr?$[3].implementation:c,ps=Je?$[4].implementation:c,ms=je?$[5].implementation:c,hs=Ie?$[0].params.length:-1,vs=er?$[1].params.length:-1,ds=Pe?$[2].params.length:-1,xs=lr?$[3].params.length:-1,Ds=Je?$[4].params.length:-1,gs=je?$[5].params.length:-1,Es=kr?6:0,ys=$.length,ws=$.map(function(ur){return ur.test}),As=$.map(function(ur){return ur.implementation}),Cs=function(){for(var Xe=Es;Xe<ys;Xe++)if(ws[Xe](arguments))return As[Xe].apply(this,arguments);return d.onMismatch(_,arguments,$)};function mt(ur,Xe){return arguments.length===hs&&qr(ur)&&ts(Xe)?ss.apply(this,arguments):arguments.length===vs&&Bt(ur)&&ns(Xe)?fs.apply(this,arguments):arguments.length===ds&&lt(ur)&&is(Xe)?cs.apply(this,arguments):arguments.length===xs&&Wu(ur)&&as(Xe)?ls.apply(this,arguments):arguments.length===Ds&&es(ur)&&os(Xe)?ps.apply(this,arguments):arguments.length===gs&&rs(ur)&&us(Xe)?ms.apply(this,arguments):Cs.apply(this,arguments)}try{Object.defineProperty(mt,"name",{value:_})}catch{}return mt.signatures=V,mt._typedFunctionData={signatures:$,signatureMap:Qe},mt}function Ge(_,M,B){throw ue(_,M,B)}function xe(_){return or(_,0,_.length-1)}function Be(_){return _[_.length-1]}function or(_,M,B){return Array.prototype.slice.call(_,M,B)}function Bn(_,M){for(var B=0;B<_.length;B++)if(M(_[B]))return _[B]}function Ft(_,M){return Array.prototype.concat.apply([],_.map(M))}function Nt(){var _=xe(arguments).map(function(B){return T(O(B))}),M=Be(arguments);if(typeof M!="function")throw new TypeError("Callback function expected as last argument");return St(_,M)}function St(_,M){return{referTo:{references:_,callback:M}}}function ft(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function ct(_){return _&&n(_.referTo)==="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Gr(_){return _&&n(_.referToSelf)==="object"&&typeof _.referToSelf.callback=="function"}function la(_,M){if(!_)return M;if(M&&M!==_){var B=new Error("Function names do not match (expected: "+_+", actual: "+M+")");throw B.data={actual:M,expected:_},B}return _}function Ju(_){var M;for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&(x(_[B])||typeof _[B].signature=="string")&&(M=la(M,_[B].name));return M}function ju(_,M){var B;for(B in M)if(Object.prototype.hasOwnProperty.call(M,B)){if(B in _&&M[B]!==_[B]){var P=new Error('Signature "'+B+'" is defined twice');throw P.data={signature:B,sourceFunction:M[B],destFunction:_[B]},P}_[B]=M[B]}}var Ku=d;d=function(M){for(var B=typeof M=="string",P=B?1:0,V=B?M:"",Z={},G=P;G<arguments.length;++G){var k=arguments[G],H={},re=void 0;if(typeof k=="function"?(re=k.name,typeof k.signature=="string"?H[k.signature]=k:x(k)&&(H=k.signatures)):a(k)&&(H=k,B||(re=Ju(k))),Object.keys(H).length===0){var fe=new TypeError("Argument to 'typed' at index "+G+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw fe.data={index:G,argument:k},fe}B||(V=la(V,re)),ju(Z,H)}return ar(V||"",Z)},d.create=f,d.createCount=Ku.createCount,d.onMismatch=Ge,d.throwMismatchError=Ge,d.createError=ue,d.clear=g,d.clearConversions=A,d.addTypes=E,d._findType=D,d.referTo=Nt,d.referToSelf=ft,d.convert=C,d.findSignature=y,d.find=b,d.isTypedFunction=x,d.warnAgainstDeprecatedThis=!0,d.addType=function(_,M){var B="any";M!==!1&&h.has("Object")&&(B="Object"),d.addTypes([_],B)};function pa(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return d.addConversion=function(_){pa(_);var M=D(_.to);if(M.conversionsTo.every(function(B){return B.from!==_.from}))M.conversionsTo.push({from:_.from,convert:_.convert,index:p++});else throw new Error('There is already a conversion from "'+_.from+'" to "'+M.name+'"')},d.addConversions=function(_){_.forEach(d.addConversion)},d.removeConversion=function(_){pa(_);var M=D(_.to),B=Bn(M.conversionsTo,function(V){return V.from===_.from});if(!B)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(B.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");var P=M.conversionsTo.indexOf(B);M.conversionsTo.splice(P,1)},d.resolve=function(_,M){if(!x(_))throw new TypeError(m);for(var B=_._typedFunctionData.signatures,P=0;P<B.length;++P)if(B[P].test(M))return B[P];return null},d}var s=f();return s})});var qo=Fr((ai,ko)=>{(function(t){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},r=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var a=Math.PI/4;if(-a>s||s>a)return Math.cos(s)-1;var u=s*s;return u*(u*(u*(u*(u*(u*(u*(u/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,a){var u=Math.abs(s),l=Math.abs(a);return u<3e3&&l<3e3?Math.sqrt(u*u+l*l):(u<l?(u=l,l=s/a):l=a/s,u*Math.sqrt(1+l*l))},o=function(){throw SyntaxError("Invalid Param")};function c(s,a){var u=Math.abs(s),l=Math.abs(a);return s===0?Math.log(l):a===0?Math.log(u):u<3e3&&l<3e3?Math.log(s*s+a*a)*.5:(s=s/2,a=a/2,.5*Math.log(s*s+a*a)+Math.LN2)}var m=function(s,a){var u={re:0,im:0};if(s==null)u.re=u.im=0;else if(a!==void 0)u.re=s,u.im=a;else switch(typeof s){case"object":if("im"in s&&"re"in s)u.re=s.re,u.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return f.INFINITY;u.re=s.abs*Math.cos(s.arg),u.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return f.INFINITY;u.re=s.r*Math.cos(s.phi),u.im=s.r*Math.sin(s.phi)}else s.length===2?(u.re=s[0],u.im=s[1]):o();break;case"string":u.im=u.re=0;var l=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,v=0;l===null&&o();for(var p=0;p<l.length;p++){var d=l[p];d===" "||d==="	"||d===`
`||(d==="+"?h++:d==="-"?v++:d==="i"||d==="I"?(h+v===0&&o(),l[p+1]!==" "&&!isNaN(l[p+1])?(u.im+=parseFloat((v%2?"-":"")+l[p+1]),p++):u.im+=parseFloat((v%2?"-":"")+"1"),h=v=0):((h+v===0||isNaN(d))&&o(),l[p+1]==="i"||l[p+1]==="I"?(u.im+=parseFloat((v%2?"-":"")+d),p++):u.re+=parseFloat((v%2?"-":"")+d),h=v=0))}h+v>0&&o();break;case"number":u.im=0,u.re=s;break;default:o()}return isNaN(u.re)||isNaN(u.im),u};function f(s,a){if(!(this instanceof f))return new f(s,a);var u=m(s,a);this.re=u.re,this.im=u.im}f.prototype={re:0,im:0,sign:function(){var s=this.abs();return new f(this.re/s,this.im/s)},add:function(s,a){var u=new f(s,a);return this.isInfinite()&&u.isInfinite()?f.NAN:this.isInfinite()||u.isInfinite()?f.INFINITY:new f(this.re+u.re,this.im+u.im)},sub:function(s,a){var u=new f(s,a);return this.isInfinite()&&u.isInfinite()?f.NAN:this.isInfinite()||u.isInfinite()?f.INFINITY:new f(this.re-u.re,this.im-u.im)},mul:function(s,a){var u=new f(s,a);return this.isInfinite()&&u.isZero()||this.isZero()&&u.isInfinite()?f.NAN:this.isInfinite()||u.isInfinite()?f.INFINITY:u.im===0&&this.im===0?new f(this.re*u.re,0):new f(this.re*u.re-this.im*u.im,this.re*u.im+this.im*u.re)},div:function(s,a){var u=new f(s,a);if(this.isZero()&&u.isZero()||this.isInfinite()&&u.isInfinite())return f.NAN;if(this.isInfinite()||u.isZero())return f.INFINITY;if(this.isZero()||u.isInfinite())return f.ZERO;s=this.re,a=this.im;var l=u.re,h=u.im,v,p;return h===0?new f(s/l,a/l):Math.abs(l)<Math.abs(h)?(p=l/h,v=l*p+h,new f((s*p+a)/v,(a*p-s)/v)):(p=h/l,v=h*p+l,new f((s+a*p)/v,(a-s*p)/v))},pow:function(s,a){var u=new f(s,a);if(s=this.re,a=this.im,u.isZero())return f.ONE;if(u.im===0){if(a===0&&s>0)return new f(Math.pow(s,u.re),0);if(s===0)switch((u.re%4+4)%4){case 0:return new f(Math.pow(a,u.re),0);case 1:return new f(0,Math.pow(a,u.re));case 2:return new f(-Math.pow(a,u.re),0);case 3:return new f(0,-Math.pow(a,u.re))}}if(s===0&&a===0&&u.re>0&&u.im>=0)return f.ZERO;var l=Math.atan2(a,s),h=c(s,a);return s=Math.exp(u.re*h-u.im*l),a=u.im*h+u.re*l,new f(s*Math.cos(a),s*Math.sin(a))},sqrt:function(){var s=this.re,a=this.im,u=this.abs(),l,h;if(s>=0){if(a===0)return new f(Math.sqrt(s),0);l=.5*Math.sqrt(2*(u+s))}else l=Math.abs(a)/Math.sqrt(2*(u-s));return s<=0?h=.5*Math.sqrt(2*(u-s)):h=Math.abs(a)/Math.sqrt(2*(u+s)),new f(l,a<0?-h:h)},exp:function(){var s=Math.exp(this.re);return this.im,new f(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,a=this.im;return new f(Math.expm1(s)*Math.cos(a)+n(a),Math.exp(s)*Math.sin(a))},log:function(){var s=this.re,a=this.im;return a===0&&s>0,new f(c(s,a),Math.atan2(a,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,a=this.im;return new f(Math.sin(s)*e(a),Math.cos(s)*r(a))},cos:function(){var s=this.re,a=this.im;return new f(Math.cos(s)*e(a),-Math.sin(s)*r(a))},tan:function(){var s=2*this.re,a=2*this.im,u=Math.cos(s)+e(a);return new f(Math.sin(s)/u,r(a)/u)},cot:function(){var s=2*this.re,a=2*this.im,u=Math.cos(s)-e(a);return new f(-Math.sin(s)/u,r(a)/u)},sec:function(){var s=this.re,a=this.im,u=.5*e(2*a)+.5*Math.cos(2*s);return new f(Math.cos(s)*e(a)/u,Math.sin(s)*r(a)/u)},csc:function(){var s=this.re,a=this.im,u=.5*e(2*a)-.5*Math.cos(2*s);return new f(Math.sin(s)*e(a)/u,-Math.cos(s)*r(a)/u)},asin:function(){var s=this.re,a=this.im,u=new f(a*a-s*s+1,-2*s*a).sqrt(),l=new f(u.re-a,u.im+s).log();return new f(l.im,-l.re)},acos:function(){var s=this.re,a=this.im,u=new f(a*a-s*s+1,-2*s*a).sqrt(),l=new f(u.re-a,u.im+s).log();return new f(Math.PI/2-l.im,l.re)},atan:function(){var s=this.re,a=this.im;if(s===0){if(a===1)return new f(0,1/0);if(a===-1)return new f(0,-1/0)}var u=s*s+(1-a)*(1-a),l=new f((1-a*a-s*s)/u,-2*s/u).log();return new f(-.5*l.im,.5*l.re)},acot:function(){var s=this.re,a=this.im;if(a===0)return new f(Math.atan2(1,s),0);var u=s*s+a*a;return u!==0?new f(s/u,-a/u).atan():new f(s!==0?s/0:0,a!==0?-a/0:0).atan()},asec:function(){var s=this.re,a=this.im;if(s===0&&a===0)return new f(0,1/0);var u=s*s+a*a;return u!==0?new f(s/u,-a/u).acos():new f(s!==0?s/0:0,a!==0?-a/0:0).acos()},acsc:function(){var s=this.re,a=this.im;if(s===0&&a===0)return new f(Math.PI/2,1/0);var u=s*s+a*a;return u!==0?new f(s/u,-a/u).asin():new f(s!==0?s/0:0,a!==0?-a/0:0).asin()},sinh:function(){var s=this.re,a=this.im;return new f(r(s)*Math.cos(a),e(s)*Math.sin(a))},cosh:function(){var s=this.re,a=this.im;return new f(e(s)*Math.cos(a),r(s)*Math.sin(a))},tanh:function(){var s=2*this.re,a=2*this.im,u=e(s)+Math.cos(a);return new f(r(s)/u,Math.sin(a)/u)},coth:function(){var s=2*this.re,a=2*this.im,u=e(s)-Math.cos(a);return new f(r(s)/u,-Math.sin(a)/u)},csch:function(){var s=this.re,a=this.im,u=Math.cos(2*a)-e(2*s);return new f(-2*r(s)*Math.cos(a)/u,2*e(s)*Math.sin(a)/u)},sech:function(){var s=this.re,a=this.im,u=Math.cos(2*a)+e(2*s);return new f(2*e(s)*Math.cos(a)/u,-2*r(s)*Math.sin(a)/u)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var a=this.asin();return this.re=-this.im,this.im=s,s=a.re,a.re=-a.im,a.im=s,a},acosh:function(){var s=this.acos();if(s.im<=0){var a=s.re;s.re=-s.im,s.im=a}else{var a=s.im;s.im=-s.re,s.re=a}return s},atanh:function(){var s=this.re,a=this.im,u=s>1&&a===0,l=1-s,h=1+s,v=l*l+a*a,p=v!==0?new f((h*l-a*a)/v,(a*l+h*a)/v):new f(s!==-1?s/0:0,a!==0?a/0:0),d=p.re;return p.re=c(p.re,p.im)/2,p.im=Math.atan2(p.im,d)/2,u&&(p.im=-p.im),p},acoth:function(){var s=this.re,a=this.im;if(s===0&&a===0)return new f(0,Math.PI/2);var u=s*s+a*a;return u!==0?new f(s/u,-a/u).atanh():new f(s!==0?s/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var s=this.re,a=this.im;if(a===0)return new f(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var u=s*s+a*a;return u!==0?new f(s/u,-a/u).asinh():new f(s!==0?s/0:0,a!==0?-a/0:0).asinh()},asech:function(){var s=this.re,a=this.im;if(this.isZero())return f.INFINITY;var u=s*s+a*a;return u!==0?new f(s/u,-a/u).acosh():new f(s!==0?s/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return f.INFINITY;if(this.isInfinite())return f.ZERO;var s=this.re,a=this.im,u=s*s+a*a;return new f(s/u,-a/u)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new f(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new f(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new f(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,a){var u=new f(s,a);return Math.abs(u.re-this.re)<=f.EPSILON&&Math.abs(u.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var s=this.re,a=this.im,u="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<f.EPSILON&&(s=0),Math.abs(a)<f.EPSILON&&(a=0),a===0?u+s:(s!==0?(u+=s,u+=" ",a<0?(a=-a,u+="-"):u+="+",u+=" "):a<0&&(a=-a,u+="-"),a!==1&&(u+=a),u+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.INFINITY=new f(1/0,1/0),f.NAN=new f(NaN,NaN),f.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return f}):typeof ai=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Complex=f,ko.exports=f):t.Complex=f})(ai)});var Uo=Fr((ui,Vo)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(l,h){if(isNaN(l=parseInt(l,10)))throw u.InvalidParameter;return l*h}function i(l,h){if(h===0)throw u.DivisionByZero;var v=Object.create(u.prototype);v.s=l<0?-1:1,l=l<0?-l:l;var p=a(l,h);return v.n=l/p,v.d=h/p,v}function o(l){for(var h={},v=l,p=2,d=4;d<=v;){for(;v%p===0;)v/=p,h[p]=(h[p]||0)+1;d+=1+2*p++}return v!==l?v>1&&(h[v]=(h[v]||0)+1):h[l]=(h[l]||0)+1,h}var c=function(l,h){var v=0,p=1,d=1,D=0,E=0,g=0,A=1,w=1,x=0,y=1,b=1,C=1,T=1e7,N;if(l!=null)if(h!==void 0){if(v=l,p=h,d=v*p,v%1!==0||p%1!==0)throw u.NonIntegerParameter}else switch(typeof l){case"object":{if("d"in l&&"n"in l)v=l.n,p=l.d,"s"in l&&(v*=l.s);else if(0 in l)v=l[0],1 in l&&(p=l[1]);else throw u.InvalidParameter;d=v*p;break}case"number":{if(l<0&&(d=l,l=-l),l%1===0)v=l;else if(l>0){for(l>=1&&(w=Math.pow(10,Math.floor(1+Math.log(l)/Math.LN10)),l/=w);y<=T&&C<=T;)if(N=(x+b)/(y+C),l===N){y+C<=T?(v=x+b,p=y+C):C>y?(v=b,p=C):(v=x,p=y);break}else l>N?(x+=b,y+=C):(b+=x,C+=y),y>T?(v=b,p=C):(v=x,p=y);v*=w}else(isNaN(l)||isNaN(h))&&(p=v=NaN);break}case"string":{if(y=l.match(/\d+|./g),y===null)throw u.InvalidParameter;if(y[x]==="-"?(d=-1,x++):y[x]==="+"&&x++,y.length===x+1?E=n(y[x++],d):y[x+1]==="."||y[x]==="."?(y[x]!=="."&&(D=n(y[x++],d)),x++,(x+1===y.length||y[x+1]==="("&&y[x+3]===")"||y[x+1]==="'"&&y[x+3]==="'")&&(E=n(y[x],d),A=Math.pow(10,y[x].length),x++),(y[x]==="("&&y[x+2]===")"||y[x]==="'"&&y[x+2]==="'")&&(g=n(y[x+1],d),w=Math.pow(10,y[x+1].length)-1,x+=3)):y[x+1]==="/"||y[x+1]===":"?(E=n(y[x],d),A=n(y[x+2],1),x+=3):y[x+3]==="/"&&y[x+1]===" "&&(D=n(y[x],d),E=n(y[x+2],d),A=n(y[x+4],1),x+=5),y.length<=x){p=A*w,d=v=g+p*D+w*E;break}}default:throw u.InvalidParameter}if(p===0)throw u.DivisionByZero;r.s=d<0?-1:1,r.n=Math.abs(v),r.d=Math.abs(p)};function m(l,h,v){for(var p=1;h>0;l=l*l%v,h>>=1)h&1&&(p=p*l%v);return p}function f(l,h){for(;h%2===0;h/=2);for(;h%5===0;h/=5);if(h===1)return 0;for(var v=10%h,p=1;v!==1;p++)if(v=v*10%h,p>e)return 0;return p}function s(l,h,v){for(var p=1,d=m(10,v,h),D=0;D<300;D++){if(p===d)return D;p=p*10%h,d=d*10%h}return 0}function a(l,h){if(!l)return h;if(!h)return l;for(;;){if(l%=h,!l)return h;if(h%=l,!h)return l}}function u(l,h){if(c(l,h),this instanceof u)l=a(r.d,r.n),this.s=r.s,this.n=r.n/l,this.d=r.d/l;else return i(r.s*r.n,r.d)}u.DivisionByZero=new Error("Division by Zero"),u.InvalidParameter=new Error("Invalid argument"),u.NonIntegerParameter=new Error("Parameters must be integer"),u.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(l,h){return c(l,h),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(l,h){return c(l,h),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(l,h){return c(l,h),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(l,h){return c(l,h),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(l,h){if(isNaN(this.n)||isNaN(this.d))return new u(NaN);if(l===void 0)return i(this.s*this.n%this.d,1);if(c(l,h),r.n===0&&this.d===0)throw u.DivisionByZero;return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(l,h){return c(l,h),i(a(r.n,this.n)*a(r.d,this.d),r.d*this.d)},lcm:function(l,h){return c(l,h),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,a(r.n,this.n)*a(r.d,this.d))},ceil:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.ceil(l*this.s*this.n/this.d),l)},floor:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.floor(l*this.s*this.n/this.d),l)},round:function(l){return l=Math.pow(10,l||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.round(l*this.s*this.n/this.d),l)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(l,h){if(c(l,h),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var v=o(this.n),p=o(this.d),d=1,D=1;for(var E in v)if(E!=="1"){if(E==="0"){d=0;break}if(v[E]*=r.n,v[E]%r.d===0)v[E]/=r.d;else return null;d*=Math.pow(E,v[E])}for(var E in p)if(E!=="1"){if(p[E]*=r.n,p[E]%r.d===0)p[E]/=r.d;else return null;D*=Math.pow(E,p[E])}return r.s<0?i(D,d):i(d,D)},equals:function(l,h){return c(l,h),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(l,h){c(l,h);var v=this.s*this.n*r.d-r.s*r.n*this.d;return(0<v)-(v<0)},simplify:function(l){if(isNaN(this.n)||isNaN(this.d))return this;l=l||.001;for(var h=this.abs(),v=h.toContinued(),p=1;p<v.length;p++){for(var d=i(v[p-1],1),D=p-2;D>=0;D--)d=d.inverse().add(v[D]);if(d.sub(h).abs().valueOf()<l)return d.mul(this.s)}return this},divisible:function(l,h){return c(l,h),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(l){var h,v="",p=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=p:(l&&(h=Math.floor(p/d))>0&&(v+=h,v+=" ",p%=d),v+=p,v+="/",v+=d),v},toLatex:function(l){var h,v="",p=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=p:(l&&(h=Math.floor(p/d))>0&&(v+=h,p%=d),v+="\\frac{",v+=p,v+="}{",v+=d,v+="}"),v},toContinued:function(){var l,h=this.n,v=this.d,p=[];if(isNaN(h)||isNaN(v))return p;do p.push(Math.floor(h/v)),l=h%v,h=v,v=l;while(h!==1);return p},toString:function(l){var h=this.n,v=this.d;if(isNaN(h)||isNaN(v))return"NaN";l=l||15;var p=f(h,v),d=s(h,v,p),D=this.s<0?"-":"";if(D+=h/v|0,h%=v,h*=10,h&&(D+="."),p){for(var E=d;E--;)D+=h/v|0,h%=v,h*=10;D+="(";for(var E=p;E--;)D+=h/v|0,h%=v,h*=10;D+=")"}else for(var E=l;h&&E--;)D+=h/v|0,h%=v,h*=10;return D}},typeof define=="function"&&define.amd?define([],function(){return u}):typeof ui=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Fraction=u,Vo.exports=u):t.Fraction=u})(ui)});var yp={};Ss(yp,{code:()=>Sn,interpret:()=>Ep});var Aa=ht(Ln());var Ke=class{constructor(e="INT"){this.base="INT";this.base=e}clone(){let e=new Ke;return e.base=this.base,e}toString(){return""+this.base}},We=class{constructor(e=""){this.str="";this.tmp="";this.str=e}},xt=class{constructor(){this.type=new Ke;this.code=new We;this.sym=null}};var gr=class{constructor(e,r,n,i,o=[]){this.id="";this.kind="LOCAL";this.type=new Ke;this.scope=0;this.runtimeId="";this.subSymbols=[];this.functionOverloadSuccessor=null;this.value=null;this.id=e,this.kind=r,this.type=n,this.scope=i,this.subSymbols=o}toString(){let e="SYM";if(e+=',id="'+this.id+'"',e+=',kind="'+this.kind+'"',e+=',type="'+this.type.toString()+'"',e+=',scope="'+this.scope+'"',e+=',runtimeId="'+this.runtimeId+'"',this.subSymbols.length>0){e+=`,subSymbols=[
`;for(let r=0;r<this.subSymbols.length;r++)e+="  "+this.subSymbols[r].toString();e+="]"}return e+=`
`,e}};function On(t,e){if(e==="ID")return"ID";if(e==="BOOL")return"BOOL";if(e==="INT")return"INT";if(e==="REAL")return"REAL";if(e==="COMPLEX")return"COMPLEX";if(e==="VECTOR")return"VECTOR";if(e==="MATRIX")return"MATRIX";if(e==="TERM")return"TERM";if(e==="TERM_VAR")return"TERM_VAR";if(e==="SET_INT")return"INT_SET";if(e==="INT_LIST")return"INT_LIST";if(e==="VECTOR_LIST")return"VECTOR_LIST";t.error("unknown base type "+e)}function Ca(t){let e=new Aa.Lexer;e.configureSingleLineComments("#"),e.configureMultiLineComments("",""),e.enableEmitNewlines(!1),e.enableEmitIndentation(!1),e.enableBackslashLineBreaks(!1),e.setTerminals(["->"]),e.pushSource("PROTOTYPES",t);let r=[];for(;e.isNotEND();){let n=e.ID(),i=[],o=[];if(e.isTER("<")){e.next();let h=0;for(;e.isNotTER(">");)h>0&&e.TER(","),i.push(e.ID()),e.TER(":"),o.push(On(e,e.ID())),h++;e.TER(">")}let c=[],m=[];e.TER("(");let f=0;for(;e.isNotTER(")");)f>0&&e.TER(","),c.push(e.ID()),e.TER(":"),m.push(On(e,e.ID())),f++;e.TER(")"),e.TER(":");let s=On(e,e.ID());e.TER("->");let a=e.ID();e.TER("."),a+="."+e.ID(),e.TER(";");let u=[];for(let h=0;h<i.length;h++){let v=new gr(i[h],"DIMENSION",new Ke(o[h]),1,[]);u.push(v)}for(let h=0;h<c.length;h++){let v=new gr(c[h],"PARAMETER",new Ke(m[h]),1,[]);u.push(v)}let l=new gr(n,"FUNCTION",new Ke(s),0,u);l.runtimeId=a;for(let h=r.length-1;h>=0;h--)if(r[h].id===n){r[h].functionOverloadSuccessor=l;break}r.push(l)}return r}var Jr=class extends Error{constructor(e){super(e),this.name="VectorError"}},ke=class{constructor(e){this.size=1;this.values=[];this.size=e,this.values=new Array(e).fill(0)}getSize(){return this.size}setValue(e,r){this.values[e]=r}getValue(e){return this.values[e]}static vector2list(e){return e.clone().values}clone(){let e=new ke(this.size);return e.values=[...this.values],e}toString(){let e="[";for(let r=0;r<this.size;r++)r>0&&(e+=","),e+=this.getValue(r);return e+="]",e}static add(e,r){if(e.size!=r.size)throw new Jr("dimensions do not match");let n=e.clone();for(let i=0;i<r.size;i++)n.values[i]+=r.values[i];return n}static sub(e,r){if(e.size!=r.size)throw new Jr("dimensions do not match");let n=e.clone();for(let i=0;i<r.size;i++)n.values[i]-=r.values[i];return n}mul(e){let r=this.clone();for(let n=0;n<r.size;n++)r.values[n]*=e;return r}static dot(e,r){if(e.size!=r.size)throw new Jr("dimensions do not match");let n=0;for(let i=0;i<r.size;i++)n+=e.values[i]*r.values[i];return n}static cross(e,r){if(e.size!=3||r.size!=3)throw new Jr("vector length must be 3");let n=new ke(3);return n.values[0]=e.values[1]*r.values[2]-e.values[2]*r.values[1],n.values[1]=e.values[2]*r.values[0]-e.values[0]*r.values[2],n.values[2]=e.values[0]*r.values[1]-e.values[1]*r.values[0],n}norm2(){let e=0;for(let r=0;r<this.size;r++)e+=this.values[r]*this.values[r];return Math.sqrt(e)}is_zero(e=1e-9){for(let r=0;r<this.size;r++)if(Math.abs(this.getValue(r))>e)return!1;return!0}};var kt=class{constructor(e){this.parent=null;this.parent=e}_create(e,r){let n=new ke(e),i=0;for(let o=0;o<e;o++)n.setValue(o,r[i++]);return n}_clone(e){return e.clone()}_getElement(e,r,n){if(r<0||r>=e.getSize())throw new Te(n,"vector has "+e.getSize()+" elements. Cannot get element "+r);return e.getValue(r)}_setElement(e,r,n,i){if(r<0||r>=e.getSize())throw new Te(i,"vector has "+e.getSize()+" element. Cannot get element "+r);e.setValue(r,n)}_addVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Te(n,"dimensions do not match");return ke.add(e,r)}_subVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Te(n,"dimensions do not match");return ke.sub(e,r)}_mulScalarVector(e,r){return r.mul(e)}_dotVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Te(n,"dimensions do not match");return ke.dot(e,r)}_crossVectors(e,r,n){if(e.getSize()!=3||r.getSize()!=3)throw new Te(n,"vector length must be 3");return ke.cross(e,r)}_norm2vec(e){return e.norm2()}_zerosVector(e){let r=new ke(e);for(let n=0;n<e;n++)r.setValue(n,0);return r}_randVector(e,r,n){let i=new ke(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMax(r,n));return i}_randZVector(e,r,n){let i=new ke(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMaxZ(r,n));return i}_isVectorZero(e){return e.is_zero(1e-9)}};function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dt.apply(this,arguments)}var Pn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ce(t){return typeof t=="number"}function Ne(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function zn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function kn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function qt(t){return t&&t.constructor.prototype.isUnit===!0||!1}function tr(t){return typeof t=="string"}var Ae=Array.isArray;function ge(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Ar(t){return Array.isArray(t)||ge(t)}function Vt(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ut(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function ba(t){return t&&t.constructor.prototype.isRange===!0||!1}function jr(t){return t&&t.constructor.prototype.isIndex===!0||!1}function _a(t){return typeof t=="boolean"}function Ta(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function Ma(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Fa(t){return typeof t=="function"}function Na(t){return t instanceof Date}function Sa(t){return t instanceof RegExp}function Ba(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!zn(t)&&!kn(t))}function Ia(t){return t===null}function Ra(t){return t===void 0}function La(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Oa(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Pa(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function za(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function ka(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function qa(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Va(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ua(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xa(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Za(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ha(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ga(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ya(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function $a(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qa(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.constructor.prototype.isChain===!0||!1}function fr(t){var e=typeof t;return e==="object"?t===null?"null":Ne(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Ee(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return Ee(r)});if(t instanceof Date)return new Date(t.valueOf());if(Ne(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return zs(t,Ee)}function zs(t,e){var r={};for(var n in t)Wr(t,n)&&(r[n]=e(t[n]));return r}function Xt(t,e){for(var r in e)Wr(e,r)&&(t[r]=e[r]);return t}function Kr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Kr(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Kr(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Wr(t,e){return t&&Object.hasOwnProperty.call(t,e)}function ja(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],o=t[i];o!==void 0&&(r[i]=o)}return r}var Ka=["Matrix","Array"],Wa=["number","BigNumber","Fraction"];var cr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Pn)};Dt(cr,Pn,{MATRIX_OPTIONS:Ka,NUMBER_OPTIONS:Wa});var Qn=ht(eo(),1);function ae(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var ro=Math.sign||function(t){return t>0?1:t<0?-1:0},to=Math.log2||function(e){return Math.log(e)/Math.LN2},no=Math.log10||function(e){return Math.log(e)/Math.LN10},io=Math.log1p||function(t){return Math.log(t+1)},ao=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},oo=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Un(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ae(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!ae(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),o="i".concat(r)}var c="";return t<0&&(t=-t,c="-"),"".concat(c).concat(i).concat(t.toString(e)).concat(o)}function gt(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,i;if(e&&(e.notation&&(r=e.notation),Ce(e)?n=e:Ce(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return uo(t,n);case"exponential":return so(t,n);case"engineering":return ks(t,n);case"bin":return Un(t,2,i);case"oct":return Un(t,8,i);case"hex":return Un(t,16,i);case"auto":return qs(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],c=arguments[4];return o!=="."?o+c:c});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Zt(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var c=n.replace(".","").replace(/^0*/,function(m){return i-=m.length,""}).replace(/0*$/,"").split("").map(function(m){return parseInt(m)});return c.length===0&&(c.push(0),i++),{sign:r,coefficients:c,exponent:i}}function ks(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zt(t),n=Ht(r,e),i=n.exponent,o=n.coefficients,c=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Ce(e))for(;e>o.length||i-c+1>o.length;)o.push(0);else for(var m=Math.abs(i-c)-(o.length-1),f=0;f<m;f++)o.push(0);for(var s=Math.abs(i-c),a=1;s>0;)a++,s--;var u=o.slice(a).join(""),l=Ce(e)&&u.length||u.match(/[1-9]/)?"."+u:"",h=o.slice(0,a).join("")+l+"e"+(i>=0?"+":"")+c.toString();return n.sign+h}function uo(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zt(t),n=typeof e=="number"?Ht(r,r.exponent+1+e):r,i=n.coefficients,o=n.exponent+1,c=o+(e||0);return i.length<c&&(i=i.concat(et(c-i.length))),o<0&&(i=et(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function so(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zt(t),n=e?Ht(r,e):r,i=n.coefficients,o=n.exponent;i.length<e&&(i=i.concat(et(e-i.length)));var c=i.shift();return n.sign+c+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function qs(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,o=Zt(t),c=e?Ht(o,e):o;if(c.exponent<n||c.exponent>=i)return so(t,e);var m=c.coefficients,f=c.exponent;m.length<e&&(m=m.concat(et(e-m.length))),m=m.concat(et(f-m.length+1+(m.length<e?e-m.length:0))),m=et(-f).concat(m);var s=f>0?f:0;return s<m.length-1&&m.splice(s+1,0,"."),c.sign+m.join("")}function Ht(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),r.exponent++,o++),o--,n[o]++}}return r}function et(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function fo(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Vs=Number.EPSILON||2220446049250313e-31;function mr(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<Vs?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}function Xn(t,e,r){var n=t.constructor,i=new n(2),o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ae(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),o="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function lo(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Xs(t,n);case"exponential":return co(t,n);case"engineering":return Us(t,n);case"bin":return Xn(t,2,i);case"oct":return Xn(t,8,i);case"hex":return Xn(t,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,c=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var m,f=t.toSignificantDigits(n),s=f.e;return s>=o&&s<c?m=f.toFixed():m=co(t,n),m.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],u=arguments[4];return a!=="."?a+u:u})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Us(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),o=i.toPrecision(e);return o.indexOf("e")!==-1&&(o=i.toString()),o+"e"+(r>=0?"+":"")+n.toString()}function co(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function Xs(t,e){return t.toFixed(e)}function ye(t,e){var r=Zs(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function Zs(t,e){if(typeof t=="number")return gt(t,e);if(Ne(t))return lo(t,e);if(Hs(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return po(t,e);if(tr(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>'"'+n+'": '+ye(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function po(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=po(t[i],e);return r+="]",r}else return ye(t,e)}function Hs(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function le(t,e,r){if(!(this instanceof le))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}le.prototype=new RangeError;le.prototype.constructor=RangeError;le.prototype.name="DimensionError";le.prototype.isDimensionError=!0;function Cr(t,e,r){if(!(this instanceof Cr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Cr.prototype=new RangeError;Cr.prototype.constructor=RangeError;Cr.prototype.name="IndexError";Cr.prototype.isIndexError=!0;function Re(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function mo(t,e,r){var n,i=t.length;if(i!==e[r])throw new le(i,e[r]);if(r<e.length-1){var o=r+1;for(n=0;n<i;n++){var c=t[n];if(!Array.isArray(c))throw new le(e.length-1,e.length,"<");mo(t[n],e,o)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new le(e.length+1,e.length,">")}function Hn(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new le(t.length,0)}else mo(t,e,0)}function Me(t,e){if(!Ce(t)||!ae(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Cr(t,e)}function Xr(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Ce(i)||!ae(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ye(e)+")")});var n=r!==void 0?r:0;return Zn(t,e,0,n),t}function Zn(t,e,r,n){var i,o,c=t.length,m=e[r],f=Math.min(c,m);if(t.length=m,r<e.length-1){var s=r+1;for(i=0;i<f;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),Zn(o,e,s,n);for(i=f;i<m;i++)o=[],t[i]=o,Zn(o,e,s,n)}else{for(i=0;i<f;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=f;i<m;i++)t[i]=n}}function ho(t,e){var r=Ys(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new le(0,n,"!=");e=Et(e,n);var i=vo(e);if(n!==i)throw new le(i,n,"!=");try{return Gs(r,e)}catch(o){throw o instanceof le?new le(i,n,"!="):o}}function Et(t,e){var r=vo(t),n=t.slice(),i=-1,o=t.indexOf(i),c=t.indexOf(i,o+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var m=o>=0,f=e%r===0;if(m)if(f)n[o]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function vo(t){return t.reduce((e,r)=>e*r,1)}function Gs(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var c=r.length/o,m=0;m<c;m++)n.push(r.slice(m*o,(m+1)*o));r=n}return r}function Gt(t,e,r,n){var i=n||Re(t);if(r)for(var o=0;o<r;o++)t=[t],i.unshift(1);for(t=xo(t,e,0);i.length<e;)i.push(1);return t}function xo(t,e,r){var n,i;if(Array.isArray(t)){var o=r+1;for(n=0,i=t.length;n<i;n++)t[n]=xo(t[n],e,o)}else for(var c=r;c<e;c++)t=[t];return t}function Ys(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function rt(t,e){for(var r,n=0,i=0;i<t.length;i++){var o=t[i],c=Array.isArray(o);if(i===0&&c&&(n=o.length),c&&o.length!==n)return;var m=c?rt(o,e):e(o);if(r===void 0)r=m;else if(r!==m)return"mixed"}return r}function L(t,e,r,n){function i(o){var c=ja(o,e.map(Js));return $s(t,e,o),r(c)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function $s(t,e,r){var n=e.filter(o=>!Qs(o)).every(o=>r[o]!==void 0);if(!n){var i=e.filter(o=>r[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Qs(t){return t&&t[0]==="?"}function Js(t){return t&&t[0]==="?"?t.slice(1):t}function Do(t,e){if(wo(t)&&yo(t,e))return t[e];throw typeof t[e]=="function"&&js(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function go(t,e,r){if(wo(t)&&yo(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function Eo(t,e){return e in t}function yo(t,e){return!t||typeof t!="object"?!1:Wr(Ks,e)?!0:!(e in Object.prototype||e in Function.prototype)}function js(t,e){return t==null||typeof t[e]!="function"||Wr(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Wr(Ws,e)?!0:!(e in Object.prototype||e in Function.prototype)}function wo(t){return typeof t=="object"&&t&&t.constructor===Object}var Ks={length:!0,name:!0},Ws={toString:!0,valueOf:!0,toLocaleString:!0};var Gn=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Do(this.wrappedObject,e)}set(e,r){return go(this.wrappedObject,e,r),this}has(e){return Eo(this.wrappedObject,e)}};function Ao(t){return t?t instanceof Map||t instanceof Gn||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var Co=function(){return Co=Qn.default.create,Qn.default},ef=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Jn=L("typed",ef,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:o}=e,c=Co();return c.clear(),c.addTypes([{name:"number",test:Ce},{name:"Complex",test:zn},{name:"BigNumber",test:Ne},{name:"Fraction",test:kn},{name:"Unit",test:qt},{name:"identifier",test:m=>tr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(m)},{name:"string",test:tr},{name:"Chain",test:Ja},{name:"Array",test:Ae},{name:"Matrix",test:ge},{name:"DenseMatrix",test:Vt},{name:"SparseMatrix",test:Ut},{name:"Range",test:ba},{name:"Index",test:jr},{name:"boolean",test:_a},{name:"ResultSet",test:Ta},{name:"Help",test:Ma},{name:"function",test:Fa},{name:"Date",test:Na},{name:"RegExp",test:Sa},{name:"null",test:Ia},{name:"undefined",test:Ra},{name:"AccessorNode",test:La},{name:"ArrayNode",test:Oa},{name:"AssignmentNode",test:Pa},{name:"BlockNode",test:za},{name:"ConditionalNode",test:ka},{name:"ConstantNode",test:qa},{name:"FunctionNode",test:Ua},{name:"FunctionAssignmentNode",test:Va},{name:"IndexNode",test:Xa},{name:"Node",test:Za},{name:"ObjectNode",test:Ha},{name:"OperatorNode",test:Ga},{name:"ParenthesisNode",test:Ya},{name:"RangeNode",test:$a},{name:"SymbolNode",test:Qa},{name:"Map",test:Ao},{name:"Object",test:Ba}]),c.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(r||Yn(f),fo(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new r(f)}},{from:"number",to:"Complex",convert:function(f){return n||Yt(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||Yt(f),new n(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||Yt(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||$n(f);var s=new o(f);if(s.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(f){var s=Number(f);if(isNaN(s))throw new Error('Cannot convert "'+f+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(f){r||Yn(f);try{return new r(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||$n(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||Yt(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return r||Yn(f),new r(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||$n(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||rf(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),c.onMismatch=(m,f,s)=>{var a=c.createError(m,f,s);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&Ar(f[0])&&s.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw u.data=a.data,u}throw a},c.onMismatch=(m,f,s)=>{var a=c.createError(m,f,s);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&Ar(f[0])&&s.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw u.data=a.data,u}throw a},c});function Yn(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Yt(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function rf(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function $n(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var tt=9e15,Rr=1e9,jn="0123456789abcdef",Qt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Jt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Kn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-tt,maxE:tt,crypto:!1},Mo,br,ie=!0,Kt="[DecimalError] ",Ir=Kt+"Invalid argument: ",Fo=Kt+"Precision limit exceeded",No=Kt+"crypto unavailable",So="[object Decimal]",$e=Math.floor,Le=Math.pow,tf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,nf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,af=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Bo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr=1e7,te=7,of=9007199254740991,uf=Qt.length-1,Wn=Jt.length-1,z={toStringTag:So};z.absoluteValue=z.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),K(t)};z.ceil=function(){return K(new this.constructor(this),this.e+1,2)};z.clampedTo=z.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ir+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};z.comparedTo=z.cmp=function(t){var e,r,n,i,o=this,c=o.d,m=(t=new o.constructor(t)).d,f=o.s,s=t.s;if(!c||!m)return!f||!s?NaN:f!==s?f:c===m?0:!c^f<0?1:-1;if(!c[0]||!m[0])return c[0]?f:m[0]?-s:0;if(f!==s)return f;if(o.e!==t.e)return o.e>t.e^f<0?1:-1;for(n=c.length,i=m.length,e=0,r=n<i?n:i;e<r;++e)if(c[e]!==m[e])return c[e]>m[e]^f<0?1:-1;return n===i?0:n>i^f<0?1:-1};z.cosine=z.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+te,n.rounding=1,r=sf(n,Po(n,r)),n.precision=t,n.rounding=e,K(br==2||br==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};z.cubeRoot=z.cbrt=function(){var t,e,r,n,i,o,c,m,f,s,a=this,u=a.constructor;if(!a.isFinite()||a.isZero())return new u(a);for(ie=!1,o=a.s*Le(a.s*a,1/3),!o||Math.abs(o)==1/0?(r=Ze(a.d),t=a.e,(o=(t-r.length+1)%3)&&(r+=o==1||o==-2?"0":"00"),o=Le(r,1/3),t=$e((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new u(r),n.s=a.s):n=new u(o.toString()),c=(t=u.precision)+3;;)if(m=n,f=m.times(m).times(m),s=f.plus(a),n=_e(s.plus(a).times(m),s.plus(f),c+2,1),Ze(m.d).slice(0,c)===(r=Ze(n.d)).slice(0,c))if(r=r.slice(c-3,c+1),r=="9999"||!i&&r=="4999"){if(!i&&(K(m,t+1,0),m.times(m).times(m).eq(a))){n=m;break}c+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(K(n,t+1,1),e=!n.times(n).times(n).eq(a));break}return ie=!0,K(n,t,u.rounding,e)};z.decimalPlaces=z.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-$e(this.e/te))*te,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};z.dividedBy=z.div=function(t){return _e(this,new this.constructor(t))};z.dividedToIntegerBy=z.divToInt=function(t){var e=this,r=e.constructor;return K(_e(e,new r(t),0,1,1),r.precision,r.rounding)};z.equals=z.eq=function(t){return this.cmp(t)===0};z.floor=function(){return K(new this.constructor(this),this.e+1,3)};z.greaterThan=z.gt=function(t){return this.cmp(t)>0};z.greaterThanOrEqualTo=z.gte=function(t){var e=this.cmp(t);return e==1||e===0};z.hyperbolicCosine=z.cosh=function(){var t,e,r,n,i,o=this,c=o.constructor,m=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return m;r=c.precision,n=c.rounding,c.precision=r+Math.max(o.e,o.sd())+4,c.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/en(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=nt(c,1,o.times(e),new c(1),!0);for(var f,s=t,a=new c(8);s--;)f=o.times(o),o=m.minus(f.times(a.minus(f.times(a))));return K(o,c.precision=r,c.rounding=n,!0)};z.hyperbolicSine=z.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=nt(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/en(5,t)),i=nt(o,2,i,i,!0);for(var c,m=new o(5),f=new o(16),s=new o(20);t--;)c=i.times(i),i=i.times(m.plus(c.times(f.times(c).plus(s))))}return o.precision=e,o.rounding=r,K(i,e,r,!0)};z.hyperbolicTangent=z.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,_e(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};z.inverseCosine=z.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,o=r.rounding;return n!==-1?n===0?e.isNeg()?vr(r,i,o):new r(0):new r(NaN):e.isZero()?vr(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=vr(r,i+4,o).times(.5),r.precision=i,r.rounding=o,t.minus(e))};z.inverseHyperbolicCosine=z.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ie=!1,r=r.times(r).minus(1).sqrt().plus(r),ie=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};z.inverseHyperbolicSine=z.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ie=!1,r=r.times(r).plus(1).sqrt().plus(r),ie=!0,n.precision=t,n.rounding=e,r.ln())};z.inverseHyperbolicTangent=z.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?K(new o(i),t,e,!0):(o.precision=r=n-i.e,i=_e(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};z.inverseSine=z.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?e===0?(t=vr(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))};z.inverseTangent=z.atan=function(){var t,e,r,n,i,o,c,m,f,s=this,a=s.constructor,u=a.precision,l=a.rounding;if(s.isFinite()){if(s.isZero())return new a(s);if(s.abs().eq(1)&&u+4<=Wn)return c=vr(a,u+4,l).times(.25),c.s=s.s,c}else{if(!s.s)return new a(NaN);if(u+4<=Wn)return c=vr(a,u+4,l).times(.5),c.s=s.s,c}for(a.precision=m=u+10,a.rounding=1,r=Math.min(28,m/te+2|0),t=r;t;--t)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(ie=!1,e=Math.ceil(m/te),n=1,f=s.times(s),c=new a(s),i=s;t!==-1;)if(i=i.times(f),o=c.minus(i.div(n+=2)),i=i.times(f),c=o.plus(i.div(n+=2)),c.d[e]!==void 0)for(t=e;c.d[t]===o.d[t]&&t--;);return r&&(c=c.times(2<<r-1)),ie=!0,K(c,a.precision=u,a.rounding=l,!0)};z.isFinite=function(){return!!this.d};z.isInteger=z.isInt=function(){return!!this.d&&$e(this.e/te)>this.d.length-2};z.isNaN=function(){return!this.s};z.isNegative=z.isNeg=function(){return this.s<0};z.isPositive=z.isPos=function(){return this.s>0};z.isZero=function(){return!!this.d&&this.d[0]===0};z.lessThan=z.lt=function(t){return this.cmp(t)<0};z.lessThanOrEqualTo=z.lte=function(t){return this.cmp(t)<1};z.logarithm=z.log=function(t){var e,r,n,i,o,c,m,f,s=this,a=s.constructor,u=a.precision,l=a.rounding,h=5;if(t==null)t=new a(10),e=!0;else{if(t=new a(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new a(NaN);e=t.eq(10)}if(r=s.d,s.s<0||!r||!r[0]||s.eq(1))return new a(r&&!r[0]?-1/0:s.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=i!==1}if(ie=!1,m=u+h,c=Br(s,m),n=e?jt(a,m+10):Br(t,m),f=_e(c,n,m,1),yt(f.d,i=u,l))do if(m+=10,c=Br(s,m),n=e?jt(a,m+10):Br(t,m),f=_e(c,n,m,1),!o){+Ze(f.d).slice(i+1,i+15)+1==1e14&&(f=K(f,u+1,0));break}while(yt(f.d,i+=10,l));return ie=!0,K(f,u,l)};z.minus=z.sub=function(t){var e,r,n,i,o,c,m,f,s,a,u,l,h=this,v=h.constructor;if(t=new v(t),!h.d||!t.d)return!h.s||!t.s?t=new v(NaN):h.d?t.s=-t.s:t=new v(t.d||h.s!==t.s?h:NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(s=h.d,l=t.d,m=v.precision,f=v.rounding,!s[0]||!l[0]){if(l[0])t.s=-t.s;else if(s[0])t=new v(h);else return new v(f===3?-0:0);return ie?K(t,m,f):t}if(r=$e(t.e/te),a=$e(h.e/te),s=s.slice(),o=a-r,o){for(u=o<0,u?(e=s,o=-o,c=l.length):(e=l,r=a,c=s.length),n=Math.max(Math.ceil(m/te),c)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=s.length,c=l.length,u=n<c,u&&(c=n),n=0;n<c;n++)if(s[n]!=l[n]){u=s[n]<l[n];break}o=0}for(u&&(e=s,s=l,l=e,t.s=-t.s),c=s.length,n=l.length-c;n>0;--n)s[c++]=0;for(n=l.length;n>o;){if(s[--n]<l[n]){for(i=n;i&&s[--i]===0;)s[i]=dr-1;--s[i],s[n]+=dr}s[n]-=l[n]}for(;s[--c]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=Wt(s,r),ie?K(t,m,f):t):new v(f===3?-0:0)};z.modulo=z.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?K(new n(r),n.precision,n.rounding):(ie=!1,n.modulo==9?(e=_e(r,t.abs(),0,3,1),e.s*=t.s):e=_e(r,t,0,n.modulo,1),e=e.times(t),ie=!0,r.minus(e))};z.naturalExponential=z.exp=function(){return ei(this)};z.naturalLogarithm=z.ln=function(){return Br(this)};z.negated=z.neg=function(){var t=new this.constructor(this);return t.s=-t.s,K(t)};z.plus=z.add=function(t){var e,r,n,i,o,c,m,f,s,a,u=this,l=u.constructor;if(t=new l(t),!u.d||!t.d)return!u.s||!t.s?t=new l(NaN):u.d||(t=new l(t.d||u.s===t.s?u:NaN)),t;if(u.s!=t.s)return t.s=-t.s,u.minus(t);if(s=u.d,a=t.d,m=l.precision,f=l.rounding,!s[0]||!a[0])return a[0]||(t=new l(u)),ie?K(t,m,f):t;if(o=$e(u.e/te),n=$e(t.e/te),s=s.slice(),i=o-n,i){for(i<0?(r=s,i=-i,c=a.length):(r=a,n=o,c=s.length),o=Math.ceil(m/te),c=o>c?o+1:c+1,i>c&&(i=c,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(c=s.length,i=a.length,c-i<0&&(i=c,r=a,a=s,s=r),e=0;i;)e=(s[--i]=s[i]+a[i]+e)/dr|0,s[i]%=dr;for(e&&(s.unshift(e),++n),c=s.length;s[--c]==0;)s.pop();return t.d=s,t.e=Wt(s,n),ie?K(t,m,f):t};z.precision=z.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ir+t);return r.d?(e=Io(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};z.round=function(){var t=this,e=t.constructor;return K(new e(t),t.e+1,e.rounding)};z.sine=z.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+te,n.rounding=1,r=cf(n,Po(n,r)),n.precision=t,n.rounding=e,K(br>2?r.neg():r,t,e,!0)):new n(NaN)};z.squareRoot=z.sqrt=function(){var t,e,r,n,i,o,c=this,m=c.d,f=c.e,s=c.s,a=c.constructor;if(s!==1||!m||!m[0])return new a(!s||s<0&&(!m||m[0])?NaN:m?c:1/0);for(ie=!1,s=Math.sqrt(+c),s==0||s==1/0?(e=Ze(m),(e.length+f)%2==0&&(e+="0"),s=Math.sqrt(e),f=$e((f+1)/2)-(f<0||f%2),s==1/0?e="5e"+f:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+f),n=new a(e)):n=new a(s.toString()),r=(f=a.precision)+3;;)if(o=n,n=o.plus(_e(c,o,r+2,1)).times(.5),Ze(o.d).slice(0,r)===(e=Ze(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(K(o,f+1,0),o.times(o).eq(c))){n=o;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(K(n,f+1,1),t=!n.times(n).eq(c));break}return ie=!0,K(n,f,a.rounding,t)};z.tangent=z.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=_e(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,K(br==2||br==4?r.neg():r,t,e,!0)):new n(NaN)};z.times=z.mul=function(t){var e,r,n,i,o,c,m,f,s,a=this,u=a.constructor,l=a.d,h=(t=new u(t)).d;if(t.s*=a.s,!l||!l[0]||!h||!h[0])return new u(!t.s||l&&!l[0]&&!h||h&&!h[0]&&!l?NaN:!l||!h?t.s/0:t.s*0);for(r=$e(a.e/te)+$e(t.e/te),f=l.length,s=h.length,f<s&&(o=l,l=h,h=o,c=f,f=s,s=c),o=[],c=f+s,n=c;n--;)o.push(0);for(n=s;--n>=0;){for(e=0,i=f+n;i>n;)m=o[i]+h[n]*l[i-n-1]+e,o[i--]=m%dr|0,e=m/dr|0;o[i]=(o[i]+e)%dr|0}for(;!o[--c];)o.pop();return e?++r:o.shift(),t.d=o,t.e=Wt(o,r),ie?K(t,u.precision,u.rounding):t};z.toBinary=function(t,e){return ti(this,2,t,e)};z.toDecimalPlaces=z.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(nr(t,0,Rr),e===void 0?e=n.rounding:nr(e,0,8),K(r,t+r.e+1,e))};z.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Er(n,!0):(nr(t,0,Rr),e===void 0?e=i.rounding:nr(e,0,8),n=K(new i(n),t+1,e),r=Er(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?r=Er(i):(nr(t,0,Rr),e===void 0?e=o.rounding:nr(e,0,8),n=K(new o(i),t+i.e+1,e),r=Er(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};z.toFraction=function(t){var e,r,n,i,o,c,m,f,s,a,u,l,h=this,v=h.d,p=h.constructor;if(!v)return new p(h);if(s=r=new p(1),n=f=new p(0),e=new p(n),o=e.e=Io(v)-h.e-1,c=o%te,e.d[0]=Le(10,c<0?te+c:c),t==null)t=o>0?e:s;else{if(m=new p(t),!m.isInt()||m.lt(s))throw Error(Ir+m);t=m.gt(e)?o>0?e:s:m}for(ie=!1,m=new p(Ze(v)),a=p.precision,p.precision=o=v.length*te*2;u=_e(m,e,0,1,1),i=r.plus(u.times(n)),i.cmp(t)!=1;)r=n,n=i,i=s,s=f.plus(u.times(i)),f=i,i=e,e=m.minus(u.times(i)),m=i;return i=_e(t.minus(r),n,0,1,1),f=f.plus(i.times(s)),r=r.plus(i.times(n)),f.s=s.s=h.s,l=_e(s,n,o,1).minus(h).abs().cmp(_e(f,r,o,1).minus(h).abs())<1?[s,n]:[f,r],p.precision=a,ie=!0,l};z.toHexadecimal=z.toHex=function(t,e){return ti(this,16,t,e)};z.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:nr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(ie=!1,r=_e(r,t,0,e,1).times(t),ie=!0,K(r)):(t.s=r.s,r=t),r};z.toNumber=function(){return+this};z.toOctal=function(t,e){return ti(this,8,t,e)};z.toPower=z.pow=function(t){var e,r,n,i,o,c,m=this,f=m.constructor,s=+(t=new f(t));if(!m.d||!t.d||!m.d[0]||!t.d[0])return new f(Le(+m,s));if(m=new f(m),m.eq(1))return m;if(n=f.precision,o=f.rounding,t.eq(1))return K(m,n,o);if(e=$e(t.e/te),e>=t.d.length-1&&(r=s<0?-s:s)<=of)return i=Ro(f,m,r,n),t.s<0?new f(1).div(i):K(i,n,o);if(c=m.s,c<0){if(e<t.d.length-1)return new f(NaN);if((t.d[e]&1)==0&&(c=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=c,m}return r=Le(+m,s),e=r==0||!isFinite(r)?$e(s*(Math.log("0."+Ze(m.d))/Math.LN10+m.e+1)):new f(r+"").e,e>f.maxE+1||e<f.minE-1?new f(e>0?c/0:0):(ie=!1,f.rounding=m.s=1,r=Math.min(12,(e+"").length),i=ei(t.times(Br(m,n+r)),n),i.d&&(i=K(i,n+5,1),yt(i.d,n,o)&&(e=n+10,i=K(ei(t.times(Br(m,e+r)),e),e+5,1),+Ze(i.d).slice(n+1,n+15)+1==1e14&&(i=K(i,n+1,0)))),i.s=c,ie=!0,f.rounding=o,K(i,n,o))};z.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Er(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(nr(t,1,Rr),e===void 0?e=i.rounding:nr(e,0,8),n=K(new i(n),t,e),r=Er(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toSignificantDigits=z.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(nr(t,1,Rr),e===void 0?e=n.rounding:nr(e,0,8)),K(new n(r),t,e)};z.toString=function(){var t=this,e=t.constructor,r=Er(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};z.truncated=z.trunc=function(){return K(new this.constructor(this),this.e+1,1)};z.valueOf=z.toJSON=function(){var t=this,e=t.constructor,r=Er(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Ze(t){var e,r,n,i=t.length-1,o="",c=t[0];if(i>0){for(o+=c,e=1;e<i;e++)n=t[e]+"",r=te-n.length,r&&(o+=Sr(r)),o+=n;c=t[e],n=c+"",r=te-n.length,r&&(o+=Sr(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}function nr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ir+t)}function yt(t,e,r,n){var i,o,c,m;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=te,i=0):(i=Math.ceil((e+1)/te),e%=te),o=Le(10,te-e),m=t[i]%o|0,n==null?e<3?(e==0?m=m/100|0:e==1&&(m=m/10|0),c=r<4&&m==99999||r>3&&m==49999||m==5e4||m==0):c=(r<4&&m+1==o||r>3&&m+1==o/2)&&(t[i+1]/o/100|0)==Le(10,e-2)-1||(m==o/2||m==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?m=m/1e3|0:e==1?m=m/100|0:e==2&&(m=m/10|0),c=(n||r<4)&&m==9999||!n&&r>3&&m==4999):c=((n||r<4)&&m+1==o||!n&&r>3&&m+1==o/2)&&(t[i+1]/o/1e3|0)==Le(10,e-3)-1,c}function $t(t,e,r){for(var n,i=[0],o,c=0,m=t.length;c<m;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=jn.indexOf(t.charAt(c++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function sf(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/en(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=nt(t,1,e.times(i),new t(1));for(var o=r;o--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return t.precision-=r,e}var _e=function(){function t(n,i,o){var c,m=0,f=n.length;for(n=n.slice();f--;)c=n[f]*i+m,n[f]=c%o|0,m=c/o|0;return m&&n.unshift(m),n}function e(n,i,o,c){var m,f;if(o!=c)f=o>c?1:-1;else for(m=f=0;m<o;m++)if(n[m]!=i[m]){f=n[m]>i[m]?1:-1;break}return f}function r(n,i,o,c){for(var m=0;o--;)n[o]-=m,m=n[o]<i[o]?1:0,n[o]=m*c+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,c,m,f){var s,a,u,l,h,v,p,d,D,E,g,A,w,x,y,b,C,T,N,R,q=n.constructor,O=n.s==i.s?1:-1,I=n.d,F=i.d;if(!I||!I[0]||!F||!F[0])return new q(!n.s||!i.s||(I?F&&I[0]==F[0]:!F)?NaN:I&&I[0]==0||!F?O*0:O/0);for(f?(h=1,a=n.e-i.e):(f=dr,h=te,a=$e(n.e/h)-$e(i.e/h)),N=F.length,C=I.length,D=new q(O),E=D.d=[],u=0;F[u]==(I[u]||0);u++);if(F[u]>(I[u]||0)&&a--,o==null?(x=o=q.precision,c=q.rounding):m?x=o+(n.e-i.e)+1:x=o,x<0)E.push(1),v=!0;else{if(x=x/h+2|0,u=0,N==1){for(l=0,F=F[0],x++;(u<C||l)&&x--;u++)y=l*f+(I[u]||0),E[u]=y/F|0,l=y%F|0;v=l||u<C}else{for(l=f/(F[0]+1)|0,l>1&&(F=t(F,l,f),I=t(I,l,f),N=F.length,C=I.length),b=N,g=I.slice(0,N),A=g.length;A<N;)g[A++]=0;R=F.slice(),R.unshift(0),T=F[0],F[1]>=f/2&&++T;do l=0,s=e(F,g,N,A),s<0?(w=g[0],N!=A&&(w=w*f+(g[1]||0)),l=w/T|0,l>1?(l>=f&&(l=f-1),p=t(F,l,f),d=p.length,A=g.length,s=e(p,g,d,A),s==1&&(l--,r(p,N<d?R:F,d,f))):(l==0&&(s=l=1),p=F.slice()),d=p.length,d<A&&p.unshift(0),r(g,p,A,f),s==-1&&(A=g.length,s=e(F,g,N,A),s<1&&(l++,r(g,N<A?R:F,A,f))),A=g.length):s===0&&(l++,g=[0]),E[u++]=l,s&&g[0]?g[A++]=I[b]||0:(g=[I[b]],A=1);while((b++<C||g[0]!==void 0)&&x--);v=g[0]!==void 0}E[0]||E.shift()}if(h==1)D.e=a,Mo=v;else{for(u=1,l=E[0];l>=10;l/=10)u++;D.e=u+a*h-1,K(D,m?o+D.e+1:o,c,v)}return D}}();function K(t,e,r,n){var i,o,c,m,f,s,a,u,l,h=t.constructor;e:if(e!=null){if(u=t.d,!u)return t;for(i=1,m=u[0];m>=10;m/=10)i++;if(o=e-i,o<0)o+=te,c=e,a=u[l=0],f=a/Le(10,i-c-1)%10|0;else if(l=Math.ceil((o+1)/te),m=u.length,l>=m)if(n){for(;m++<=l;)u.push(0);a=f=0,i=1,o%=te,c=o-te+1}else break e;else{for(a=m=u[l],i=1;m>=10;m/=10)i++;o%=te,c=o-te+i,f=c<0?0:a/Le(10,i-c-1)%10|0}if(n=n||e<0||u[l+1]!==void 0||(c<0?a:a%Le(10,i-c-1)),s=r<4?(f||n)&&(r==0||r==(t.s<0?3:2)):f>5||f==5&&(r==4||n||r==6&&(o>0?c>0?a/Le(10,i-c):0:u[l-1])%10&1||r==(t.s<0?8:7)),e<1||!u[0])return u.length=0,s?(e-=t.e+1,u[0]=Le(10,(te-e%te)%te),t.e=-e||0):u[0]=t.e=0,t;if(o==0?(u.length=l,m=1,l--):(u.length=l+1,m=Le(10,te-o),u[l]=c>0?(a/Le(10,i-c)%Le(10,c)|0)*m:0),s)for(;;)if(l==0){for(o=1,c=u[0];c>=10;c/=10)o++;for(c=u[0]+=m,m=1;c>=10;c/=10)m++;o!=m&&(t.e++,u[0]==dr&&(u[0]=1));break}else{if(u[l]+=m,u[l]!=dr)break;u[l--]=0,m=1}for(o=u.length;u[--o]===0;)u.pop()}return ie&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function Er(t,e,r){if(!t.isFinite())return Oo(t);var n,i=t.e,o=Ze(t.d),c=o.length;return e?(r&&(n=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+Sr(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+Sr(-i-1)+o,r&&(n=r-c)>0&&(o+=Sr(n))):i>=c?(o+=Sr(i+1-c),r&&(n=r-i-1)>0&&(o=o+"."+Sr(n))):((n=i+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(o+="."),o+=Sr(n))),o}function Wt(t,e){var r=t[0];for(e*=te;r>=10;r/=10)e++;return e}function jt(t,e,r){if(e>uf)throw ie=!0,r&&(t.precision=r),Error(Fo);return K(new t(Qt),e,1,!0)}function vr(t,e,r){if(e>Wn)throw Error(Fo);return K(new t(Jt),e,r,!0)}function Io(t){var e=t.length-1,r=e*te+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Sr(t){for(var e="";t--;)e+="0";return e}function Ro(t,e,r,n){var i,o=new t(1),c=Math.ceil(n/te+4);for(ie=!1;;){if(r%2&&(o=o.times(e),_o(o.d,c)&&(i=!0)),r=$e(r/2),r===0){r=o.d.length-1,i&&o.d[r]===0&&++o.d[r];break}e=e.times(e),_o(e.d,c)}return ie=!0,o}function bo(t){return t.d[t.d.length-1]&1}function Lo(t,e,r){for(var n,i=new t(e[0]),o=0;++o<e.length;)if(n=new t(e[o]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function ei(t,e){var r,n,i,o,c,m,f,s=0,a=0,u=0,l=t.constructor,h=l.rounding,v=l.precision;if(!t.d||!t.d[0]||t.e>17)return new l(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(ie=!1,f=v):f=e,m=new l(.03125);t.e>-2;)t=t.times(m),u+=5;for(n=Math.log(Le(2,u))/Math.LN10*2+5|0,f+=n,r=o=c=new l(1),l.precision=f;;){if(o=K(o.times(t),f,1),r=r.times(++a),m=c.plus(_e(o,r,f,1)),Ze(m.d).slice(0,f)===Ze(c.d).slice(0,f)){for(i=u;i--;)c=K(c.times(c),f,1);if(e==null)if(s<3&&yt(c.d,f-n,h,s))l.precision=f+=10,r=o=m=new l(1),a=0,s++;else return K(c,l.precision=v,h,ie=!0);else return l.precision=v,c}c=m}}function Br(t,e){var r,n,i,o,c,m,f,s,a,u,l,h=1,v=10,p=t,d=p.d,D=p.constructor,E=D.rounding,g=D.precision;if(p.s<0||!d||!d[0]||!p.e&&d[0]==1&&d.length==1)return new D(d&&!d[0]?-1/0:p.s!=1?NaN:d?0:p);if(e==null?(ie=!1,a=g):a=e,D.precision=a+=v,r=Ze(d),n=r.charAt(0),Math.abs(o=p.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ze(p.d),n=r.charAt(0),h++;o=p.e,n>1?(p=new D("0."+r),o++):p=new D(n+"."+r.slice(1))}else return s=jt(D,a+2,g).times(o+""),p=Br(new D(n+"."+r.slice(1)),a-v).plus(s),D.precision=g,e==null?K(p,g,E,ie=!0):p;for(u=p,f=c=p=_e(p.minus(1),p.plus(1),a,1),l=K(p.times(p),a,1),i=3;;){if(c=K(c.times(l),a,1),s=f.plus(_e(c,new D(i),a,1)),Ze(s.d).slice(0,a)===Ze(f.d).slice(0,a))if(f=f.times(2),o!==0&&(f=f.plus(jt(D,a+2,g).times(o+""))),f=_e(f,new D(h),a,1),e==null)if(yt(f.d,a-v,E,m))D.precision=a+=v,s=c=p=_e(u.minus(1),u.plus(1),a,1),l=K(p.times(p),a,1),i=m=1;else return K(f,D.precision=g,E,ie=!0);else return D.precision=g,f;f=s,i+=2}}function Oo(t){return String(t.s*t.s/0)}function ri(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%te,r<0&&(n+=te),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=te;n<i;)t.d.push(+e.slice(n,n+=te));e=e.slice(n),n=te-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),ie&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ff(t,e){var r,n,i,o,c,m,f,s,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Bo.test(e))return ri(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(nf.test(e))r=16,e=e.toLowerCase();else if(tf.test(e))r=2;else if(af.test(e))r=8;else throw Error(Ir+e);for(o=e.search(/p/i),o>0?(f=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),c=o>=0,n=t.constructor,c&&(e=e.replace(".",""),m=e.length,o=m-o,i=Ro(n,new n(r),o,o*2)),s=$t(e,r,dr),a=s.length-1,o=a;s[o]===0;--o)s.pop();return o<0?new n(t.s*0):(t.e=Wt(s,a),t.d=s,ie=!1,c&&(t=_e(t,i,m*4)),f&&(t=t.times(Math.abs(f)<54?Le(2,f):wt.pow(2,f))),ie=!0,t)}function cf(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:nt(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/en(5,r)),e=nt(t,2,e,e);for(var i,o=new t(5),c=new t(16),m=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(c.times(i).minus(m))));return e}function nt(t,e,r,n,i){var o,c,m,f,s=1,a=t.precision,u=Math.ceil(a/te);for(ie=!1,f=r.times(r),m=new t(n);;){if(c=_e(m.times(f),new t(e++*e++),a,1),m=i?n.plus(c):n.minus(c),n=_e(c.times(f),new t(e++*e++),a,1),c=m.plus(n),c.d[u]!==void 0){for(o=u;c.d[o]===m.d[o]&&o--;);if(o==-1)break}o=m,m=n,n=c,c=o,s++}return ie=!0,c.d.length=u+1,c}function en(t,e){for(var r=t;--e;)r*=t;return r}function Po(t,e){var r,n=e.s<0,i=vr(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return br=n?4:1,e;if(r=e.divToInt(i),r.isZero())br=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return br=bo(r)?n?2:3:n?4:1,e;br=bo(r)?n?1:4:n?3:2}return e.minus(i).abs()}function ti(t,e,r,n){var i,o,c,m,f,s,a,u,l,h=t.constructor,v=r!==void 0;if(v?(nr(r,1,Rr),n===void 0?n=h.rounding:nr(n,0,8)):(r=h.precision,n=h.rounding),!t.isFinite())a=Oo(t);else{for(a=Er(t),c=a.indexOf("."),v?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,c>=0&&(a=a.replace(".",""),l=new h(1),l.e=a.length-c,l.d=$t(Er(l),10,i),l.e=l.d.length),u=$t(a,10,i),o=f=u.length;u[--f]==0;)u.pop();if(!u[0])a=v?"0p+0":"0";else{if(c<0?o--:(t=new h(t),t.d=u,t.e=o,t=_e(t,l,r,n,0,i),u=t.d,o=t.e,s=Mo),c=u[r],m=i/2,s=s||u[r+1]!==void 0,s=n<4?(c!==void 0||s)&&(n===0||n===(t.s<0?3:2)):c>m||c===m&&(n===4||s||n===6&&u[r-1]&1||n===(t.s<0?8:7)),u.length=r,s)for(;++u[--r]>i-1;)u[r]=0,r||(++o,u.unshift(1));for(f=u.length;!u[f-1];--f);for(c=0,a="";c<f;c++)a+=jn.charAt(u[c]);if(v){if(f>1)if(e==16||e==8){for(c=e==16?4:3,--f;f%c;f++)a+="0";for(u=$t(a,i,e),f=u.length;!u[f-1];--f);for(c=1,a="1.";c<f;c++)a+=jn.charAt(u[c])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>f)for(o-=f;o--;)a+="0";else o<f&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return t.s<0?"-"+a:a}function _o(t,e){if(t.length>e)return t.length=e,!0}function lf(t){return new this(t).abs()}function pf(t){return new this(t).acos()}function mf(t){return new this(t).acosh()}function hf(t,e){return new this(t).plus(e)}function vf(t){return new this(t).asin()}function df(t){return new this(t).asinh()}function xf(t){return new this(t).atan()}function Df(t){return new this(t).atanh()}function gf(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=vr(this,o,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?vr(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=vr(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(_e(t,e,o,1)),e=vr(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(_e(t,e,o,1)),r}function Ef(t){return new this(t).cbrt()}function yf(t){return K(t=new this(t),t.e+1,2)}function wf(t,e,r){return new this(t).clamp(e,r)}function Af(t){if(!t||typeof t!="object")throw Error(Kt+"Object expected");var e,r,n,i=t.defaults===!0,o=["precision",1,Rr,"rounding",0,8,"toExpNeg",-tt,0,"toExpPos",0,tt,"maxE",0,tt,"minE",-tt,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(r=o[e],i&&(this[r]=Kn[r]),(n=t[r])!==void 0)if($e(n)===n&&n>=o[e+1]&&n<=o[e+2])this[r]=n;else throw Error(Ir+r+": "+n);if(r="crypto",i&&(this[r]=Kn[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(No);else this[r]=!1;else throw Error(Ir+r+": "+n);return this}function Cf(t){return new this(t).cos()}function bf(t){return new this(t).cosh()}function zo(t){var e,r,n;function i(o){var c,m,f,s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,To(o)){s.s=o.s,ie?!o.d||o.e>i.maxE?(s.e=NaN,s.d=null):o.e<i.minE?(s.e=0,s.d=[0]):(s.e=o.e,s.d=o.d.slice()):(s.e=o.e,s.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){s.s=1/o<0?-1:1,s.e=0,s.d=[0];return}if(o<0?(o=-o,s.s=-1):s.s=1,o===~~o&&o<1e7){for(c=0,m=o;m>=10;m/=10)c++;ie?c>i.maxE?(s.e=NaN,s.d=null):c<i.minE?(s.e=0,s.d=[0]):(s.e=c,s.d=[o]):(s.e=c,s.d=[o]);return}else if(o*0!==0){o||(s.s=NaN),s.e=NaN,s.d=null;return}return ri(s,o.toString())}else if(f!=="string")throw Error(Ir+o);return(m=o.charCodeAt(0))===45?(o=o.slice(1),s.s=-1):(m===43&&(o=o.slice(1)),s.s=1),Bo.test(o)?ri(s,o):ff(s,o)}if(i.prototype=z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Af,i.clone=zo,i.isDecimal=To,i.abs=lf,i.acos=pf,i.acosh=mf,i.add=hf,i.asin=vf,i.asinh=df,i.atan=xf,i.atanh=Df,i.atan2=gf,i.cbrt=Ef,i.ceil=yf,i.clamp=wf,i.cos=Cf,i.cosh=bf,i.div=_f,i.exp=Tf,i.floor=Mf,i.hypot=Ff,i.ln=Nf,i.log=Sf,i.log10=If,i.log2=Bf,i.max=Rf,i.min=Lf,i.mod=Of,i.mul=Pf,i.pow=zf,i.random=kf,i.round=qf,i.sign=Vf,i.sin=Uf,i.sinh=Xf,i.sqrt=Zf,i.sub=Hf,i.sum=Gf,i.tan=Yf,i.tanh=$f,i.trunc=Qf,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function _f(t,e){return new this(t).div(e)}function Tf(t){return new this(t).exp()}function Mf(t){return K(t=new this(t),t.e+1,3)}function Ff(){var t,e,r=new this(0);for(ie=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return ie=!0,new this(1/0);r=e}return ie=!0,r.sqrt()}function To(t){return t instanceof wt||t&&t.toStringTag===So||!1}function Nf(t){return new this(t).ln()}function Sf(t,e){return new this(t).log(e)}function Bf(t){return new this(t).log(2)}function If(t){return new this(t).log(10)}function Rf(){return Lo(this,arguments,"lt")}function Lf(){return Lo(this,arguments,"gt")}function Of(t,e){return new this(t).mod(e)}function Pf(t,e){return new this(t).mul(e)}function zf(t,e){return new this(t).pow(e)}function kf(t){var e,r,n,i,o=0,c=new this(1),m=[];if(t===void 0?t=this.precision:nr(t,1,Rr),n=Math.ceil(t/te),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:m[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(m.push(i%1e7),o+=4);o=n/4}else throw Error(No);else for(;o<n;)m[o++]=Math.random()*1e7|0;for(n=m[--o],t%=te,n&&t&&(i=Le(10,te-t),m[o]=(n/i|0)*i);m[o]===0;o--)m.pop();if(o<0)r=0,m=[0];else{for(r=-1;m[0]===0;r-=te)m.shift();for(n=1,i=m[0];i>=10;i/=10)n++;n<te&&(r-=te-n)}return c.e=r,c.d=m,c}function qf(t){return K(t=new this(t),t.e+1,this.rounding)}function Vf(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Uf(t){return new this(t).sin()}function Xf(t){return new this(t).sinh()}function Zf(t){return new this(t).sqrt()}function Hf(t,e){return new this(t).sub(e)}function Gf(){var t=0,e=arguments,r=new this(e[t]);for(ie=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return ie=!0,K(r,this.precision,this.rounding)}function Yf(t){return new this(t).tan()}function $f(t){return new this(t).tanh()}function Qf(t){return K(t=new this(t),t.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString;z[Symbol.toStringTag]="Decimal";var wt=z.constructor=zo(Kn);Qt=new wt(Qt);Jt=new wt(Jt);var ni=wt;var Jf="BigNumber",jf=["?on","config"],ii=L(Jf,jf,t=>{var{on:e,config:r}=t,n=ni.clone({precision:r.precision,modulo:ni.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var qe=ht(qo(),1);var Kf="Complex",Wf=[],oi=L(Kf,Wf,()=>(Object.defineProperty(qe.default,"name",{value:"Complex"}),qe.default.prototype.constructor=qe.default,qe.default.prototype.type="Complex",qe.default.prototype.isComplex=!0,qe.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},qe.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},qe.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=gt(this.re,t),o=gt(this.im,t),c=Ce(t)?t:t?t.precision:null;if(c!==null){var m=Math.pow(10,-c);Math.abs(n/r)<m&&(n=0),Math.abs(r/n)<m&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=o+"i":r<0?r===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+o+"i",e},qe.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,qe.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Ce(r)){if(qt(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Ce(n))return new qe.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},qe.default.prototype.valueOf=qe.default.prototype.toString,qe.default.fromJSON=function(t){return new qe.default(t)},qe.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},qe.default),{isClass:!0});var yr=ht(Uo(),1);var ec="Fraction",rc=[],si=L(ec,rc,()=>(Object.defineProperty(yr.default,"name",{value:"Fraction"}),yr.default.prototype.constructor=yr.default,yr.default.prototype.type="Fraction",yr.default.prototype.isFraction=!0,yr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},yr.default.fromJSON=function(t){return new yr.default(t)},yr.default),{isClass:!0});var tc="Matrix",nc=[],fi=L(tc,nc,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function rn(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var ic="DenseMatrix",ac=["Matrix"],ci=L(ic,ac,t=>{var{Matrix:e}=t;function r(a,u){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!tr(u))throw new Error("Invalid datatype: "+u);if(ge(a))a.type==="DenseMatrix"?(this._data=Ee(a._data),this._size=Ee(a._size),this._datatype=u||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=u||a._datatype);else if(a&&Ae(a.data)&&Ae(a.size))this._data=a.data,this._size=a.size,Hn(this._data,this._size),this._datatype=u||a.datatype;else if(Ae(a))this._data=s(a),this._size=Re(this._data),Hn(this._data,this._size),this._datatype=u;else{if(a)throw new TypeError("Unsupported type of data ("+fr(a)+")");this._data=[],this._size=[0],this._datatype=u}}r.prototype=new e,r.prototype.createDenseMatrix=function(a,u){return new r(a,u)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return rt(this._data,fr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,u){return new r(a,u)},r.prototype.subset=function(a,u,l){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return o(this,a,u,l);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){if(!Ae(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new le(a.length,this._size.length);for(var u=0;u<a.length;u++)Me(a[u],this._size[u]);for(var l=this._data,h=0,v=a.length;h<v;h++){var p=a[h];Me(p,l.length),l=l[p]}return l},r.prototype.set=function(a,u,l){if(!Ae(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new le(a.length,this._size.length,"<");var h,v,p,d=a.map(function(E){return E+1});f(this,d,l);var D=this._data;for(h=0,v=a.length-1;h<v;h++)p=a[h],Me(p,D.length),D=D[p];return p=a[a.length-1],Me(p,D.length),D[p]=u,this};function n(a,u){if(!jr(u))throw new TypeError("Invalid index");var l=u.isScalar();if(l)return a.get(u.min());var h=u.size();if(h.length!==a._size.length)throw new le(h.length,a._size.length);for(var v=u.min(),p=u.max(),d=0,D=a._size.length;d<D;d++)Me(v[d],a._size[d]),Me(p[d],a._size[d]);return new r(i(a._data,u,h.length,0),a._datatype)}function i(a,u,l,h){var v=h===l-1,p=u.dimension(h);return v?p.map(function(d){return Me(d,a.length),a[d]}).valueOf():p.map(function(d){Me(d,a.length);var D=a[d];return i(D,u,l,h+1)}).valueOf()}function o(a,u,l,h){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var v=u.size(),p=u.isScalar(),d;if(ge(l)?(d=l.size(),l=l.valueOf()):d=Re(l),p){if(d.length!==0)throw new TypeError("Scalar expected");a.set(u.min(),l,h)}else{if(v.length<a._size.length)throw new le(v.length,a._size.length,"<");if(d.length<v.length){for(var D=0,E=0;v[D]===1&&d[D]===1;)D++;for(;v[D]===1;)E++,D++;l=Gt(l,v.length,E,d)}if(!Kr(v,d))throw new le(v,d,">");var g=u.max().map(function(x){return x+1});f(a,g,h);var A=v.length,w=0;c(a._data,u,l,A,w)}return a}function c(a,u,l,h,v){var p=v===h-1,d=u.dimension(v);p?d.forEach(function(D,E){Me(D),a[D]=l[E[0]]}):d.forEach(function(D,E){Me(D),c(a[D],u,l[E[0]],h,v+1)})}r.prototype.resize=function(a,u,l){if(!Ar(a))throw new TypeError("Array or Matrix expected");var h=a.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),v=l?this.clone():this;return m(v,h,u)};function m(a,u,l){if(u.length===0){for(var h=a._data;Ae(h);)h=h[0];return h}return a._size=u.slice(0),a._data=Xr(a._data,a._size,l),a}r.prototype.reshape=function(a,u){var l=u?this.clone():this;l._data=ho(l._data,a);var h=l._size.reduce((v,p)=>v*p);return l._size=Et(a,h),l};function f(a,u,l){for(var h=a._size.slice(0),v=!1;h.length<u.length;)h.push(0),v=!0;for(var p=0,d=u.length;p<d;p++)u[p]>h[p]&&(h[p]=u[p],v=!0);v&&m(a,h,l)}r.prototype.clone=function(){var a=new r({data:Ee(this._data),size:Ee(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(a){var u=this,l=rn(a),h=function d(D,E){return Ae(D)?D.map(function(g,A){return d(g,E.concat(A))}):l===1?a(D):l===2?a(D,E):a(D,E,u)},v=h(this._data,[]),p=this._datatype!==void 0?rt(v,fr):void 0;return new r(v,p)},r.prototype.forEach=function(a){var u=this,l=function h(v,p){Ae(v)?v.forEach(function(d,D){h(d,p.concat(D))}):a(v,p,u)};l(this._data,[])},r.prototype[Symbol.iterator]=function*(){var a=function*u(l,h){if(Ae(l))for(var v=0;v<l.length;v++)yield*u(l[v],h.concat(v));else yield{value:l,index:h}};yield*a(this._data,[])},r.prototype.rows=function(){var a=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var h of l)a.push(new r([h],this._datatype));return a},r.prototype.columns=function(){var a=this,u=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,v=function(D){var E=h.map(g=>[g[D]]);u.push(new r(E,a._datatype))},p=0;p<l[1];p++)v(p);return u},r.prototype.toArray=function(){return Ee(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return ye(this._data,a)},r.prototype.toString=function(){return ye(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(Ne(a)&&(a=a.toNumber()),!Ce(a)||!ae(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var u=a>0?a:0,l=a<0?-a:0,h=this._size[0],v=this._size[1],p=Math.min(h-l,v-u),d=[],D=0;D<p;D++)d[D]=this._data[D+l][D+u];return new r({data:d,size:[p],datatype:this._datatype})},r.diagonal=function(a,u,l,h){if(!Ae(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(y){if(Ne(y)&&(y=y.toNumber()),!Ce(y)||!ae(y)||y<1)throw new Error("Size values must be positive integers");return y}),l){if(Ne(l)&&(l=l.toNumber()),!Ce(l)||!ae(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var v=l>0?l:0,p=l<0?-l:0,d=a[0],D=a[1],E=Math.min(d-p,D-v),g;if(Ae(u)){if(u.length!==E)throw new Error("Invalid value array length");g=function(b){return u[b]}}else if(ge(u)){var A=u.size();if(A.length!==1||A[0]!==E)throw new Error("Invalid matrix length");g=function(b){return u.get([b])}}else g=function(){return u};h||(h=Ne(g(0))?g(0).mul(0):0);var w=[];if(a.length>0){w=Xr(w,a,h);for(var x=0;x<E;x++)w[x+p][x+v]=g(x)}return new r({data:w,size:[d,D]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,u){if(!Ce(a)||!ae(a)||!Ce(u)||!ae(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Me(a,this._size[0]),Me(u,this._size[0]),r._swapRows(a,u,this._data),this},r._swapRows=function(a,u,l){var h=l[a];l[a]=l[u],l[u]=h};function s(a){for(var u=0,l=a.length;u<l;u++){var h=a[u];Ae(h)?a[u]=s(h):h&&h.isMatrix===!0&&(a[u]=s(h.valueOf()))}return a}return r},{isClass:!0});function Xo(t){var e=t.length,r=t[0].length,n,i,o=[];for(i=0;i<r;i++){var c=[];for(n=0;n<e;n++)c.push(t[n][i]);o.push(c)}return o}function nn(t){for(var e=0;e<t.length;e++)if(Ar(t[e]))return!0;return!1}function At(t,e){ge(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?At(i,e):e(i)}}function He(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return He(n,e,r)}):e(t)}function an(t,e,r){var n=Array.isArray(t)?Re(t):t.size();if(e<0||e>=n.length)throw new Cr(e,n.length);return ge(t)?t.create(tn(t.valueOf(),e,r)):tn(t,e,r)}function tn(t,e,r){var n,i,o,c;if(e<=0)if(Array.isArray(t[0])){for(c=Xo(t),i=[],n=0;n<c.length;n++)i[n]=tn(c[n],e-1,r);return i}else{for(o=t[0],n=1;n<t.length;n++)o=r(o,t[n]);return o}else{for(i=[],n=0;n<t.length;n++)i[n]=tn(t[n],e-1,r);return i}}var ir="number",_r="number, number";function li(t){return Math.abs(t)}li.signature=ir;function pi(t,e){return t+e}pi.signature=_r;function oc(t,e){return t-e}oc.signature=_r;function mi(t,e){return t*e}mi.signature=_r;function uc(t,e){return t/e}uc.signature=_r;function hi(t){return-t}hi.signature=ir;function sc(t){return t}sc.signature=ir;function fc(t){return ao(t)}fc.signature=ir;function cc(t){return t*t*t}cc.signature=ir;function lc(t){return Math.exp(t)}lc.signature=ir;function pc(t){return oo(t)}pc.signature=ir;function mc(t,e){if(!ae(t)||!ae(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}mc.signature=_r;function hc(t,e){if(!ae(t)||!ae(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}hc.signature=_r;function vc(t){return no(t)}vc.signature=ir;function dc(t){return to(t)}dc.signature=ir;function xc(t){return io(t)}xc.signature=ir;function Dc(t,e){if(e>0)return t-e*Math.floor(t/e);if(e===0)return t;throw new Error("Cannot calculate mod for a negative divisor")}Dc.signature=_r;function gc(t){return ro(t)}gc.signature=ir;function Ec(t){return Math.sqrt(t)}Ec.signature=ir;function yc(t){return t*t}yc.signature=ir;function wc(t,e){var r,n,i,o=0,c=1,m=1,f=0;if(!ae(t)||!ae(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=o,o=c-n*o,c=r,r=m,m=f-n*m,f=r,t=e,e=i;var s;return t<0?s=[-t,-c,-f]:s=[t,t?c:0,f],s}wc.signature=_r;function vi(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}vi.signature=_r;function Ac(t){return Math.abs(t)}Ac.signature=ir;function on(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return on(t,r)*on(r+1,e)}function di(t,e){if(!ae(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!ae(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,o=2,c=e<r?e:r,m=i;m<=t;++m)for(n*=m;o<=c&&n%o===0;)n/=o,++o;return o<=c&&(n/=on(o,c)),n}di.signature="number, number";var Ct="number";function Cc(t){return ae(t)}Cc.signature=Ct;function bc(t){return t<0}bc.signature=Ct;function _c(t){return t>0}_c.signature=Ct;function xi(t){return t===0}xi.signature=Ct;function Tc(t){return Number.isNaN(t)}Tc.signature=Ct;var Zo="isZero",Mc=["typed"],Di=L(Zo,Mc,t=>{var{typed:e}=t;return e(Zo,{number:xi,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>He(n,r))})});function Lr(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function Ho(t,e,r){return mr(t.re,e.re,r)&&mr(t.im,e.im,r)}var Or=L("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}});var un="equalScalar",Fc=["typed","config"],gi=L(un,Fc,t=>{var{typed:e,config:r}=t,n=Or({typed:e});return e(un,{"boolean, boolean":function(o,c){return o===c},"number, number":function(o,c){return mr(o,c,r.epsilon)},"BigNumber, BigNumber":function(o,c){return o.eq(c)||Lr(o,c,r.epsilon)},"Fraction, Fraction":function(o,c){return o.equals(c)},"Complex, Complex":function(o,c){return Ho(o,c,r.epsilon)}},n)}),mh=L(un,["typed","config"],t=>{var{typed:e,config:r}=t;return e(un,{"number, number":function(i,o){return mr(i,o,r.epsilon)}})});var Nc="SparseMatrix",Sc=["typed","equalScalar","Matrix"],Ei=L(Nc,Sc,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(p,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!tr(d))throw new Error("Invalid datatype: "+d);if(ge(p))o(this,p,d);else if(p&&Ae(p.index)&&Ae(p.ptr)&&Ae(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=d||p.datatype;else if(Ae(p))c(this,p,d);else{if(p)throw new TypeError("Unsupported type of data ("+fr(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function o(p,d,D){d.type==="SparseMatrix"?(p._values=d._values?Ee(d._values):void 0,p._index=Ee(d._index),p._ptr=Ee(d._ptr),p._size=Ee(d._size),p._datatype=D||d._datatype):c(p,d.valueOf(),D||d._datatype)}function c(p,d,D){p._values=[],p._index=[],p._ptr=[],p._datatype=D;var E=d.length,g=0,A=r,w=0;if(tr(D)&&(A=e.find(r,[D,D])||r,w=e.convert(0,D)),E>0){var x=0;do{p._ptr.push(p._index.length);for(var y=0;y<E;y++){var b=d[y];if(Ae(b)){if(x===0&&g<b.length&&(g=b.length),x<b.length){var C=b[x];A(C,w)||(p._values.push(C),p._index.push(y))}}else x===0&&g<1&&(g=1),A(b,w)||(p._values.push(b),p._index.push(y))}x++}while(x<g)}p._ptr.push(p._index.length),p._size=[E,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(p,d){return new i(p,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return rt(this._values,fr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,d){return new i(p,d)},i.prototype.density=function(){var p=this._size[0],d=this._size[1];return p!==0&&d!==0?this._index.length/(p*d):0},i.prototype.subset=function(p,d,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return m(this,p);case 2:case 3:return f(this,p,d,D);default:throw new SyntaxError("Wrong number of arguments")}};function m(p,d){if(!jr(d))throw new TypeError("Invalid index");var D=d.isScalar();if(D)return p.get(d.min());var E=d.size();if(E.length!==p._size.length)throw new le(E.length,p._size.length);var g,A,w,x,y=d.min(),b=d.max();for(g=0,A=p._size.length;g<A;g++)Me(y[g],p._size[g]),Me(b[g],p._size[g]);var C=p._values,T=p._index,N=p._ptr,R=d.dimension(0),q=d.dimension(1),O=[],I=[];R.forEach(function(S,X){I[S]=X[0],O[S]=!0});var F=C?[]:void 0,Y=[],U=[];return q.forEach(function(S){for(U.push(Y.length),w=N[S],x=N[S+1];w<x;w++)g=T[w],O[g]===!0&&(Y.push(I[g]),F&&F.push(C[w]))}),U.push(Y.length),new i({values:F,index:Y,ptr:U,size:E,datatype:p._datatype})}function f(p,d,D,E){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var g=d.size(),A=d.isScalar(),w;if(ge(D)?(w=D.size(),D=D.toArray()):w=Re(D),A){if(w.length!==0)throw new TypeError("Scalar expected");p.set(d.min(),D,E)}else{if(g.length!==1&&g.length!==2)throw new le(g.length,p._size.length,"<");if(w.length<g.length){for(var x=0,y=0;g[x]===1&&w[x]===1;)x++;for(;g[x]===1;)y++,x++;D=Gt(D,g.length,y,w)}if(!Kr(g,w))throw new le(g,w,">");if(g.length===1){var b=d.dimension(0);b.forEach(function(N,R){Me(N),p.set([N,0],D[R[0]],E)})}else{var C=d.dimension(0),T=d.dimension(1);C.forEach(function(N,R){Me(N),T.forEach(function(q,O){Me(q),p.set([N,q],D[R[0]][O[0]],E)})})}}return p}i.prototype.get=function(p){if(!Ae(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new le(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=p[0],D=p[1];Me(d,this._size[0]),Me(D,this._size[1]);var E=s(d,this._ptr[D],this._ptr[D+1],this._index);return E<this._ptr[D+1]&&this._index[E]===d?this._values[E]:0},i.prototype.set=function(p,d,D){if(!Ae(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new le(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=p[0],g=p[1],A=this._size[0],w=this._size[1],x=r,y=0;tr(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,y=e.convert(0,this._datatype)),(E>A-1||g>w-1)&&(l(this,Math.max(E+1,A),Math.max(g+1,w),D),A=this._size[0],w=this._size[1]),Me(E,A),Me(g,w);var b=s(E,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===E?x(d,y)?a(b,g,this._values,this._index,this._ptr):this._values[b]=d:u(b,E,g,d,this._values,this._index,this._ptr),this};function s(p,d,D,E){if(D-d===0)return D;for(var g=d;g<D;g++)if(E[g]===p)return g;return d}function a(p,d,D,E,g){D.splice(p,1),E.splice(p,1);for(var A=d+1;A<g.length;A++)g[A]--}function u(p,d,D,E,g,A,w){g.splice(p,0,E),A.splice(p,0,d);for(var x=D+1;x<w.length;x++)w[x]++}i.prototype.resize=function(p,d,D){if(!Ar(p))throw new TypeError("Array or Matrix expected");var E=p.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(A){if(!Ce(A)||!ae(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ye(E)+")")});var g=D?this.clone():this;return l(g,E[0],E[1],d)};function l(p,d,D,E){var g=E||0,A=r,w=0;tr(p._datatype)&&(A=e.find(r,[p._datatype,p._datatype])||r,w=e.convert(0,p._datatype),g=e.convert(g,p._datatype));var x=!A(g,w),y=p._size[0],b=p._size[1],C,T,N;if(D>b){for(T=b;T<D;T++)if(p._ptr[T]=p._values.length,x)for(C=0;C<y;C++)p._values.push(g),p._index.push(C);p._ptr[D]=p._values.length}else D<b&&(p._ptr.splice(D+1,b-D),p._values.splice(p._ptr[D],p._values.length),p._index.splice(p._ptr[D],p._index.length));if(b=D,d>y){if(x){var R=0;for(T=0;T<b;T++){p._ptr[T]=p._ptr[T]+R,N=p._ptr[T+1]+R;var q=0;for(C=y;C<d;C++,q++)p._values.splice(N+q,0,g),p._index.splice(N+q,0,C),R++}p._ptr[b]=p._values.length}}else if(d<y){var O=0;for(T=0;T<b;T++){p._ptr[T]=p._ptr[T]-O;var I=p._ptr[T],F=p._ptr[T+1]-O;for(N=I;N<F;N++)C=p._index[N],C>d-1&&(p._values.splice(N,1),p._index.splice(N,1),O++)}p._ptr[T]=p._values.length}return p._size[0]=d,p._size[1]=D,p}i.prototype.reshape=function(p,d){if(!Ae(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(S){if(!Ce(S)||!ae(S)||S<=-2||S===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ye(p)+")")});var D=this._size[0]*this._size[1];p=Et(p,D);var E=p[0]*p[1];if(D!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=d?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return g;for(var A=[],w=0;w<g._ptr.length;w++)for(var x=0;x<g._ptr[w+1]-g._ptr[w];x++)A.push(w);for(var y=g._values.slice(),b=g._index.slice(),C=0;C<g._index.length;C++){var T=b[C],N=A[C],R=T*g._size[1]+N;A[C]=R%p[1],b[C]=Math.floor(R/p[1])}g._values.length=0,g._index.length=0,g._ptr.length=p[1]+1,g._size=p.slice();for(var q=0;q<g._ptr.length;q++)g._ptr[q]=0;for(var O=0;O<y.length;O++){var I=b[O],F=A[O],Y=y[O],U=s(I,g._ptr[F],g._ptr[F+1],g._index);u(U,I,F,Y,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var p=new i({values:this._values?Ee(this._values):void 0,index:Ee(this._index),ptr:Ee(this._ptr),size:Ee(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,E=this._size[0],g=this._size[1],A=rn(p),w=function(y,b,C){return A===1?p(y):A===2?p(y,[b,C]):p(y,[b,C],D)};return h(this,0,E-1,0,g-1,w,d)};function h(p,d,D,E,g,A,w){var x=[],y=[],b=[],C=r,T=0;tr(p._datatype)&&(C=e.find(r,[p._datatype,p._datatype])||r,T=e.convert(0,p._datatype));for(var N=function(ee,j,we){ee=A(ee,j,we),C(ee,T)||(x.push(ee),y.push(j))},R=E;R<=g;R++){b.push(x.length);var q=p._ptr[R],O=p._ptr[R+1];if(w)for(var I=q;I<O;I++){var F=p._index[I];F>=d&&F<=D&&N(p._values[I],F-d,R-E)}else{for(var Y={},U=q;U<O;U++){var S=p._index[U];Y[S]=p._values[U]}for(var X=d;X<=D;X++){var Q=X in Y?Y[X]:0;N(Q,X-d,R-E)}}}return b.push(x.length),new i({values:x,index:y,ptr:b,size:[D-d+1,g-E+1]})}i.prototype.forEach=function(p,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,E=this._size[0],g=this._size[1],A=0;A<g;A++){var w=this._ptr[A],x=this._ptr[A+1];if(d)for(var y=w;y<x;y++){var b=this._index[y];p(this._values[y],[b,A],D)}else{for(var C={},T=w;T<x;T++){var N=this._index[T];C[N]=this._values[T]}for(var R=0;R<E;R++){var q=R in C?C[R]:0;p(q,[R,A],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],d=0;d<p;d++)for(var D=this._ptr[d],E=this._ptr[d+1],g=D;g<E;g++){var A=this._index[g];yield{value:this._values[g],index:[A,d]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(p,d,D,E,g){var A=E[0],w=E[1],x=[],y,b;for(y=0;y<A;y++)for(x[y]=[],b=0;b<w;b++)x[y][b]=0;for(b=0;b<w;b++)for(var C=D[b],T=D[b+1],N=C;N<T;N++)y=d[N],x[y][b]=p?g?Ee(p[N]):p[N]:1;return x}return i.prototype.format=function(p){for(var d=this._size[0],D=this._size[1],E=this.density(),g="Sparse Matrix ["+ye(d,p)+" x "+ye(D,p)+"] density: "+ye(E,p)+`
`,A=0;A<D;A++)for(var w=this._ptr[A],x=this._ptr[A+1],y=w;y<x;y++){var b=this._index[y];g+=`
    (`+ye(b,p)+", "+ye(A,p)+") ==> "+(this._values?ye(this._values[y],p):"X")}return g},i.prototype.toString=function(){return ye(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Ne(p)&&(p=p.toNumber()),!Ce(p)||!ae(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var d=p>0?p:0,D=p<0?-p:0,E=this._size[0],g=this._size[1],A=Math.min(E-D,g-d),w=[],x=[],y=[];y[0]=0;for(var b=d;b<g&&w.length<A;b++)for(var C=this._ptr[b],T=this._ptr[b+1],N=C;N<T;N++){var R=this._index[N];if(R===b-d+D){w.push(this._values[N]),x[w.length-1]=R-D;break}}return y.push(w.length),new i({values:w,index:x,ptr:y,size:[A,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,d,D,E,g){if(!Ae(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(S){if(Ne(S)&&(S=S.toNumber()),!Ce(S)||!ae(S)||S<1)throw new Error("Size values must be positive integers");return S}),D){if(Ne(D)&&(D=D.toNumber()),!Ce(D)||!ae(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var A=r,w=0;tr(g)&&(A=e.find(r,[g,g])||r,w=e.convert(0,g));var x=D>0?D:0,y=D<0?-D:0,b=p[0],C=p[1],T=Math.min(b-y,C-x),N;if(Ae(d)){if(d.length!==T)throw new Error("Invalid value array length");N=function(X){return d[X]}}else if(ge(d)){var R=d.size();if(R.length!==1||R[0]!==T)throw new Error("Invalid matrix length");N=function(X){return d.get([X])}}else N=function(){return d};for(var q=[],O=[],I=[],F=0;F<C;F++){I.push(q.length);var Y=F-x;if(Y>=0&&Y<T){var U=N(Y);A(U,w)||(O.push(Y+y),q.push(U))}}return I.push(q.length),new i({values:q,index:O,ptr:I,size:[b,C]})},i.prototype.swapRows=function(p,d){if(!Ce(p)||!ae(p)||!Ce(d)||!ae(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Me(p,this._size[0]),Me(d,this._size[0]),i._swapRows(p,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,d,D,E,g){for(var A=E[p],w=E[p+1],x=A;x<w;x++)g(D[x],d[x])},i._swapRows=function(p,d,D,E,g,A){for(var w=0;w<D;w++){var x=A[w],y=A[w+1],b=s(p,x,y,g),C=s(d,x,y,g);if(b<y&&C<y&&g[b]===p&&g[C]===d){if(E){var T=E[b];E[b]=E[C],E[C]=T}continue}if(b<y&&g[b]===p&&(C>=y||g[C]!==d)){var N=E?E[b]:void 0;g.splice(C,0,d),E&&E.splice(C,0,N),g.splice(C<=b?b+1:b,1),E&&E.splice(C<=b?b+1:b,1);continue}if(C<y&&g[C]===d&&(b>=y||g[b]!==p)){var R=E?E[C]:void 0;g.splice(b,0,p),E&&E.splice(b,0,R),g.splice(b<=C?C+1:C,1),E&&E.splice(b<=C?C+1:C,1)}}},i},{isClass:!0});var Bc="number",Ic=["typed"];function Rc(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function Lc(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var o=e+r;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is no valid number');return o}var yi=L(Bc,Ic,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=Rc(i);if(o)return Lc(o);var c=0,m=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);m&&(c=Number(m[2]),i=m[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is no valid number');if(m){if(f>2**c-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(c-1)&&(f=f-2**c)}return f},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(n=>i=>He(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r});var Oc="bignumber",Pc=["typed","BigNumber"],wi=L(Oc,Pc,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var c=o[2],m=r(o[1]),f=new r(2).pow(Number(c));if(m.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new r(2).pow(Number(c)-1);return m.gte(s)?m.sub(f):m}return new r(i)},BigNumber:function(i){return i},Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>He(i,n))})});var zc="complex",kc=["typed","Complex"],Ai=L(zc,kc,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,o){return new r(i,o)},"BigNumber, BigNumber":function(i,o){return new r(i.toNumber(),o.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>He(i,n))})});var qc="fraction",Vc=["typed","Fraction"],Ci=L(qc,Vc,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,o){return new r(i,o)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>He(i,n))})});var Go="matrix",Uc=["typed","Matrix","DenseMatrix","SparseMatrix"],bi=L(Go,Uc,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(Go,{"":function(){return o([])},string:function(m){return o([],m)},"string, string":function(m,f){return o([],m,f)},Array:function(m){return o(m)},Matrix:function(m){return o(m,m.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(c,m,f){if(m==="dense"||m==="default"||m===void 0)return new n(c,f);if(m==="sparse")return new i(c,f);throw new TypeError("Unknown matrix type "+JSON.stringify(m)+".")}});var Yo="unaryMinus",Xc=["typed"],_i=L(Yo,Xc,t=>{var{typed:e}=t;return e(Yo,{number:hi,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>He(n,r,!0))})});var $o="abs",Zc=["typed"],Ti=L($o,Zc,t=>{var{typed:e}=t;return e($o,{number:li,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>He(n,r,!0))})});var Qo="addScalar",Hc=["typed"],Mi=L(Qo,Hc,t=>{var{typed:e}=t;return e(Qo,{"number, number":pi,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(r,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var Gc="matAlgo11xS0s",Yc=["typed","equalScalar"],sn=L(Gc,Yc,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,c,m){var f=i._values,s=i._index,a=i._ptr,u=i._size,l=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],v=u[1],p,d=r,D=0,E=c;typeof l=="string"&&(p=l,d=e.find(r,[p,p]),D=e.convert(0,p),o=e.convert(o,p),E=e.find(c,[p,p]));for(var g=[],A=[],w=[],x=0;x<v;x++){w[x]=A.length;for(var y=a[x],b=a[x+1],C=y;C<b;C++){var T=s[C],N=m?E(o,f[C]):E(f[C],o);d(N,D)||(A.push(T),g.push(N))}}return w[v]=A.length,i.createSparseMatrix({values:g,index:A,ptr:w,size:[h,v],datatype:p})}});var $c="matAlgo12xSfs",Qc=["typed","DenseMatrix"],Pr=L($c,Qc,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,o,c,m){var f=i._values,s=i._index,a=i._ptr,u=i._size,l=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],v=u[1],p,d=c;typeof l=="string"&&(p=l,o=e.convert(o,p),d=e.find(c,[p,p]));for(var D=[],E=[],g=[],A=0;A<v;A++){for(var w=A+1,x=a[A],y=a[A+1],b=x;b<y;b++){var C=s[b];E[C]=f[b],g[C]=w}for(var T=0;T<h;T++)A===0&&(D[T]=[]),g[T]===w?D[T][A]=m?d(o,E[T]):d(E[T],o):D[T][A]=m?d(o,0):d(0,o)}return new r({data:D,size:[h,v],datatype:p})}});var Jc="matAlgo14xDs",jc=["typed"],it=L(Jc,jc,t=>{var{typed:e}=t;return function(i,o,c,m){var f=i._data,s=i._size,a=i._datatype,u,l=c;typeof a=="string"&&(u=a,o=e.convert(o,u),l=e.find(c,[u,u]));var h=s.length>0?r(l,0,s,s[0],f,o,m):[];return i.createDenseMatrix({data:h,size:Ee(s),datatype:u})};function r(n,i,o,c,m,f,s){var a=[];if(i===o.length-1)for(var u=0;u<c;u++)a[u]=s?n(f,m[u]):n(m[u],f);else for(var l=0;l<c;l++)a[l]=r(n,i+1,o,o[i+1],m[l],f,s);return a}});var Kc="matAlgo01xDSid",Wc=["typed"],fn=L(Kc,Wc,t=>{var{typed:e}=t;return function(n,i,o,c){var m=n._data,f=n._size,s=n._datatype,a=i._values,u=i._index,l=i._ptr,h=i._size,v=i._datatype;if(f.length!==h.length)throw new le(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=f[0],d=f[1],D=typeof s=="string"&&s===v?s:void 0,E=D?e.find(o,[D,D]):o,g,A,w=[];for(g=0;g<p;g++)w[g]=[];var x=[],y=[];for(A=0;A<d;A++){for(var b=A+1,C=l[A],T=l[A+1],N=C;N<T;N++)g=u[N],x[g]=c?E(a[N],m[g][A]):E(m[g][A],a[N]),y[g]=b;for(g=0;g<p;g++)y[g]===b?w[g][A]=x[g]:w[g][A]=m[g][A]}return n.createDenseMatrix({data:w,size:[p,d],datatype:D})}});var el="matAlgo04xSidSid",rl=["typed","equalScalar"],Jo=L(el,rl,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,c){var m=i._values,f=i._index,s=i._ptr,a=i._size,u=i._datatype,l=o._values,h=o._index,v=o._ptr,p=o._size,d=o._datatype;if(a.length!==p.length)throw new le(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");var D=a[0],E=a[1],g,A=r,w=0,x=c;typeof u=="string"&&u===d&&(g=u,A=e.find(r,[g,g]),w=e.convert(0,g),x=e.find(c,[g,g]));var y=m&&l?[]:void 0,b=[],C=[],T=m&&l?[]:void 0,N=m&&l?[]:void 0,R=[],q=[],O,I,F,Y,U;for(I=0;I<E;I++){C[I]=b.length;var S=I+1;for(Y=s[I],U=s[I+1],F=Y;F<U;F++)O=f[F],b.push(O),R[O]=S,T&&(T[O]=m[F]);for(Y=v[I],U=v[I+1],F=Y;F<U;F++)if(O=h[F],R[O]===S){if(T){var X=x(T[O],l[F]);A(X,w)?R[O]=null:T[O]=X}}else b.push(O),q[O]=S,N&&(N[O]=l[F]);if(T&&N)for(F=C[I];F<b.length;)O=b[F],R[O]===S?(y[F]=T[O],F++):q[O]===S?(y[F]=N[O],F++):b.splice(F,1)}return C[E]=b.length,i.createSparseMatrix({values:y,index:b,ptr:C,size:[D,E],datatype:g})}});var tl="matAlgo10xSids",nl=["typed","DenseMatrix"],cn=L(tl,nl,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,o,c,m){var f=i._values,s=i._index,a=i._ptr,u=i._size,l=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=u[0],v=u[1],p,d=c;typeof l=="string"&&(p=l,o=e.convert(o,p),d=e.find(c,[p,p]));for(var D=[],E=[],g=[],A=0;A<v;A++){for(var w=A+1,x=a[A],y=a[A+1],b=x;b<y;b++){var C=s[b];E[C]=f[b],g[C]=w}for(var T=0;T<h;T++)A===0&&(D[T]=[]),g[T]===w?D[T][A]=m?d(o,E[T]):d(E[T],o):D[T][A]=o}return new r({data:D,size:[h,v],datatype:p})}});var il="matAlgo13xDD",al=["typed"],jo=L(il,al,t=>{var{typed:e}=t;return function(i,o,c){var m=i._data,f=i._size,s=i._datatype,a=o._data,u=o._size,l=o._datatype,h=[];if(f.length!==u.length)throw new le(f.length,u.length);for(var v=0;v<f.length;v++){if(f[v]!==u[v])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+u+")");h[v]=f[v]}var p,d=c;typeof s=="string"&&s===l&&(p=s,d=e.find(c,[p,p]));var D=h.length>0?r(d,0,h,h[0],m,a):[];return i.createDenseMatrix({data:D,size:h,datatype:p})};function r(n,i,o,c,m,f){var s=[];if(i===o.length-1)for(var a=0;a<c;a++)s[a]=n(m[a],f[a]);else for(var u=0;u<c;u++)s[u]=r(n,i+1,o,o[i+1],m[u],f[u]);return s}});var ol="matrixAlgorithmSuite",ul=["typed","matrix"],wr=L(ol,ul,t=>{var{typed:e,matrix:r}=t,n=jo({typed:e}),i=it({typed:e});return function(c){var m=c.elop,f=c.SD||c.DS,s;m?(s={"DenseMatrix, DenseMatrix":(h,v)=>n(h,v,m),"Array, Array":(h,v)=>n(r(h),r(v),m).valueOf(),"Array, DenseMatrix":(h,v)=>n(r(h),v,m),"DenseMatrix, Array":(h,v)=>n(h,r(v),m)},c.SS&&(s["SparseMatrix, SparseMatrix"]=(h,v)=>c.SS(h,v,m,!1)),c.DS&&(s["DenseMatrix, SparseMatrix"]=(h,v)=>c.DS(h,v,m,!1),s["Array, SparseMatrix"]=(h,v)=>c.DS(r(h),v,m,!1)),f&&(s["SparseMatrix, DenseMatrix"]=(h,v)=>f(v,h,m,!0),s["SparseMatrix, Array"]=(h,v)=>f(r(v),h,m,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(h=>(v,p)=>n(v,p,h)),"Array, Array":e.referToSelf(h=>(v,p)=>n(r(v),r(p),h).valueOf()),"Array, DenseMatrix":e.referToSelf(h=>(v,p)=>n(r(v),p,h)),"DenseMatrix, Array":e.referToSelf(h=>(v,p)=>n(v,r(p),h))},c.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(h=>(v,p)=>c.SS(v,p,h,!1))),c.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(h=>(v,p)=>c.DS(v,p,h,!1)),s["Array, SparseMatrix"]=e.referToSelf(h=>(v,p)=>c.DS(r(v),p,h,!1))),f&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(h=>(v,p)=>f(p,v,h,!0)),s["SparseMatrix, Array"]=e.referToSelf(h=>(v,p)=>f(r(p),v,h,!0))));var a=c.scalar||"any",u=c.Ds||c.Ss;u&&(m?(s["DenseMatrix,"+a]=(h,v)=>i(h,v,m,!1),s[a+", DenseMatrix"]=(h,v)=>i(v,h,m,!0),s["Array,"+a]=(h,v)=>i(r(h),v,m,!1).valueOf(),s[a+", Array"]=(h,v)=>i(r(v),h,m,!0).valueOf()):(s["DenseMatrix,"+a]=e.referToSelf(h=>(v,p)=>i(v,p,h,!1)),s[a+", DenseMatrix"]=e.referToSelf(h=>(v,p)=>i(p,v,h,!0)),s["Array,"+a]=e.referToSelf(h=>(v,p)=>i(r(v),p,h,!1).valueOf()),s[a+", Array"]=e.referToSelf(h=>(v,p)=>i(r(p),v,h,!0).valueOf())));var l=c.sS!==void 0?c.sS:c.Ss;return m?(c.Ss&&(s["SparseMatrix,"+a]=(h,v)=>c.Ss(h,v,m,!1)),l&&(s[a+", SparseMatrix"]=(h,v)=>l(v,h,m,!0))):(c.Ss&&(s["SparseMatrix,"+a]=e.referToSelf(h=>(v,p)=>c.Ss(v,p,h,!1))),l&&(s[a+", SparseMatrix"]=e.referToSelf(h=>(v,p)=>l(p,v,h,!0)))),m&&m.signatures&&Xt(s,m.signatures),s}});var sl="matAlgo03xDSf",fl=["typed"],zr=L(sl,fl,t=>{var{typed:e}=t;return function(n,i,o,c){var m=n._data,f=n._size,s=n._datatype,a=i._values,u=i._index,l=i._ptr,h=i._size,v=i._datatype;if(f.length!==h.length)throw new le(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=f[0],d=f[1],D,E=0,g=o;typeof s=="string"&&s===v&&(D=s,E=e.convert(0,D),g=e.find(o,[D,D]));for(var A=[],w=0;w<p;w++)A[w]=[];for(var x=[],y=[],b=0;b<d;b++){for(var C=b+1,T=l[b],N=l[b+1],R=T;R<N;R++){var q=u[R];x[q]=c?g(a[R],m[q][b]):g(m[q][b],a[R]),y[q]=C}for(var O=0;O<p;O++)y[O]===C?A[O][b]=x[O]:A[O][b]=c?g(E,m[O][b]):g(m[O][b],E)}return n.createDenseMatrix({data:A,size:[p,d],datatype:D})}});var cl="matAlgo05xSfSf",ll=["typed","equalScalar"],Ko=L(cl,ll,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,c){var m=i._values,f=i._index,s=i._ptr,a=i._size,u=i._datatype,l=o._values,h=o._index,v=o._ptr,p=o._size,d=o._datatype;if(a.length!==p.length)throw new le(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");var D=a[0],E=a[1],g,A=r,w=0,x=c;typeof u=="string"&&u===d&&(g=u,A=e.find(r,[g,g]),w=e.convert(0,g),x=e.find(c,[g,g]));var y=m&&l?[]:void 0,b=[],C=[],T=y?[]:void 0,N=y?[]:void 0,R=[],q=[],O,I,F,Y;for(I=0;I<E;I++){C[I]=b.length;var U=I+1;for(F=s[I],Y=s[I+1];F<Y;F++)O=f[F],b.push(O),R[O]=U,T&&(T[O]=m[F]);for(F=v[I],Y=v[I+1];F<Y;F++)O=h[F],R[O]!==U&&b.push(O),q[O]=U,N&&(N[O]=l[F]);if(y)for(F=C[I];F<b.length;){O=b[F];var S=R[O],X=q[O];if(S===U||X===U){var Q=S===U?T[O]:w,ue=X===U?N[O]:w,ee=x(Q,ue);A(ee,w)?b.splice(F,1):(y.push(ee),F++)}}}return C[E]=b.length,i.createSparseMatrix({values:y,index:b,ptr:C,size:[D,E],datatype:g})}});var pl="multiplyScalar",ml=["typed"],Fi=L(pl,ml,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":mi,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})});var Wo="multiply",hl=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ni=L(Wo,hl,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:o,dot:c}=t,m=sn({typed:e,equalScalar:o}),f=it({typed:e});function s(w,x){switch(w.length){case 1:switch(x.length){case 1:if(w[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(w[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+x[0]+")");break;case 2:if(w[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function a(w,x,y){if(y===0)throw new Error("Cannot multiply two empty vectors");return c(w,x)}function u(w,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(w,x)}function l(w,x){var y=w._data,b=w._size,C=w._datatype,T=x._data,N=x._size,R=x._datatype,q=b[0],O=N[1],I,F=n,Y=i;C&&R&&C===R&&typeof C=="string"&&(I=C,F=e.find(n,[I,I]),Y=e.find(i,[I,I]));for(var U=[],S=0;S<O;S++){for(var X=Y(y[0],T[0][S]),Q=1;Q<q;Q++)X=F(X,Y(y[Q],T[Q][S]));U[S]=X}return w.createDenseMatrix({data:U,size:[O],datatype:I})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":E}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":A});function p(w,x){var y=w._data,b=w._size,C=w._datatype,T=x._data,N=x._datatype,R=b[0],q=b[1],O,I=n,F=i;C&&N&&C===N&&typeof C=="string"&&(O=C,I=e.find(n,[O,O]),F=e.find(i,[O,O]));for(var Y=[],U=0;U<R;U++){for(var S=y[U],X=F(S[0],T[0]),Q=1;Q<q;Q++)X=I(X,F(S[Q],T[Q]));Y[U]=X}return w.createDenseMatrix({data:Y,size:[R],datatype:O})}function d(w,x){var y=w._data,b=w._size,C=w._datatype,T=x._data,N=x._size,R=x._datatype,q=b[0],O=b[1],I=N[1],F,Y=n,U=i;C&&R&&C===R&&typeof C=="string"&&(F=C,Y=e.find(n,[F,F]),U=e.find(i,[F,F]));for(var S=[],X=0;X<q;X++){var Q=y[X];S[X]=[];for(var ue=0;ue<I;ue++){for(var ee=U(Q[0],T[0][ue]),j=1;j<O;j++)ee=Y(ee,U(Q[j],T[j][ue]));S[X][ue]=ee}}return w.createDenseMatrix({data:S,size:[q,I],datatype:F})}function D(w,x){var y=w._data,b=w._size,C=w._datatype,T=x._values,N=x._index,R=x._ptr,q=x._size,O=x._datatype;if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=b[0],F=q[1],Y,U=n,S=i,X=o,Q=0;C&&O&&C===O&&typeof C=="string"&&(Y=C,U=e.find(n,[Y,Y]),S=e.find(i,[Y,Y]),X=e.find(o,[Y,Y]),Q=e.convert(0,Y));for(var ue=[],ee=[],j=[],we=x.createSparseMatrix({values:ue,index:ee,ptr:j,size:[I,F],datatype:Y}),pe=0;pe<F;pe++){j[pe]=ee.length;var oe=R[pe],de=R[pe+1];if(de>oe)for(var he=0,ne=0;ne<I;ne++){for(var Se=ne+1,be=void 0,se=oe;se<de;se++){var De=N[se];he!==Se?(be=S(y[ne][De],T[se]),he=Se):be=U(be,S(y[ne][De],T[se]))}he===Se&&!X(be,Q)&&(ee.push(ne),ue.push(be))}}return j[F]=ee.length,we}function E(w,x){var y=w._values,b=w._index,C=w._ptr,T=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,R=x._datatype,q=w._size[0],O=x._size[0],I=[],F=[],Y=[],U,S=n,X=i,Q=o,ue=0;T&&R&&T===R&&typeof T=="string"&&(U=T,S=e.find(n,[U,U]),X=e.find(i,[U,U]),Q=e.find(o,[U,U]),ue=e.convert(0,U));var ee=[],j=[];Y[0]=0;for(var we=0;we<O;we++){var pe=N[we];if(!Q(pe,ue))for(var oe=C[we],de=C[we+1],he=oe;he<de;he++){var ne=b[he];j[ne]?ee[ne]=S(ee[ne],X(pe,y[he])):(j[ne]=!0,F.push(ne),ee[ne]=X(pe,y[he]))}}for(var Se=F.length,be=0;be<Se;be++){var se=F[be];I[be]=ee[se]}return Y[1]=F.length,w.createSparseMatrix({values:I,index:F,ptr:Y,size:[q,1],datatype:U})}function g(w,x){var y=w._values,b=w._index,C=w._ptr,T=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,R=x._datatype,q=w._size[0],O=x._size[0],I=x._size[1],F,Y=n,U=i,S=o,X=0;T&&R&&T===R&&typeof T=="string"&&(F=T,Y=e.find(n,[F,F]),U=e.find(i,[F,F]),S=e.find(o,[F,F]),X=e.convert(0,F));for(var Q=[],ue=[],ee=[],j=w.createSparseMatrix({values:Q,index:ue,ptr:ee,size:[q,I],datatype:F}),we=[],pe=[],oe=0;oe<I;oe++){ee[oe]=ue.length;for(var de=oe+1,he=0;he<O;he++){var ne=N[he][oe];if(!S(ne,X))for(var Se=C[he],be=C[he+1],se=Se;se<be;se++){var De=b[se];pe[De]!==de?(pe[De]=de,ue.push(De),we[De]=U(ne,y[se])):we[De]=Y(we[De],U(ne,y[se]))}}for(var Oe=ee[oe],ar=ue.length,Ge=Oe;Ge<ar;Ge++){var xe=ue[Ge];Q[Ge]=we[xe]}}return ee[I]=ue.length,j}function A(w,x){var y=w._values,b=w._index,C=w._ptr,T=w._datatype,N=x._values,R=x._index,q=x._ptr,O=x._datatype,I=w._size[0],F=x._size[1],Y=y&&N,U,S=n,X=i;T&&O&&T===O&&typeof T=="string"&&(U=T,S=e.find(n,[U,U]),X=e.find(i,[U,U]));for(var Q=Y?[]:void 0,ue=[],ee=[],j=w.createSparseMatrix({values:Q,index:ue,ptr:ee,size:[I,F],datatype:U}),we=Y?[]:void 0,pe=[],oe,de,he,ne,Se,be,se,De,Oe=0;Oe<F;Oe++){ee[Oe]=ue.length;var ar=Oe+1;for(Se=q[Oe],be=q[Oe+1],ne=Se;ne<be;ne++)if(De=R[ne],Y)for(de=C[De],he=C[De+1],oe=de;oe<he;oe++)se=b[oe],pe[se]!==ar?(pe[se]=ar,ue.push(se),we[se]=X(N[ne],y[oe])):we[se]=S(we[se],X(N[ne],y[oe]));else for(de=C[De],he=C[De+1],oe=de;oe<he;oe++)se=b[oe],pe[se]!==ar&&(pe[se]=ar,ue.push(se));if(Y)for(var Ge=ee[Oe],xe=ue.length,Be=Ge;Be<xe;Be++){var or=ue[Be];Q[Be]=we[or]}}return ee[F]=ue.length,j}return e(Wo,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(x,y)=>{s(Re(x),Re(y));var b=w(r(x),r(y));return ge(b)?b.valueOf():b}),"Matrix, Matrix":function(x,y){var b=x.size(),C=y.size();return s(b,C),b.length===1?C.length===1?a(x,y,b[0]):u(x,y):C.length===1?h(x,y):v(x,y)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(x,y)=>w(x,r(y))),"Array, Matrix":e.referToSelf(w=>(x,y)=>w(r(x,y.storage()),y)),"SparseMatrix, any":function(x,y){return m(x,y,i,!1)},"DenseMatrix, any":function(x,y){return f(x,y,i,!1)},"any, SparseMatrix":function(x,y){return m(y,x,i,!0)},"any, DenseMatrix":function(x,y){return f(y,x,i,!0)},"Array, any":function(x,y){return f(r(x),y,i,!1).valueOf()},"any, Array":function(x,y){return f(r(y),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(x,y,b)=>{for(var C=w(x,y),T=0;T<b.length;T++)C=w(C,b[T]);return C})})});var eu="subtract",vl=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Si=L(eu,vl,t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:o,DenseMatrix:c}=t,m=fn({typed:e}),f=zr({typed:e}),s=Ko({typed:e,equalScalar:n}),a=cn({typed:e,DenseMatrix:c}),u=Pr({typed:e,DenseMatrix:c}),l=wr({typed:e,matrix:r});return e(eu,{"number, number":(h,v)=>h-v,"Complex, Complex":(h,v)=>h.sub(v),"BigNumber, BigNumber":(h,v)=>h.minus(v),"Fraction, Fraction":(h,v)=>h.sub(v),"Unit, Unit":e.referToSelf(h=>(v,p)=>{if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(p.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(p))throw new Error("Units do not match");var d=v.clone();return d.value=e.find(h,[d.valueType(),p.valueType()])(d.value,p.value),d.fixPrefix=!1,d})},l({SS:s,DS:m,SD:f,Ss:u,sS:a}))});var dl="matAlgo07xSSf",xl=["typed","DenseMatrix"],at=L(dl,xl,t=>{var{typed:e,DenseMatrix:r}=t;return function(o,c,m){var f=o._size,s=o._datatype,a=c._size,u=c._datatype;if(f.length!==a.length)throw new le(f.length,a.length);if(f[0]!==a[0]||f[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+a+")");var l=f[0],h=f[1],v,p=0,d=m;typeof s=="string"&&s===u&&(v=s,p=e.convert(0,v),d=e.find(m,[v,v]));var D,E,g=[];for(D=0;D<l;D++)g[D]=[];var A=[],w=[],x=[],y=[];for(E=0;E<h;E++){var b=E+1;for(n(o,E,x,A,b),n(c,E,y,w,b),D=0;D<l;D++){var C=x[D]===b?A[D]:p,T=y[D]===b?w[D]:p;g[D][E]=d(C,T)}}return new r({data:g,size:[l,h],datatype:v})};function n(i,o,c,m,f){for(var s=i._values,a=i._index,u=i._ptr,l=u[o],h=u[o+1];l<h;l++){var v=a[l];c[v]=f,m[v]=s[l]}}});var ru="conj",Dl=["typed"],Bi=L(ru,Dl,t=>{var{typed:e}=t;return e(ru,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>He(n,r))})});var tu="identity",gl=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ii=L(tu,gl,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:o,SparseMatrix:c}=t;return e(tu,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return f(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,u){return f(a,a,u)},"number | BigNumber, number | BigNumber":function(a,u){return f(a,u,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,u,l){return f(a,u,l)},Array:function(a){return m(a)},"Array, string":function(a,u){return m(a,u)},Matrix:function(a){return m(a.valueOf(),a.storage())},"Matrix, string":function(a,u){return m(a.valueOf(),u)}});function m(s,a){switch(s.length){case 0:return a?n(a):[];case 1:return f(s[0],s[0],a);case 2:return f(s[0],s[1],a);default:throw new Error("Vector containing two values expected")}}function f(s,a,u){var l=Ne(s)||Ne(a)?i:null;if(Ne(s)&&(s=s.toNumber()),Ne(a)&&(a=a.toNumber()),!ae(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!ae(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var h=l?new i(1):1,v=l?new l(0):0,p=[s,a];if(u){if(u==="sparse")return c.diagonal(p,h,0,v);if(u==="dense")return o.diagonal(p,h,0,v);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var d=Xr([],p,v),D=s<a?s:a,E=0;E<D;E++)d[E][E]=h;return d}});function nu(){throw new Error('No "bignumber" implementation available')}function iu(){throw new Error('No "fraction" implementation available')}function au(){throw new Error('No "matrix" implementation available')}var ou="size",El=["typed","config","?matrix"],Ri=L(ou,El,t=>{var{typed:e,config:r,matrix:n}=t;return e(ou,{Matrix:function(o){return o.create(o.size())},Array:Re,string:function(o){return r.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return r.matrix==="Array"?[]:n?n([]):au()}})});var uu="transpose",yl=["typed","matrix"],Li=L(uu,yl,t=>{var{typed:e,matrix:r}=t;return e(uu,{Array:c=>n(r(c)).valueOf(),Matrix:n,any:Ee});function n(c){var m=c.size(),f;switch(m.length){case 1:f=c.clone();break;case 2:{var s=m[0],a=m[1];if(a===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ye(m)+")");switch(c.storage()){case"dense":f=i(c,s,a);break;case"sparse":f=o(c,s,a);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ye(m)+")")}return f}function i(c,m,f){for(var s=c._data,a=[],u,l=0;l<f;l++){u=a[l]=[];for(var h=0;h<m;h++)u[h]=Ee(s[h][l])}return c.createDenseMatrix({data:a,size:[f,m],datatype:c._datatype})}function o(c,m,f){for(var s=c._values,a=c._index,u=c._ptr,l=s?[]:void 0,h=[],v=[],p=[],d=0;d<m;d++)p[d]=0;var D,E,g;for(D=0,E=a.length;D<E;D++)p[a[D]]++;for(var A=0,w=0;w<m;w++)v.push(A),A+=p[w],p[w]=v[w];for(v.push(A),g=0;g<f;g++)for(var x=u[g],y=u[g+1],b=x;b<y;b++){var C=p[a[b]]++;h[C]=g,s&&(l[C]=Ee(s[b]))}return c.createSparseMatrix({values:l,index:h,ptr:v,size:[f,m],datatype:c._datatype})}});var su="zeros",wl=["typed","config","matrix","BigNumber"],Oi=L(su,wl,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(su,{"":function(){return r.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(s){var a=s[s.length-1];if(typeof a=="string"){var u=s.pop();return o(s,u)}else return r.matrix==="Array"?o(s):o(s,"default")},Array:o,Matrix:function(s){var a=s.storage();return o(s.valueOf(),a)},"Array | Matrix, string":function(s,a){return o(s.valueOf(),a)}});function o(f,s){var a=c(f),u=a?new i(0):0;if(m(f),s){var l=n(s);return f.length>0?l.resize(f,u):l}else{var h=[];return f.length>0?Xr(h,f,u):h}}function c(f){var s=!1;return f.forEach(function(a,u,l){Ne(a)&&(s=!0,l[u]=a.toNumber())}),s}function m(f){f.forEach(function(s){if(typeof s!="number"||!ae(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});function ot(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+fr(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+fr(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var Al="numeric",Cl=["number","?bignumber","?fraction"],Pi=L(Al,Cl,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:c=>e(c),BigNumber:r?c=>r(c):nu,Fraction:n?c=>n(c):iu};return function(m){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=fr(m);if(!(a in i))throw new TypeError("Cannot convert "+m+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+m+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===a?m:o[f](m)}});var fu="divideScalar",bl=["typed","numeric"],zi=L(fu,bl,t=>{var{typed:e,numeric:r}=t;return e(fu,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var cu="pow",_l=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],ki=L(cu,_l,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:o,inv:c,number:m,fraction:f,Complex:s}=t;return e(cu,{"number, number":a,"Complex, Complex":function(v,p){return v.pow(p)},"BigNumber, BigNumber":function(v,p){return p.isInteger()||v>=0||r.predictable?v.pow(p):new s(v.toNumber(),0).pow(p.toNumber(),0)},"Fraction, Fraction":function(v,p){var d=v.pow(p);if(d!=null)return d;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(v.valueOf(),p.valueOf())},"Array, number":u,"Array, BigNumber":function(v,p){return u(v,p.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(v,p){return l(v,p.toNumber())},"Unit, number | BigNumber":function(v,p){return v.pow(p)}});function a(h,v){if(r.predictable&&!ae(v)&&h<0)try{var p=f(v),d=m(p);if((v===d||Math.abs((v-d)/v)<1e-14)&&p.d%2===1)return(p.n%2===0?1:-1)*Math.pow(-h,v)}catch{}return r.predictable&&(h<-1&&v===1/0||h>-1&&h<0&&v===-1/0)?NaN:ae(v)||h>=0||r.predictable?vi(h,v):h*h<1&&v===1/0||h*h>1&&v===-1/0?0:new s(h,0).pow(v,0)}function u(h,v){if(!ae(v))throw new TypeError("For A^b, b must be an integer (value is "+v+")");var p=Re(h);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(v<0)try{return u(c(h),-v)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+v+")"):E}for(var d=n(p[0]).valueOf(),D=h;v>=1;)(v&1)===1&&(d=i(D,d)),v>>=1,D=i(D,D);return d}function l(h,v){return o(u(h.valueOf(),v))}});function ut(t){var{DenseMatrix:e}=t;return function(n,i,o){var c=n.size();if(c.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ye(c)+")");var m=c[0],f=c[1];if(m!==f)throw new RangeError("Matrix must be square (size: "+ye(c)+")");var s=[];if(ge(i)){var a=i.size(),u=i._data;if(a.length===1){if(a[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<m;l++)s[l]=[u[l]];return new e({data:s,size:[m,1],datatype:i._datatype})}if(a.length===2){if(a[0]!==m||a[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Vt(i)){if(o){s=[];for(var h=0;h<m;h++)s[h]=[u[h][0]];return new e({data:s,size:[m,1],datatype:i._datatype})}return i}if(Ut(i)){for(var v=0;v<m;v++)s[v]=[0];for(var p=i._values,d=i._index,D=i._ptr,E=D[1],g=D[0];g<E;g++){var A=d[g];s[A][0]=p[g]}return new e({data:s,size:[m,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ae(i)){var w=Re(i);if(w.length===1){if(w[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<m;x++)s[x]=[i[x]];return new e({data:s,size:[m,1]})}if(w.length===2){if(w[0]!==m||w[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<m;y++)s[y]=[i[y][0]];return new e({data:s,size:[m,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var lu="lsolve",Tl=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],qi=L(lu,Tl,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:o,equalScalar:c,DenseMatrix:m}=t,f=ut({DenseMatrix:m});return e(lu,{"SparseMatrix, Array | Matrix":function(l,h){return a(l,h)},"DenseMatrix, Array | Matrix":function(l,h){return s(l,h)},"Array, Array | Matrix":function(l,h){var v=r(l),p=s(v,h);return p.valueOf()}});function s(u,l){l=f(u,l,!0);for(var h=l._data,v=u._size[0],p=u._size[1],d=[],D=u._data,E=0;E<p;E++){var g=h[E][0]||0,A=void 0;if(c(g,0))A=0;else{var w=D[E][E];if(c(w,0))throw new Error("Linear system cannot be solved since matrix is singular");A=n(g,w);for(var x=E+1;x<v;x++)h[x]=[o(h[x][0]||0,i(A,D[x][E]))]}d[E]=[A]}return new m({data:d,size:[v,1]})}function a(u,l){l=f(u,l,!0);for(var h=l._data,v=u._size[0],p=u._size[1],d=u._values,D=u._index,E=u._ptr,g=[],A=0;A<p;A++){var w=h[A][0]||0;if(c(w,0))g[A]=[0];else{for(var x=0,y=[],b=[],C=E[A],T=E[A+1],N=C;N<T;N++){var R=D[N];R===A?x=d[N]:R>A&&(y.push(d[N]),b.push(R))}if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(w,x),O=0,I=b.length;O<I;O++){var F=b[O];h[F]=[o(h[F][0]||0,i(q,y[O]))]}g[A]=[q]}}return new m({data:g,size:[v,1]})}});var pu="usolve",Ml=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Vi=L(pu,Ml,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:o,equalScalar:c,DenseMatrix:m}=t,f=ut({DenseMatrix:m});return e(pu,{"SparseMatrix, Array | Matrix":function(l,h){return a(l,h)},"DenseMatrix, Array | Matrix":function(l,h){return s(l,h)},"Array, Array | Matrix":function(l,h){var v=r(l),p=s(v,h);return p.valueOf()}});function s(u,l){l=f(u,l,!0);for(var h=l._data,v=u._size[0],p=u._size[1],d=[],D=u._data,E=p-1;E>=0;E--){var g=h[E][0]||0,A=void 0;if(c(g,0))A=0;else{var w=D[E][E];if(c(w,0))throw new Error("Linear system cannot be solved since matrix is singular");A=n(g,w);for(var x=E-1;x>=0;x--)h[x]=[o(h[x][0]||0,i(A,D[x][E]))]}d[E]=[A]}return new m({data:d,size:[v,1]})}function a(u,l){l=f(u,l,!0);for(var h=l._data,v=u._size[0],p=u._size[1],d=u._values,D=u._index,E=u._ptr,g=[],A=p-1;A>=0;A--){var w=h[A][0]||0;if(c(w,0))g[A]=[0];else{for(var x=0,y=[],b=[],C=E[A],T=E[A+1],N=T-1;N>=C;N--){var R=D[N];R===A?x=d[N]:R<A&&(y.push(d[N]),b.push(R))}if(c(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(w,x),O=0,I=b.length;O<I;O++){var F=b[O];h[F]=[o(h[F][0],i(q,y[O]))]}g[A]=[q]}}return new m({data:g,size:[v,1]})}});var ln="smaller",Fl=["typed","config","matrix","DenseMatrix"],Ui=L(ln,Fl,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=zr({typed:e}),c=at({typed:e,DenseMatrix:i}),m=Pr({typed:e,DenseMatrix:i}),f=wr({typed:e,matrix:n}),s=Or({typed:e});return e(ln,Nl({typed:e,config:r}),{"boolean, boolean":(a,u)=>a<u,"BigNumber, BigNumber":function(u,l){return u.lt(l)&&!Lr(u,l,r.epsilon)},"Fraction, Fraction":(a,u)=>a.compare(u)===-1,"Complex, Complex":function(u,l){throw new TypeError("No ordering relation is defined for complex numbers")}},s,f({SS:c,DS:o,Ss:m}))}),Nl=L(ln,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ln,{"number, number":function(i,o){return i<o&&!mr(i,o,r.epsilon)}})});var pn="larger",Sl=["typed","config","matrix","DenseMatrix"],Xi=L(pn,Sl,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=zr({typed:e}),c=at({typed:e,DenseMatrix:i}),m=Pr({typed:e,DenseMatrix:i}),f=wr({typed:e,matrix:n}),s=Or({typed:e});return e(pn,Bl({typed:e,config:r}),{"boolean, boolean":(a,u)=>a>u,"BigNumber, BigNumber":function(u,l){return u.gt(l)&&!Lr(u,l,r.epsilon)},"Fraction, Fraction":(a,u)=>a.compare(u)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,f({SS:c,DS:o,Ss:m}))}),Bl=L(pn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(pn,{"number, number":function(i,o){return i>o&&!mr(i,o,r.epsilon)}})});var mn="largerEq",Il=["typed","config","matrix","DenseMatrix"],Zi=L(mn,Il,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=zr({typed:e}),c=at({typed:e,DenseMatrix:i}),m=Pr({typed:e,DenseMatrix:i}),f=wr({typed:e,matrix:n}),s=Or({typed:e});return e(mn,Rl({typed:e,config:r}),{"boolean, boolean":(a,u)=>a>=u,"BigNumber, BigNumber":function(u,l){return u.gte(l)||Lr(u,l,r.epsilon)},"Fraction, Fraction":(a,u)=>a.compare(u)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},s,f({SS:c,DS:o,Ss:m}))}),Rl=L(mn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(mn,{"number, number":function(i,o){return i>=o||mr(i,o,r.epsilon)}})});var mu="max",Ll=["typed","config","numeric","larger"],Hi=L(mu,Ll,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(mu,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(f,s){return an(f,s.valueOf(),o)},"...":function(f){if(nn(f))throw new TypeError("Scalar values expected in function max");return c(f)}});function o(m,f){try{return i(m,f)?m:f}catch(s){throw ot(s,"max",f)}}function c(m){var f;if(At(m,function(s){try{isNaN(s)&&typeof s=="number"?f=NaN:(f===void 0||i(s,f))&&(f=s)}catch(a){throw ot(a,"max",s)}}),f===void 0)throw new Error("Cannot calculate max of an empty array");return typeof f=="string"&&(f=n(f,r.number)),f}});var hu="min",Ol=["typed","config","numeric","smaller"],Gi=L(hu,Ol,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(hu,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(f,s){return an(f,s.valueOf(),o)},"...":function(f){if(nn(f))throw new TypeError("Scalar values expected in function min");return c(f)}});function o(m,f){try{return i(m,f)?m:f}catch(s){throw ot(s,"min",f)}}function c(m){var f;if(At(m,function(s){try{isNaN(s)&&typeof s=="number"?f=NaN:(f===void 0||i(s,f))&&(f=s)}catch(a){throw ot(a,"min",s)}}),f===void 0)throw new Error("Cannot calculate min of an empty array");return typeof f=="string"&&(f=n(f,r.number)),f}});var Pl="FibonacciHeap",zl=["smaller","larger"],Yi=L(Pl,zl,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(a,u){var l={key:a,value:u,degree:0};if(this._minimum){var h=this._minimum;l.left=h,l.right=h.right,h.right=l,l.right.left=l,e(a,h.key)&&(this._minimum=l)}else l.left=l,l.right=l,this._minimum=l;return this._size++,l},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var a=this._minimum;if(a===null)return a;for(var u=this._minimum,l=a.degree,h=a.child;l>0;){var v=h.right;h.left.right=h.right,h.right.left=h.left,h.left=u,h.right=u.right,u.right=h,h.right.left=h,h.parent=null,h=v,l--}return a.left.right=a.right,a.right.left=a.left,a===a.right?u=null:(u=a.right,u=s(u,this._size)),this._size--,this._minimum=u,a},i.prototype.remove=function(a){this._minimum=o(this._minimum,a,-1),this.extractMinimum()};function o(a,u,l){u.key=l;var h=u.parent;return h&&e(u.key,h.key)&&(c(a,u,h),m(a,h)),e(u.key,a.key)&&(a=u),a}function c(a,u,l){u.left.right=u.right,u.right.left=u.left,l.degree--,l.child===u&&(l.child=u.right),l.degree===0&&(l.child=null),u.left=a,u.right=a.right,a.right=u,u.right.left=u,u.parent=null,u.mark=!1}function m(a,u){var l=u.parent;!l||(u.mark?(c(a,u,l),m(l)):u.mark=!0)}var f=function(u,l){u.left.right=u.right,u.right.left=u.left,u.parent=l,l.child?(u.left=l.child,u.right=l.child.right,l.child.right=u,u.right.left=u):(l.child=u,u.right=u,u.left=u),l.degree++,u.mark=!1};function s(a,u){var l=Math.floor(Math.log(u)*n)+1,h=new Array(l),v=0,p=a;if(p)for(v++,p=p.right;p!==a;)v++,p=p.right;for(var d;v>0;){for(var D=p.degree,E=p.right;d=h[D],!!d;){if(r(p.key,d.key)){var g=d;d=p,p=g}f(d,p),h[D]=null,D++}h[D]=p,p=E,v--}a=null;for(var A=0;A<l;A++)d=h[A],d&&(a?(d.left.right=d.right,d.right.left=d.left,d.left=a,d.right=a.right,a.right=d,d.right.left=d,e(d.key,a.key)&&(a=d)):a=d);return a}return i},{isClass:!0});var kl="Spa",ql=["addScalar","equalScalar","FibonacciHeap"],$i=L(kl,ql,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(o,c){if(this._values[o])this._values[o].value=c;else{var m=this._heap.insert(o,c);this._values[o]=m}},i.prototype.get=function(o){var c=this._values[o];return c?c.value:0},i.prototype.accumulate=function(o,c){var m=this._values[o];m?m.value=e(m.value,c):(m=this._heap.insert(o,c),this._values[o]=m)},i.prototype.forEach=function(o,c,m){var f=this._heap,s=this._values,a=[],u=f.extractMinimum();for(u&&a.push(u);u&&u.key<=c;)u.key>=o&&(r(u.value,0)||m(u.key,u.value,this)),u=f.extractMinimum(),u&&a.push(u);for(var l=0;l<a.length;l++){var h=a[l];u=f.insert(h.key,h.value),s[u.key]=u}},i.prototype.swap=function(o,c){var m=this._values[o],f=this._values[c];if(!m&&f)m=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=m,this._values[c]=void 0;else if(m&&!f)f=this._heap.insert(c,m.value),this._heap.remove(m),this._values[c]=f,this._values[o]=void 0;else if(m&&f){var s=m.value;m.value=f.value,f.value=s}},i},{isClass:!0});var vu="add",Vl=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],Qi=L(vu,Vl,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:c}=t,m=fn({typed:e}),f=Jo({typed:e,equalScalar:i}),s=cn({typed:e,DenseMatrix:o}),a=wr({typed:e,matrix:r});return e(vu,{"any, any":n,"any, any, ...any":e.referToSelf(u=>(l,h,v)=>{for(var p=u(l,h),d=0;d<v.length;d++)p=u(p,v[d]);return p})},a({elop:n,DS:m,SS:f,Ss:s}))});var du="dot",Ul=["typed","addScalar","multiplyScalar","conj","size"],Ji=L(du,Ul,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:o}=t;return e(du,{"Array | DenseMatrix, Array | DenseMatrix":m,"SparseMatrix, SparseMatrix":f});function c(a,u){var l=s(a),h=s(u),v,p;if(l.length===1)v=l[0];else if(l.length===2&&l[1]===1)v=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(h.length===1)p=h[0];else if(h.length===2&&h[1]===1)p=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(v!==p)throw new RangeError("Vectors must have equal length ("+v+" != "+p+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function m(a,u){var l=c(a,u),h=ge(a)?a._data:a,v=ge(a)?a._datatype:void 0,p=ge(u)?u._data:u,d=ge(u)?u._datatype:void 0,D=s(a).length===2,E=s(u).length===2,g=r,A=n;if(v&&d&&v===d&&typeof v=="string"){var w=v;g=e.find(r,[w,w]),A=e.find(n,[w,w])}if(!D&&!E){for(var x=A(i(h[0]),p[0]),y=1;y<l;y++)x=g(x,A(i(h[y]),p[y]));return x}if(!D&&E){for(var b=A(i(h[0]),p[0][0]),C=1;C<l;C++)b=g(b,A(i(h[C]),p[C][0]));return b}if(D&&!E){for(var T=A(i(h[0][0]),p[0]),N=1;N<l;N++)T=g(T,A(i(h[N][0]),p[N]));return T}if(D&&E){for(var R=A(i(h[0][0]),p[0][0]),q=1;q<l;q++)R=g(R,A(i(h[q][0]),p[q][0]));return R}}function f(a,u){c(a,u);for(var l=a._index,h=a._values,v=u._index,p=u._values,d=0,D=r,E=n,g=0,A=0;g<l.length&&A<v.length;){var w=l[g],x=v[A];if(w<x){g++;continue}if(w>x){A++;continue}w===x&&(d=D(d,E(h[g],p[A])),g++,A++)}return d}function s(a){return ge(a)?a.size():o(a)}});var xu="lup",Xl=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ji=L(xu,Xl,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:o,multiplyScalar:c,subtract:m,larger:f,equalScalar:s,unaryMinus:a,DenseMatrix:u,SparseMatrix:l,Spa:h}=t;return e(xu,{DenseMatrix:function(D){return v(D)},SparseMatrix:function(D){return p(D)},Array:function(D){var E=r(D),g=v(E);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function v(d){var D=d._size[0],E=d._size[1],g=Math.min(D,E),A=Ee(d._data),w=[],x=[D,g],y=[],b=[g,E],C,T,N,R=[];for(C=0;C<D;C++)R[C]=C;for(T=0;T<E;T++){if(T>0)for(C=0;C<D;C++){var q=Math.min(C,T),O=0;for(N=0;N<q;N++)O=i(O,c(A[C][N],A[N][T]));A[C][T]=m(A[C][T],O)}var I=T,F=0,Y=0;for(C=T;C<D;C++){var U=A[C][T],S=n(U);f(S,F)&&(I=C,F=S,Y=U)}if(T!==I&&(R[T]=[R[I],R[I]=R[T]][0],u._swapRows(T,I,A)),T<D)for(C=T+1;C<D;C++){var X=A[C][T];s(X,0)||(A[C][T]=o(A[C][T],Y))}}for(T=0;T<E;T++)for(C=0;C<D;C++){if(T===0&&(C<E&&(y[C]=[]),w[C]=[]),C<T){C<E&&(y[C][T]=A[C][T]),T<D&&(w[C][T]=0);continue}if(C===T){C<E&&(y[C][T]=A[C][T]),T<D&&(w[C][T]=1);continue}C<E&&(y[C][T]=0),T<D&&(w[C][T]=A[C][T])}var Q=new u({data:w,size:x}),ue=new u({data:y,size:b}),ee=[];for(C=0,g=R.length;C<g;C++)ee[R[C]]=C;return{L:Q,U:ue,p:ee,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function p(d){var D=d._size[0],E=d._size[1],g=Math.min(D,E),A=d._values,w=d._index,x=d._ptr,y=[],b=[],C=[],T=[D,g],N=[],R=[],q=[],O=[g,E],I,F,Y,U=[],S=[];for(I=0;I<D;I++)U[I]=I,S[I]=I;var X=function(ee,j){var we=S[ee],pe=S[j];U[we]=j,U[pe]=ee,S[ee]=pe,S[j]=we},Q=function(){var ee=new h;F<D&&(C.push(y.length),y.push(1),b.push(F)),q.push(N.length);var j=x[F],we=x[F+1];for(Y=j;Y<we;Y++)I=w[Y],ee.set(U[I],A[Y]);F>0&&ee.forEach(0,F-1,function(he,ne){l._forEachRow(he,y,b,C,function(Se,be){Se>he&&ee.accumulate(Se,a(c(be,ne)))})});var pe=F,oe=ee.get(F),de=n(oe);ee.forEach(F+1,D-1,function(he,ne){var Se=n(ne);f(Se,de)&&(pe=he,de=Se,oe=ne)}),F!==pe&&(l._swapRows(F,pe,T[1],y,b,C),l._swapRows(F,pe,O[1],N,R,q),ee.swap(F,pe),X(F,pe)),ee.forEach(0,D-1,function(he,ne){he<=F?(N.push(ne),R.push(he)):(ne=o(ne,oe),s(ne,0)||(y.push(ne),b.push(he)))})};for(F=0;F<E;F++)Q();return q.push(N.length),C.push(y.length),{L:new l({values:y,index:b,ptr:C,size:T}),U:new l({values:N,index:R,ptr:q,size:O}),p:U,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function Du(t,e,r,n){for(var i=t._values,o=t._index,c=t._ptr,m=t._size,f=t._datatype,s=m[0],a=m[1],u=n&&t._values?[]:null,l=[],h=[],v=0,p=0;p<a;p++){h[p]=v;for(var d=r?r[p]:p,D=c[d],E=c[d+1],g=D;g<E;g++){var A=e?e[o[g]]:o[g];l[v]=A,u&&(u[v]=i[g]),v++}}return h[a]=v,t.createSparseMatrix({values:u,index:l,ptr:h,size:[s,a],datatype:f})}function hn(t,e,r,n,i,o,c){var m=0;for(r[c]=t;m>=0;){var f=r[c+m],s=r[n+f];s===-1?(m--,o[e++]=f):(r[n+f]=r[i+s],++m,r[c+m]=s)}return e}function gu(t,e){if(!t)return null;var r=0,n,i=[],o=[],c=0,m=e,f=2*e;for(n=0;n<e;n++)o[c+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(o[m+n]=o[c+t[n]],o[c+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=hn(n,r,o,c,m,i,f));return i}function Eu(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,o=i[0],c=i[1],m=[],f=[],s=0,a=c,u,l;if(e)for(u=0;u<o;u++)f[a+u]=-1;for(var h=0;h<c;h++){m[h]=-1,f[s+h]=-1;for(var v=n[h],p=n[h+1],d=v;d<p;d++){var D=r[d];for(u=e?f[a+D]:D;u!==-1&&u<h;u=l)l=f[s+u],f[s+u]=h,l===-1&&(m[u]=h);e&&(f[a+D]=h)}}return m}function yu(t,e,r){for(var n=t._values,i=t._index,o=t._ptr,c=t._size,m=c[1],f=0,s=0;s<m;s++){var a=o[s];for(o[s]=f;a<o[s+1];a++)e(i[a],s,n?n[a]:1,r)&&(i[f]=i[a],n&&(n[f]=n[a]),f++)}return o[m]=f,i.splice(f,i.length-f),n&&n.splice(f,n.length-f),f}function xr(t){return-t-2}var Zl="csAmd",Hl=["add","multiply","transpose"],wu=L(Zl,Hl,t=>{var{add:e,multiply:r,transpose:n}=t;return function(a,u){if(!u||a<=0||a>3)return null;var l=u._size,h=l[0],v=l[1],p=0,d=Math.max(16,10*Math.sqrt(v));d=Math.min(v-2,d);var D=i(a,u,h,v,d);yu(D,f,null);for(var E=D._index,g=D._ptr,A=g[v],w=[],x=[],y=0,b=v+1,C=2*(v+1),T=3*(v+1),N=4*(v+1),R=5*(v+1),q=6*(v+1),O=7*(v+1),I=w,F=o(v,g,x,y,T,I,C,O,b,q,N,R),Y=c(v,g,x,R,N,q,d,b,T,I,C),U=0,S,X,Q,ue,ee,j,we,pe,oe,de,he,ne,Se,be,se,De;Y<v;){for(Q=-1;U<v&&(Q=x[T+U])===-1;U++);x[C+Q]!==-1&&(I[x[C+Q]]=-1),x[T+U]=x[C+Q];var Oe=x[N+Q],ar=x[b+Q];Y+=ar;var Ge=0;x[b+Q]=-ar;var xe=g[Q],Be=Oe===0?xe:A,or=Be;for(ue=1;ue<=Oe+1;ue++){for(ue>Oe?(j=Q,we=xe,pe=x[y+Q]-Oe):(j=E[xe++],we=g[j],pe=x[y+j]),ee=1;ee<=pe;ee++)S=E[we++],!((oe=x[b+S])<=0)&&(Ge+=oe,x[b+S]=-oe,E[or++]=S,x[C+S]!==-1&&(I[x[C+S]]=I[S]),I[S]!==-1?x[C+I[S]]=x[C+S]:x[T+x[R+S]]=x[C+S]);j!==Q&&(g[j]=xr(Q),x[q+j]=0)}for(Oe!==0&&(A=or),x[R+Q]=Ge,g[Q]=Be,x[y+Q]=or-Be,x[N+Q]=-2,F=m(F,p,x,q,v),de=Be;de<or;de++)if(S=E[de],!((he=x[N+S])<=0)){oe=-x[b+S];var Bn=F-oe;for(xe=g[S],ne=g[S]+he-1;xe<=ne;xe++)j=E[xe],x[q+j]>=F?x[q+j]-=oe:x[q+j]!==0&&(x[q+j]=x[R+j]+Bn)}for(de=Be;de<or;de++){for(S=E[de],ne=g[S],Se=ne+x[N+S]-1,be=ne,se=0,De=0,xe=ne;xe<=Se;xe++)if(j=E[xe],x[q+j]!==0){var Ft=x[q+j]-F;Ft>0?(De+=Ft,E[be++]=j,se+=j):(g[j]=xr(Q),x[q+j]=0)}x[N+S]=be-ne+1;var Nt=be,St=ne+x[y+S];for(xe=Se+1;xe<St;xe++){X=E[xe];var ft=x[b+X];ft<=0||(De+=ft,E[be++]=X,se+=X)}De===0?(g[S]=xr(Q),oe=-x[b+S],Ge-=oe,ar+=oe,Y+=oe,x[b+S]=0,x[N+S]=-1):(x[R+S]=Math.min(x[R+S],De),E[be]=E[Nt],E[Nt]=E[ne],E[ne]=Q,x[y+S]=be-ne+1,se=(se<0?-se:se)%v,x[C+S]=x[O+se],x[O+se]=S,I[S]=se)}for(x[R+Q]=Ge,p=Math.max(p,Ge),F=m(F+p,p,x,q,v),de=Be;de<or;de++)if(S=E[de],!(x[b+S]>=0))for(se=I[S],S=x[O+se],x[O+se]=-1;S!==-1&&x[C+S]!==-1;S=x[C+S],F++){for(pe=x[y+S],he=x[N+S],xe=g[S]+1;xe<=g[S]+pe-1;xe++)x[q+E[xe]]=F;var ct=S;for(X=x[C+S];X!==-1;){var Gr=x[y+X]===pe&&x[N+X]===he;for(xe=g[X]+1;Gr&&xe<=g[X]+pe-1;xe++)x[q+E[xe]]!==F&&(Gr=0);Gr?(g[X]=xr(S),x[b+S]+=x[b+X],x[b+X]=0,x[N+X]=-1,X=x[C+X],x[C+ct]=X):(ct=X,X=x[C+X])}}for(xe=Be,de=Be;de<or;de++)S=E[de],!((oe=-x[b+S])<=0)&&(x[b+S]=oe,De=x[R+S]+Ge-oe,De=Math.min(De,v-Y-oe),x[T+De]!==-1&&(I[x[T+De]]=S),x[C+S]=x[T+De],I[S]=-1,x[T+De]=S,U=Math.min(U,De),x[R+S]=De,E[xe++]=S);x[b+Q]=ar,(x[y+Q]=xe-Be)===0&&(g[Q]=-1,x[q+Q]=0),Oe!==0&&(A=xe)}for(S=0;S<v;S++)g[S]=xr(g[S]);for(X=0;X<=v;X++)x[T+X]=-1;for(X=v;X>=0;X--)x[b+X]>0||(x[C+X]=x[T+g[X]],x[T+g[X]]=X);for(j=v;j>=0;j--)x[b+j]<=0||g[j]!==-1&&(x[C+j]=x[T+g[j]],x[T+g[j]]=j);for(Q=0,S=0;S<=v;S++)g[S]===-1&&(Q=hn(S,Q,x,T,C,w,q));return w.splice(w.length-1,1),w};function i(s,a,u,l,h){var v=n(a);if(s===1&&l===u)return e(a,v);if(s===2){for(var p=v._index,d=v._ptr,D=0,E=0;E<u;E++){var g=d[E];if(d[E]=D,!(d[E+1]-g>h))for(var A=d[E+1];g<A;g++)p[D++]=p[g]}return d[u]=D,a=n(v),r(v,a)}return r(v,a)}function o(s,a,u,l,h,v,p,d,D,E,g,A){for(var w=0;w<s;w++)u[l+w]=a[w+1]-a[w];u[l+s]=0;for(var x=0;x<=s;x++)u[h+x]=-1,v[x]=-1,u[p+x]=-1,u[d+x]=-1,u[D+x]=1,u[E+x]=1,u[g+x]=0,u[A+x]=u[l+x];var y=m(0,0,u,E,s);return u[g+s]=-2,a[s]=-1,u[E+s]=0,y}function c(s,a,u,l,h,v,p,d,D,E,g){for(var A=0,w=0;w<s;w++){var x=u[l+w];if(x===0)u[h+w]=-2,A++,a[w]=-1,u[v+w]=0;else if(x>p)u[d+w]=0,u[h+w]=-1,A++,a[w]=xr(s),u[d+s]++;else{var y=u[D+x];y!==-1&&(E[y]=w),u[g+w]=u[D+x],u[D+x]=w}}return A}function m(s,a,u,l,h){if(s<2||s+a<0){for(var v=0;v<h;v++)u[l+v]!==0&&(u[l+v]=1);s=2}return s}function f(s,a){return s!==a}});function Au(t,e,r,n,i,o,c){var m,f,s=0,a;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var u=r[o+t];if(r[o+t]=e,u===-1)s=1,a=t;else{for(s=2,a=u;a!==r[c+a];a=r[c+a]);for(m=u;m!==a;m=f)f=r[c+m],r[c+m]=a}return{jleaf:s,q:a}}var Gl="csCounts",Yl=["transpose"],Cu=L(Gl,Yl,t=>{var{transpose:e}=t;return function(r,n,i,o){if(!r||!n||!i)return null;var c=r._size,m=c[0],f=c[1],s,a,u,l,h,v,p,d=4*f+(o?f+m+1:0),D=[],E=0,g=f,A=2*f,w=3*f,x=4*f,y=5*f+1;for(u=0;u<d;u++)D[u]=-1;var b=[],C=e(r),T=C._index,N=C._ptr;for(u=0;u<f;u++)for(a=i[u],b[a]=D[w+a]===-1?1:0;a!==-1&&D[w+a]===-1;a=n[a])D[w+a]=u;if(o){for(u=0;u<f;u++)D[i[u]]=u;for(s=0;s<m;s++){for(u=f,v=N[s],p=N[s+1],h=v;h<p;h++)u=Math.min(u,D[T[h]]);D[y+s]=D[x+u],D[x+u]=s}}for(s=0;s<f;s++)D[E+s]=s;for(u=0;u<f;u++){for(a=i[u],n[a]!==-1&&b[n[a]]--,l=o?D[x+u]:a;l!==-1;l=o?D[y+l]:-1)for(h=N[l];h<N[l+1];h++){s=T[h];var R=Au(s,a,D,w,g,A,E);R.jleaf>=1&&b[a]++,R.jleaf===2&&b[R.q]--}n[a]!==-1&&(D[E+a]=n[a])}for(a=0;a<f;a++)n[a]!==-1&&(b[n[a]]+=b[a]);return b}});var $l="csSqr",Ql=["add","multiply","transpose"],bu=L($l,Ql,t=>{var{add:e,multiply:r,transpose:n}=t,i=wu({add:e,multiply:r,transpose:n}),o=Cu({transpose:n});return function(f,s,a){var u=s._ptr,l=s._size,h=l[1],v,p={};if(p.q=i(f,s),f&&!p.q)return null;if(a){var d=f?Du(s,null,p.q,0):s;p.parent=Eu(d,1);var D=gu(p.parent,h);if(p.cp=o(d,p.parent,D,1),d&&p.parent&&p.cp&&c(d,p))for(p.unz=0,v=0;v<h;v++)p.unz+=p.cp[v]}else p.unz=4*u[h]+h,p.lnz=p.unz;return p};function c(m,f){var s=m._ptr,a=m._index,u=m._size,l=u[0],h=u[1];f.pinv=[],f.leftmost=[];var v=f.parent,p=f.pinv,d=f.leftmost,D=[],E=0,g=l,A=l+h,w=l+2*h,x,y,b,C,T;for(y=0;y<h;y++)D[g+y]=-1,D[A+y]=-1,D[w+y]=0;for(x=0;x<l;x++)d[x]=-1;for(y=h-1;y>=0;y--)for(C=s[y],T=s[y+1],b=C;b<T;b++)d[a[b]]=y;for(x=l-1;x>=0;x--)p[x]=-1,y=d[x],y!==-1&&(D[w+y]++===0&&(D[A+y]=x),D[E+x]=D[g+y],D[g+y]=x);for(f.lnz=0,f.m2=l,y=0;y<h;y++)if(x=D[g+y],f.lnz++,x<0&&(x=f.m2++),p[x]=y,!(--w[y]<=0)){f.lnz+=D[w+y];var N=v[y];N!==-1&&(D[w+N]===0&&(D[A+N]=D[A+y]),D[E+D[A+y]]=D[g+N],D[g+N]=D[E+x],D[w+N]+=D[w+y])}for(x=0;x<l;x++)p[x]<0&&(p[x]=y++);return!0}});function bt(t,e){return t[e]<0}function vn(t,e){t[e]=xr(t[e])}function Ki(t){return t<0?xr(t):t}function _u(t,e,r,n,i){var o=e._index,c=e._ptr,m=e._size,f=m[1],s,a,u,l=0;for(n[0]=t;l>=0;){t=n[l];var h=i?i[t]:t;bt(c,t)||(vn(c,t),n[f+l]=h<0?0:Ki(c[h]));var v=1;for(a=n[f+l],u=h<0?0:Ki(c[h+1]);a<u;a++)if(s=o[a],!bt(c,s)){n[f+l]=a,n[++l]=s,v=0;break}v&&(l--,n[--r]=t)}return r}function Tu(t,e,r,n,i){var o=t._ptr,c=t._size,m=e._index,f=e._ptr,s=c[1],a,u,l,h=s;for(u=f[r],l=f[r+1],a=u;a<l;a++){var v=m[a];bt(o,v)||(h=_u(v,t,h,n,i))}for(a=h;a<s;a++)vn(o,n[a]);return h}var Jl="csSpsolve",jl=["divideScalar","multiply","subtract"],Mu=L(Jl,jl,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(o,c,m,f,s,a,u){var l=o._values,h=o._index,v=o._ptr,p=o._size,d=p[1],D=c._values,E=c._index,g=c._ptr,A,w,x,y,b=Tu(o,c,m,f,a);for(A=b;A<d;A++)s[f[A]]=0;for(w=g[m],x=g[m+1],A=w;A<x;A++)s[E[A]]=D[A];for(var C=b;C<d;C++){var T=f[C],N=a?a[T]:T;if(!(N<0))for(w=v[N],x=v[N+1],s[T]=e(s[T],l[u?w:x-1]),A=u?w+1:w,y=u?x:x-1;A<y;A++){var R=h[A];s[R]=n(s[R],r(l[A],s[T]))}}return b}});var Kl="csLu",Wl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Fu=L(Kl,Wl,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:o,largerEq:c,SparseMatrix:m}=t,f=Mu({divideScalar:r,multiply:n,subtract:i});return function(a,u,l){if(!a)return null;var h=a._size,v=h[1],p,d=100,D=100;u&&(p=u.q,d=u.lnz||d,D=u.unz||D);var E=[],g=[],A=[],w=new m({values:E,index:g,ptr:A,size:[v,v]}),x=[],y=[],b=[],C=new m({values:x,index:y,ptr:b,size:[v,v]}),T=[],N,R,q=[],O=[];for(N=0;N<v;N++)q[N]=0,T[N]=-1,A[N+1]=0;d=0,D=0;for(var I=0;I<v;I++){A[I]=d,b[I]=D;var F=p?p[I]:I,Y=f(w,a,F,O,q,T,1),U=-1,S=-1;for(R=Y;R<v;R++)if(N=O[R],T[N]<0){var X=e(q[N]);o(X,S)&&(S=X,U=N)}else y[D]=T[N],x[D++]=q[N];if(U===-1||S<=0)return null;T[F]<0&&c(e(q[F]),n(S,l))&&(U=F);var Q=q[U];for(y[D]=I,x[D++]=Q,T[U]=I,g[d]=U,E[d++]=1,R=Y;R<v;R++)N=O[R],T[N]<0&&(g[d]=N,E[d++]=r(q[N],Q)),q[N]=0}for(A[v]=d,b[v]=D,R=0;R<d;R++)g[R]=T[g[R]];return E.splice(d,E.length-d),g.splice(d,g.length-d),x.splice(D,x.length-D),y.splice(D,y.length-D),{L:w,U:C,pinv:T}}});var Nu="slu",ep=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Wi=L(Nu,ep,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:o,divideScalar:c,subtract:m,larger:f,largerEq:s,SparseMatrix:a}=t,u=bu({add:n,multiply:i,transpose:o}),l=Fu({abs:r,divideScalar:c,multiply:i,subtract:m,larger:f,largerEq:s,SparseMatrix:a});return e(Nu,{"SparseMatrix, number, number":function(v,p,d){if(!ae(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(d<0||d>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var D=u(p,v,!1),E=l(v,D,d);return{L:E.L,U:E.U,p:E.pinv,q:D.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ea(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var Su="lusolve",rp=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],ra=L(Su,rp,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:o,lsolve:c,DenseMatrix:m}=t,f=ut({DenseMatrix:m});return e(Su,{"Array, Array | Matrix":function(l,h){l=r(l);var v=n(l),p=a(v.L,v.U,v.p,null,h);return p.valueOf()},"DenseMatrix, Array | Matrix":function(l,h){var v=n(l);return a(v.L,v.U,v.p,null,h)},"SparseMatrix, Array | Matrix":function(l,h){var v=n(l);return a(v.L,v.U,v.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(l,h,v,p){var d=i(l,v,p);return a(d.L,d.U,d.p,d.q,h)},"Object, Array | Matrix":function(l,h){return a(l.L,l.U,l.p,l.q,h)}});function s(u){if(ge(u))return u;if(Ae(u))return r(u);throw new TypeError("Invalid Matrix LU decomposition")}function a(u,l,h,v,p){u=s(u),l=s(l),h&&(p=f(u,p,!0),p._data=ea(h,p._data));var d=c(u,p),D=o(l,d);return v&&(D._data=ea(v,D._data)),D}});var Bu="det",tp=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],ta=L(Bu,tp,t=>{var{typed:e,matrix:r,subtract:n,multiply:i,divideScalar:o,isZero:c,unaryMinus:m}=t;return e(Bu,{any:function(a){return Ee(a)},"Array | Matrix":function(a){var u;switch(ge(a)?u=a.size():Array.isArray(a)?(a=r(a),u=a.size()):u=[],u.length){case 0:return Ee(a);case 1:if(u[0]===1)return Ee(a.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+ye(u)+")");case 2:{var l=u[0],h=u[1];if(l===h)return f(a.clone().valueOf(),l,h);throw new RangeError("Matrix must be square (size: "+ye(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ye(u)+")")}}});function f(s,a,u){if(a===1)return Ee(s[0][0]);if(a===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var l=!1,h=new Array(a).fill(0).map((y,b)=>b),v=0;v<a;v++){var p=h[v];if(c(s[p][v])){var d=void 0;for(d=v+1;d<a;d++)if(!c(s[h[d]][v])){p=h[d],h[d]=h[v],h[v]=p,l=!l;break}if(d===a)return s[p][v]}for(var D=s[p][v],E=v===0?1:s[h[v-1]][v-1],g=v+1;g<a;g++)for(var A=h[g],w=v+1;w<a;w++)s[A][w]=o(n(i(s[A][w],D),i(s[A][v],s[p][w])),E)}var x=s[h[a-1]][a-1];return l?m(x):x}});var Iu="inv",np=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],na=L(Iu,np,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:o,unaryMinus:c,det:m,identity:f,abs:s}=t;return e(Iu,{"Array | Matrix":function(l){var h=ge(l)?l.size():Re(l);switch(h.length){case 1:if(h[0]===1)return ge(l)?r([n(1,l.valueOf()[0])]):[n(1,l[0])];throw new RangeError("Matrix must be square (size: "+ye(h)+")");case 2:{var v=h[0],p=h[1];if(v===p)return ge(l)?r(a(l.valueOf(),v,p),l.storage()):a(l,v,p);throw new RangeError("Matrix must be square (size: "+ye(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ye(h)+")")}},any:function(l){return n(1,l)}});function a(u,l,h){var v,p,d,D,E;if(l===1){if(D=u[0][0],D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,D)]]}else if(l===2){var g=m(u);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(u[1][1],g),n(c(u[0][1]),g)],[n(c(u[1][0]),g),n(u[0][0],g)]]}else{var A=u.concat();for(v=0;v<l;v++)A[v]=A[v].concat();for(var w=f(l).valueOf(),x=0;x<h;x++){var y=s(A[x][x]),b=x;for(v=x+1;v<l;)s(A[v][x])>y&&(y=s(A[v][x]),b=v),v++;if(y===0)throw Error("Cannot calculate inverse, determinant is zero");v=b,v!==x&&(E=A[x],A[x]=A[v],A[v]=E,E=w[x],w[x]=w[v],w[v]=E);var C=A[x],T=w[x];for(v=0;v<l;v++){var N=A[v],R=w[v];if(v!==x){if(N[x]!==0){for(d=n(c(N[x]),C[x]),p=x;p<h;p++)N[p]=i(N[p],o(d,C[p]));for(p=0;p<h;p++)R[p]=i(R[p],o(d,T[p]))}}else{for(d=C[x],p=x;p<h;p++)N[p]=n(N[p],d);for(p=0;p<h;p++)R[p]=n(R[p],d)}}}return w}}});var ip="divide",ap=["typed","matrix","multiply","equalScalar","divideScalar","inv"],ia=L(ip,ap,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:o,inv:c}=t,m=sn({typed:e,equalScalar:i}),f=it({typed:e});return e("divide",Xt({"Array | Matrix, Array | Matrix":function(a,u){return n(a,c(u))},"DenseMatrix, any":function(a,u){return f(a,u,o,!1)},"SparseMatrix, any":function(a,u){return m(a,u,o,!1)},"Array, any":function(a,u){return f(r(a),u,o,!1).valueOf()},"any, Array | Matrix":function(a,u){return n(a,c(u))}},o.signatures))});var Ru="combinations",op=["typed"],aa=L(Ru,op,t=>{var{typed:e}=t;return e(Ru,{"number, number":di,"BigNumber, BigNumber":function(n,i){var o=n.constructor,c,m,f=n.minus(i),s=new o(1);if(!Lu(n)||!Lu(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(c=s,i.lt(f))for(m=s;m.lte(f);m=m.plus(s))c=c.times(i.plus(m)).dividedBy(m);else for(m=s;m.lte(i);m=m.plus(s))c=c.times(f.plus(m)).dividedBy(m);return c}})});function Lu(t){return t.isInteger()&&t.gte(0)}var dn=ii({config:cr}),oa=oi({});var Ou=si({});var ua=fi({});var hr=ci({Matrix:ua});var me=Jn({BigNumber:dn,Complex:oa,DenseMatrix:hr,Fraction:Ou});var sa=Ti({typed:me});var Zr=Mi({typed:me});var up=wi({BigNumber:dn,typed:me});var Pu=aa({typed:me}),zu=Ai({Complex:oa,typed:me}),sp=Bi({typed:me});var Tr=gi({config:cr,typed:me});var fp=Di({typed:me});var _t=Fi({typed:me});var ku=yi({typed:me});var Tt=Ei({Matrix:ua,equalScalar:Tr,typed:me});var xn=_i({typed:me});var qu=Ci({Fraction:Ou,typed:me});var Ve=bi({DenseMatrix:hr,Matrix:ua,SparseMatrix:Tt,typed:me});var fa=Pi({bignumber:up,fraction:qu,number:ku});var cp=Ri({matrix:Ve,config:cr,typed:me}),Vu=Ui({DenseMatrix:hr,config:cr,matrix:Ve,typed:me});var Mr=Si({DenseMatrix:hr,addScalar:Zr,equalScalar:Tr,matrix:Ve,typed:me,unaryMinus:xn});var ca=Li({matrix:Ve,typed:me});var Uu=Oi({BigNumber:dn,config:cr,matrix:Ve,typed:me});var Hr=zi({numeric:fa,typed:me});var lp=Zi({DenseMatrix:hr,config:cr,matrix:Ve,typed:me});var pp=qi({DenseMatrix:hr,divideScalar:Hr,equalScalar:Tr,matrix:Ve,multiplyScalar:_t,subtract:Mr,typed:me});var Xu=Gi({config:cr,numeric:fa,smaller:Vu,typed:me});var mp=Vi({DenseMatrix:hr,divideScalar:Hr,equalScalar:Tr,matrix:Ve,multiplyScalar:_t,subtract:Mr,typed:me});var Mt=Qi({DenseMatrix:hr,SparseMatrix:Tt,addScalar:Zr,equalScalar:Tr,matrix:Ve,typed:me});var hp=Ji({addScalar:Zr,conj:sp,multiplyScalar:_t,size:cp,typed:me});var Zu=Ii({BigNumber:dn,DenseMatrix:hr,SparseMatrix:Tt,config:cr,matrix:Ve,typed:me});var Dn=Xi({DenseMatrix:hr,config:cr,matrix:Ve,typed:me});var Dr=Ni({addScalar:Zr,dot:hp,equalScalar:Tr,matrix:Ve,multiplyScalar:_t,typed:me});var vp=Wi({SparseMatrix:Tt,abs:sa,add:Mt,divideScalar:Hr,larger:Dn,largerEq:lp,multiply:Dr,subtract:Mr,transpose:ca,typed:me});var gn=ta({divideScalar:Hr,isZero:fp,matrix:Ve,multiply:Dr,subtract:Mr,typed:me,unaryMinus:xn});var dp=Yi({larger:Dn,smaller:Vu});var Hu=Hi({config:cr,larger:Dn,numeric:fa,typed:me});var En=na({abs:sa,addScalar:Zr,det:gn,divideScalar:Hr,identity:Zu,matrix:Ve,multiply:Dr,typed:me,unaryMinus:xn});var yn=ki({Complex:oa,config:cr,fraction:qu,identity:Zu,inv:En,matrix:Ve,multiply:Dr,number:ku,typed:me});var xp=$i({FibonacciHeap:dp,addScalar:Zr,equalScalar:Tr});var Gu=ia({divideScalar:Hr,equalScalar:Tr,inv:En,matrix:Ve,multiply:Dr,typed:me});var Dp=ji({DenseMatrix:hr,Spa:xp,SparseMatrix:Tt,abs:sa,addScalar:Zr,divideScalar:Hr,equalScalar:Tr,larger:Dn,matrix:Ve,multiplyScalar:_t,subtract:Mr,typed:me,unaryMinus:xn});var Yu=ra({DenseMatrix:hr,lsolve:pp,lup:Dp,matrix:Ve,slu:vp,typed:me,usolve:mp});var ve=class{constructor(e,r){this.rows=1;this.cols=1;this.values=[];this.rows=e,this.cols=r,this.values=new Array(e*r).fill(0)}getRows(){return this.rows}getCols(){return this.cols}setValue(e,r,n){this.values[e*this.cols+r]=n}getValue(e,r){return this.values[e*this.cols+r]}getCol(e){let r=new ke(this.rows);for(let n=0;n<this.rows;n++)r.setValue(n,this.getValue(n,e));return r}clone(){let e=new ve(this.rows,this.cols);return e.values=[...this.values],e}toString(){let e="[";for(let r=0;r<this.rows;r++){r>0&&(e+=","),e+="[";for(let n=0;n<this.cols;n++)n>0&&(e+=","),e+=this.getValue(r,n);e+="]"}return e+="]",e}static mathjs2matrix(e){let r=new ve(e.size()[0],e.size()[1]),n=r.getRows(),i=r.getCols();for(let o=0;o<n;o++)for(let c=0;c<i;c++)r.setValue(o,c,e.get([o,c]));return r}static matrix2mathjs(e){let r=Uu(e.rows,e.cols);for(let n=0;n<e.rows;n++)for(let i=0;i<e.cols;i++)r.set([n,i],e.getValue(n,i));return r}is_zero(e=1e-9){for(let r=0;r<this.rows;r++)for(let n=0;n<this.cols;n++)if(Math.abs(this.getValue(r,n))>e)return!1;return!0}rank(e=1e-12){let r=this.clone(),n=r.rows,i=r.cols,o=0,c=[];for(let m=0;m<i;m++)c.push(!1);for(let m=0;m<n;m++){let f;for(f=0;f<i&&!(!c[f]&&Math.abs(r.getValue(m,f))>e);f++);if(f!=i){o++,c[f]=!0;for(let s=m+1;s<n;s++)r.setValue(s,f,r.getValue(s,f)/r.getValue(m,f));for(let s=0;s<i;s++)if(s!=f&&Math.abs(r.getValue(m,s))>e)for(let a=m+1;a<n;a++)r.setValue(a,s,r.getValue(a,s)-r.getValue(a,f)*r.getValue(m,s))}}return o}};var An=class{constructor(e){this.parent=null;this.parent=e}_create(e,r,n){let i=new ve(e,r),o=0;for(let c=0;c<e;c++)for(let m=0;m<r;m++)i.setValue(c,m,n[o++]);return i}_clone(e){return e.clone()}_getElement(e,r,n,i){if(r<0||r>=e.getRows())throw new Te(i,"matrix has "+e.getRows()+" rows. Cannot get row "+r);if(n<0||n>=e.getCols())throw new Te(i,"matrix has "+e.getCols()+" columns. Cannot get column "+n);return e.getValue(r,n)}_setElement(e,r,n,i,o){if(r<0||r>=e.getRows())throw new Te(o,"matrix has "+e.getRows()+" rows. Cannot get row "+r);if(n<0||n>=e.getCols())throw new Te(o,"matrix has "+e.getCols()+" columns. Cannot get column "+n);e.setValue(r,n,i)}_addMatrices(e,r,n){let i;try{i=Mt(ve.matrix2mathjs(e),ve.matrix2mathjs(r))}catch{throw new Te(n,"dimensions do not match")}return ve.mathjs2matrix(i)}_subMatrices(e,r,n){let i;try{i=Mr(ve.matrix2mathjs(e),ve.matrix2mathjs(r))}catch{throw new Te(n,"dimensions do not match")}return ve.mathjs2matrix(i)}_mulScalarMatrix(e,r){let n=Dr(e,ve.matrix2mathjs(r));return ve.mathjs2matrix(n)}_mulMatrixScalar(e,r){let n=Dr(ve.matrix2mathjs(e),r);return ve.mathjs2matrix(n)}_mulMatrices(e,r,n){let i;try{i=Dr(ve.matrix2mathjs(e),ve.matrix2mathjs(r))}catch{throw new Te(n,"dimensions do not match")}return ve.mathjs2matrix(i)}_randMatrix(e,r,n,i){let o=new ve(e,r);for(let c=0;c<e;c++)for(let m=0;m<r;m++)o.setValue(c,m,this.parent.interpret_basic._randIntMinMax(n,i));return o}_randZMatrix(e,r,n,i){let o=new ve(e,r);for(let c=0;c<e;c++)for(let m=0;m<r;m++)o.setValue(c,m,this.parent.interpret_basic._randIntMinMaxZ(n,i));return o}_det(e,r){try{return gn(ve.matrix2mathjs(e))}catch{throw new Te(r,"matrix is not square")}}_minMatrix(e){return Xu(ve.matrix2mathjs(e))}_maxMatrix(e){return Hu(ve.matrix2mathjs(e))}_zeros(e,r){let n=new ve(e,r);for(let i=0;i<e;i++)for(let o=0;o<r;o++)n.setValue(i,o,0);return n}_ones(e,r){let n=new ve(e,r);for(let i=0;i<e;i++)for(let o=0;o<r;o++)n.setValue(i,o,1);return n}_transposeMatrix(e){return ve.mathjs2matrix(ca(ve.matrix2mathjs(e)))}_triu(e){let r=e.clone();for(let n=0;n<r.getRows();n++)for(let i=0;i<r.getCols();i++)n>i&&r.setValue(n,i,0);return r}_linsolve(e,r){return ve.mathjs2matrix(Yu(ve.matrix2mathjs(e),ke.vector2list(r))).getCol(0)}_matrixFromVectors(e,r){let n=e.length;if(n==0)throw new Te(r,"no vector given");let i=-1;for(let c=0;c<n;c++)if(c==0)i=e[0].getSize();else if(e[c].getSize()!=i)throw new Te(r,"vector lengths differ");let o=new ve(i,n);for(let c=0;c<i;c++)for(let m=0;m<n;m++)o.setValue(c,m,e[m].getValue(c));return o}_rank(e){return e.rank()}_isMatrixZero(e){return e.is_zero(1e-9)}_isMatrixInvertible(e){let r=gn(ve.matrix2mathjs(e));return Math.abs(r)>1e-9}_invMatrix(e,r){if(this._isMatrixInvertible(e)==!1)throw new Te(r,"matrix is not invertible");return ve.mathjs2matrix(En(ve.matrix2mathjs(e)))}};var Fe=class{constructor(e=0,r=0){this.real=e,this.imag=r}clone(){return new Fe(this.real,this.imag)}mulReal(e){this.real*=e,this.imag*=e}static mathjs2complex(e){return new Fe(e.re,e.im)}static complex2mathjs(e){return zu(e.real,e.imag)}toMathJs(){return Fe.complex2mathjs(this)}toString(){return this.real+"+"+this.imag+"i"}};var Cn=class{constructor(e){this.parent=null;this.parent=e}_create(e,r){return new Fe(e,r)}_addComplex(e,r){return Fe.mathjs2complex(Mt(e.toMathJs(),r.toMathJs()))}_addNumberComplex(e,r){return new Fe(e+r.real,r.imag)}_addComplexNumber(e,r){return new Fe(e.real+r,e.imag)}_subComplex(e,r){return Fe.mathjs2complex(Mr(e.toMathJs(),r.toMathJs()))}_subNumberComplex(e,r){return new Fe(e-r.real,r.imag)}_subComplexNumber(e,r){return new Fe(e.real-r,e.imag)}_mulComplex(e,r){return Fe.mathjs2complex(Dr(e.toMathJs(),r.toMathJs()))}_divComplex(e,r){return Fe.mathjs2complex(Gu(e.toMathJs(),r.toMathJs()))}_mulNumberComplex(e,r){let n=r.clone();return n.mulReal(e),n}_mulComplexNumber(e,r){let n=e.clone();return n.mulReal(r),n}_powComplexComplex(e,r){return Fe.mathjs2complex(yn(Fe.complex2mathjs(e),Fe.complex2mathjs(r)))}_powComplexNumber(e,r){return Fe.mathjs2complex(yn(Fe.complex2mathjs(e),r))}_powNumberComplex(e,r){return Fe.mathjs2complex(yn(e,Fe.complex2mathjs(r)))}_conjComplex(e){return new Fe(e.real,-e.imag)}_complex(e,r){return new Fe(e,r)}_absComplex(e){return Math.sqrt(e.real*e.real+e.imag*e.imag)}};var bn=class{constructor(e){this.parent=null;this.parent=e}_add(e,r){return e+r}_unaryMinus(e){return-e}_unaryNot(e){return!e}_sub(e,r){return e-r}_mul(e,r){return e*r}_div(e,r){return e/r}_mod(e,r){return e%r}_pow(e,r){return Math.pow(e,r)}_randIntMax(e){return Math.floor(Math.random()*e)}_randIntMaxZ(e){let r=0;for(;r==0;)r=this._randIntMax(e);return r}_randIntMinMax(e,r){return Math.floor(Math.random()*(r-e)+e)}_randIntMinMaxZ(e,r){let n=0;for(;n==0;)n=this._randIntMinMax(e,r);return n}_sin(e){return Math.sin(e)}_cos(e){return Math.cos(e)}_tan(e){return Math.tan(e)}_asin(e){return Math.asin(e)}_acos(e){return Math.acos(e)}_atan(e){return Math.atan(e)}_exp(e){return Math.exp(e)}_sqrt(e){return Math.sqrt(e)}_abs(e){return Math.abs(e)}_floor(e){return Math.floor(e)}_ceil(e){return Math.ceil(e)}_round(e){return Math.round(e)}_sign(e){return e==0?0:e<0?-1:1}_maxInt(e){return Math.max(...e)}_fac(e){let r=1;for(let n=1;n<=e;n++)r*=n;return r}_binomial(e,r){return Pu(e,r)}};var st=class extends Error{constructor(e){super(e),this.name="TermError"}},J=class{constructor(e="",r=[]){this.op="";this.value="";this.o=[];this.op=e,this.o=r}static Op(e,r){let n=new J;return n.op=e,n.o=r,n}static Const(e){let r=new J;return r.op="#",r.value=e,r}static Var(e){let r=new J;return r.op="$",r.value=e,r}clone(){let e=new J;e.op=this.op,e.value=this.value;for(let r of this.o)e.o.push(r.clone());return e}eval(e={}){let r;switch(this.op){case"+":r=0;for(let n of this.o)r+=n.eval(e);break;case"*":r=1;for(let n of this.o)r*=n.eval(e);break;case"-":r=0;for(let n of this.o)r-=n.eval(e);break;case".-":r=-this.o[0].eval(e);break;case"^":r=Math.pow(this.o[0].eval(e),this.o[1].eval(e));break;case"#":r=this.value;break;case"sin":r=Math.sin(this.o[0].eval(e));break;case"cos":r=Math.cos(this.o[0].eval(e));break;case"tan":r=Math.tan(this.o[0].eval(e));break;case"asin":r=Math.asin(this.o[0].eval(e));break;case"atan":r=Math.atan(this.o[0].eval(e));break;case"exp":r=Math.exp(this.o[0].eval(e));break;case"$":if(this.value in e)return e[this.value];throw new st('eval(..): unset variable "'+this.value+'"');default:throw new st('eval(..): unimplemented operator "'+this.op+'"')}return r}diff(e){let r=null,n,i;switch(this.op){case".-":r=J.Op(".-",[this.o[0].diff(e)]);break;case"+":r=J.Op("+",[]);for(let o of this.o)r.o.push(o.diff(e));break;case"*":n=this.o[0],i=this.o.length==2?this.o[1]:J.Op("*",this.o.slice(1)),r=J.Op("+",[J.Op("*",[n.diff(e),i.clone()]),J.Op("*",[n.clone(),i.diff(e)])]);break;case"^":if(this.o[1].op!=="#")throw new st("diff(..): u^v: operator ^ only implemented for constant v");r=J.Op("*",[this.o[0].diff(e),this.o[1].clone(),J.Op("^",[this.o[0].clone(),J.Const(this.o[1].value-1)])]);break;case"exp":r=J.Op("*",[this.o[0].diff(e),J.Op("exp",[this.o[0].clone()])]);break;case"sin":r=J.Op("*",[this.o[0].diff(e),J.Op("cos",[this.o[0].clone()])]);break;case"cos":r=J.Op(".-",[J.Op("*",[this.o[0].diff(e),J.Op("cos",[this.o[0].clone()])])]);break;case"$":r=J.Const(this.value===e?1:0);break;case"#":r=J.Const(0);break;default:throw new st('diff(..): unimplemented operator "'+this.op+'"')}return r}integrate(e,r,n,i=1e-12){let o=0;for(let c=r;c<=n;c+=i)o+=this.eval({varId:c});return o/i}optimize(){let e=this.clone();for(let r=0;r<e.o.length;r++)e.o[r]=e.o[r].optimize();if(this.op==="*"){for(let r of e.o)if(r.op==="#"&&r.value==0)return J.Const(0)}try{let r=e.eval();return J.Const(r)}catch{}return e}setVariableValue(e,r){this.op==="$"&&(this.op="#",this.value=r);for(let n of this.o)n.setVariableValue(e,r)}getVariableIDs(){let e=new Set;this.op==="$"&&e.add(this.value);for(let r of this.o)e=new Set([...e,...r.getVariableIDs()]);return e}toString(){let e="";switch(this.op){case"#":case"$":e=""+this.value;break;case".-":e+="-("+this.o[0].toString()+")";break;default:if(this.op.length>2){e+=this.op+"(";for(let r=0;r<this.o.length;r++)r>0&&(e+=","),e+=this.o[r].toString();e+=")"}else{e+="(";for(let r=0;r<this.o.length;r++)r>0&&(e+=this.op),e+=this.o[r].toString();e+=")"}break}return e}};var _n=class{constructor(e){this.parent=null;this.parent=e}var(e){return J.Var(e)}_eval(e,r,n){let i=0;try{i=e.eval(r)}catch(o){throw new Te(n,o.message)}return i}_numberToTerm(e){return J.Const(e)}_addTermReal(e,r){return J.Op("+",[e,J.Const(r)])}_addRealTerm(e,r){return J.Op("+",[J.Const(e),r])}_addTermTerm(e,r){return J.Op("+",[e,r])}_subTermReal(e,r){return J.Op("-",[e,J.Const(r)])}_subRealTerm(e,r){return J.Op("-",[J.Const(e),r])}_subTermTerm(e,r){return J.Op("-",[e,r])}_mulTermReal(e,r){return J.Op("*",[e,J.Const(r)])}_mulRealTerm(e,r){return J.Op("*",[J.Const(e),r])}_mulTermTerm(e,r){return J.Op("*",[e,r])}_divTermReal(e,r){return J.Op("/",[e,J.Const(r)])}_divRealTerm(e,r){return J.Op("/",[J.Const(e),r])}_divTermTerm(e,r){return J.Op("/",[e,r])}_powTermReal(e,r){return J.Op("^",[e,J.Const(r)])}_powRealTerm(e,r){return J.Op("^",[J.Const(e),r])}_powTermTerm(e,r){return J.Op("^",[e,r])}_sinTerm(e){return J.Op("sin",[e])}_cosTerm(e){return J.Op("cos",[e])}_tanTerm(e){return J.Op("tan",[e])}_expTerm(e){return J.Op("exp",[e])}_diffTerm(e,r){return e.diff(r.toString())}};var Tn=class{constructor(e=[]){this.elements=[];this.elements=e}toString(){let e="{";return e+=this.elements.sort().join(","),e+="}",e}};var Mn=class{constructor(e){this.parent=null;this.parent=e}_createSet(e){let r=new Tn;return r.elements=e,r}_lenSet(e){return e.elements.length}};var Te=class extends Error{constructor(e,r){super(""+e+":"+r),this.name="RunError"}},Fn=class{constructor(){this.interpret_vector=null;this.interpret_matrix=null;this.interpret_complex=null;this.interpret_basic=null;this.interpret_term=null;this.interpret_set=null;this.interpret_vector=new kt(this),this.interpret_matrix=new An(this),this.interpret_complex=new Cn(this),this.interpret_basic=new bn(this),this.interpret_term=new _n(this),this.interpret_set=new Mn(this)}interpret(e,r){e+="return [";let n=0;for(let o of r)o.type.base!="TERM_VAR"&&(n>0&&(e+=", "),e+=o.id,n++);e+="];";let i=new Function("runtime",e);try{let o=i(this);for(let c=0;c<r.length;c++){let m=r[c];switch(m.type.base){case"BOOL":m.value=o[c];break;case"INT":case"REAL":m.value=o[c];break;case"COMPLEX":m.value=o[c];break;case"VECTOR":m.value=o[c];break;case"MATRIX":m.value=o[c];break;case"TERM":m.value=o[c];break;case"INT_SET":m.value=o[c];break;default:throw new Te("-1","interpret(..): unimplemented type "+m.type)}}}catch(o){throw new Te("-1","interpret(..) failed: "+o)}}};var Qu=ht(Ln());var $u=`

_add(x:INT,y:INT):INT -> interpret_basic._add;
_add(x:INT,y:REAL):REAL -> interpret_basic._add;
_add(x:REAL,y:INT):REAL -> interpret_basic._add;
_add(x:REAL,y:REAL):REAL -> interpret_basic._add;
_unaryMinus(x:INT):INT -> interpret_basic._unaryMinus;
_unaryMinus(x:REAL):REAL -> interpret_basic._unaryMinus;
_unaryNot(x:BOOL):BOOL -> interpret_basic._unaryNot;
_sub(x:INT,y:INT):INT -> interpret_basic._sub;
_sub(X:INT,y:REAL):REAL -> interpret_basic._sub;
_sub(x:REAL,y:INT):REAL -> interpret_basic._sub;
_sub(x:REAL,y:REAL):REAL -> interpret_basic._sub;
_mul(x:INT,y:INT):INT -> interpret_basic._mul;
_mul(x:INT,y:REAL):REAL -> interpret_basic._mul;
_mul(x:REAL,y:INT):REAL -> interpret_basic._mul;
_mul(x:REAL,y:REAL):REAL -> interpret_basic._mul;
_div(x:INT,y:INT):REAL -> interpret_basic._div;
_div(x:INT,y:REAL):REAL -> interpret_basic._div;
_div(x:REAL,y:INT):REAL -> interpret_basic._div;
_div(x:REAL,y:REAL):REAL -> interpret_basic._div;
_mod(x:INT,y:INT):INT -> interpret_basic._mod;
_pow(x:INT,y:INT):INT -> interpret_basic._pow;
_pow(x:INT,y:REAL):REAL -> interpret_basic._pow;
_pow(x:REAL,y:INT):REAL -> interpret_basic._pow;
_pow(x:REAL,y:REAL):REAL -> interpret_basic._pow;
rand(max:INT): INT -> interpret_basic._randIntMax;
rand(min:INT,max:INT): INT -> interpret_basic._randIntMinMax;
randZ(min:INT,max:INT): INT -> interpret_basic._randIntMinMaxZ;
sin(x:INT): REAL -> interpret_basic._sin;
sin(x:REAL): REAL -> interpret_basic._sin;
cos(x:INT): REAL -> interpret_basic._cos;
cos(x:REAL): REAL -> interpret_basic._cos;
tan(x:INT): REAL -> interpret_basic._tan;
tan(x:REAL): REAL -> interpret_basic._tan;
asin(x:INT): REAL -> interpret_basic._asin;
asin(x:REAL): REAL -> interpret_basic._asin;
acos(x:INT): REAL -> interpret_basic._acos;
acos(x:REAL): REAL -> interpret_basic._acos;
atan(x:INT): REAL -> interpret_basic._atan;
atan(x:REAL): REAL -> interpret_basic._atan;
exp(x:INT):REAL -> interpret_basic._exp;
exp(x:REAL):REAL -> interpret_basic._exp;
sqrt(x:INT): REAL -> interpret_basic._sqrt;
sqrt(x:REAL): REAL -> interpret_basic._sqrt;
abs(x:INT):INT -> interpret_basic._abs;
abs(x:REAL):REAL -> interpret_basic._abs;
floor(x:INT): INT -> interpret_basic._floor;
floor(x:REAL): INT -> interpret_basic._floor;
ceil(x:INT): INT -> interpret_basic._ceil;
ceil(x:REAL): INT -> interpret_basic._ceil;
round(x:INT): INT -> interpret_basic._round;
round(x:REAL): INT -> interpret_basic._round;
sign(x:INT): INT -> interpret_basic._sign;
sign(x:REAL): INT -> interpret_basic._sign;
max(list:INT_LIST): INT -> interpret_basic._maxInt;
fac(x:INT): INT -> interpret_basic._fac;
binomial(n:INT,k:INT): INT -> interpret_basic._binomial;
set(elements:INT_LIST): SET_INT -> interpret_set._createSet;
len(s:SET_INT): INT -> interpret_set._lenSet;
_add(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._addComplex;
_add(x:INT, y:COMPLEX): COMPLEX -> interpret_complex._addNumberComplex;
_add(x:REAL, y:COMPLEX): COMPLEX -> interpret_complex._addNumberComplex;
_add(x:COMPLEX, y:INT): COMPLEX -> interpret_complex._addComplexNumber;
_add(x:COMPLEX, y:REAL): COMPLEX -> interpret_complex._addComplexNumber;
_sub(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._subComplex;
_sub(x:INT, y:COMPLEX): COMPLEX -> interpret_complex._subNumberComplex;
_sub(x:REAL, y:COMPLEX): COMPLEX -> interpret_complex._subNumberComplex;
_sub(x:COMPLEX, y:INT): COMPLEX -> interpret_complex._subComplexNumber;
_sub(x:COMPLEX, y:REAL): COMPLEX -> interpret_complex._subComplexNumber;
_mul(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._mulComplex;
_div(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._divComplex;
_mul(x:INT,y:COMPLEX):COMPLEX -> interpret_complex._mulNumberComplex;
_mul(x:REAL,y:COMPLEX):COMPLEX -> interpret_complex._mulNumberComplex;
_mul(x:COMPLEX,y:INT):COMPLEX -> interpret_complex._mulComplexNumber;
_mul(x:COMPLEX,y:REAL):COMPLEX -> interpret_complex._mulComplexNumber;
_pow(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._powComplexComplex;
_pow(x:COMPLEX, y:INT):COMPLEX -> interpret_complex._powComplexNumber;
_pow(x:COMPLEX, y:REAL):COMPLEX -> interpret_complex._powComplexNumber;
_pow(x:INT,y:COMPLEX):COMPLEX -> interpret_complex._powNumberComplex;
_pow(x:REAL,y:COMPLEX):COMPLEX -> interpret_complex._powNumberComplex;
conj(x:COMPLEX):COMPLEX -> interpret_complex._conjComplex;
complex(x:INT,y:INT):COMPLEX -> interpret_complex._complex;
complex(x:INT,y:REAL):COMPLEX -> interpret_complex._complex;
complex(x:REAL,y:INT):COMPLEX -> interpret_complex._complex;
complex(x:REAL,y:REAL):COMPLEX -> interpret_complex._complex;
abs(x:COMPLEX): REAL -> interpret_complex._absComplex;
_add(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._addVectors;
_sub(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._subVectors;
_mul(x:INT,y:VECTOR):VECTOR -> interpret_vector._mulScalarVector;
_mul(x:REAL,y:VECTOR):VECTOR -> interpret_vector._mulScalarVector;
dot(x:VECTOR, y:VECTOR): REAL -> interpret_vector._dotVectors;
cross(x:VECTOR, y:VECTOR): VECTOR -> interpret_vector._crossVectors;
norm2(x:VECTOR): REAL -> interpret_vector._norm2vec;
zeros<size:INT>(): VECTOR -> interpret_vector._zerosVector;
rand<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randVector;
randZ<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randZVector;
is_zero(x:VECTOR): BOOL -> interpret_vector._isVectorZero;
_add(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._addMatrices;
_sub(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._subMatrices;
_mul(x:INT,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x:REAL,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x: MATRIX, y: INT): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x: MATRIX, y: REAL): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._mulMatrices;
rand<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randMatrix;
randZ<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randZMatrix;
det(x:MATRIX): REAL -> interpret_matrix._det;
min(x:MATRIX): REAL -> interpret_matrix._minMatrix;
max(x:MATRIX): REAL -> interpret_matrix._maxMatrix;
zeros<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._zeros;
ones<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._ones;
transpose(x:MATRIX): MATRIX -> interpret_matrix._transposeMatrix;
triu(x:MATRIX): MATRIX -> interpret_matrix._triu;
linsolve(A:MATRIX,b:VECTOR): VECTOR -> interpret_matrix._linsolve;
matrix(v:VECTOR_LIST): MATRIX -> interpret_matrix._matrixFromVectors;
rank(A:MATRIX): INT -> interpret_matrix._rank;
is_zero(x:MATRIX): BOOL -> interpret_matrix._isMatrixZero;
is_invertible(x:MATRIX): BOOL -> interpret_matrix._isMatrixInvertible;
inv(x:MATRIX): MATRIX -> interpret_matrix._invMatrix;
_numberToTerm(x:INT):TERM -> interpret_term._numberToTerm;
_add(x:TERM,y:INT):TERM -> interpret_term._addTermReal;
_add(x:TERM,y:REAL):TERM -> interpret_term._addTermReal;
_add(x:INT,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:REAL,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:TERM,y:TERM):TERM -> interpret_term._addTermTerm;
_sub(x:TERM,y:INT):TERM -> interpret_term._subTermReal;
_sub(x:TERM,y:REAL):TERM -> interpret_term._subTermReal;
_sub(x:INT,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:REAL,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:TERM,y:TERM):TERM -> interpret_term._subTermTerm;
_mul(x:TERM,y:INT):TERM -> interpret_term._mulTermReal;
_mul(x:TERM,y:REAL):TERM -> interpret_term._mulTermReal;
_mul(x:INT,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:REAL,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:TERM,y:TERM):TERM -> interpret_term._mulTermTerm;
_div(x:TERM,y:INT):TERM -> interpret_term._divTermReal;
_div(x:TERM,y:REAL):TERM -> interpret_term._divTermReal;
_div(x:INT,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:REAL,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:TERM,y:TERM):TERM -> interpret_term._divTermTerm;
_pow(x:TERM,y:INT):TERM -> interpret_term._powTermReal;
_pow(x:TERM,y:REAL):TERM -> interpret_term._powTermReal;
_pow(x:INT,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:REAL,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:TERM,y:TERM):TERM -> interpret_term._powTermTerm;
sin(x:TERM): TERM -> interpret_term._sinTerm;
cos(x:TERM): TERM -> interpret_term._cosTerm;
tan(x:TERM): TERM -> interpret_term._tanTerm;
exp(x:TERM): TERM -> interpret_term._expTerm;
diff(x:TERM, varId:TERM): TERM -> interpret_term._diffTerm;

`;var Nn=class{constructor(){this.lexer=null;this.symTab=[];this.loopLevel=0;this.scope=0}getSymbol(e){for(let r of this.symTab)if(r.id===e)return r;return null}removeSymTabEntry(e){let r=[];for(let n of this.symTab)n!==e&&r.push(n);this.symTab=r}getLocalSymbols(){let e=[];for(let r of this.symTab)if(r.kind==="LOCAL"){if(r.type.base==="TERM_VAR")continue;e.push(r)}return e}parse(e){return this.loopLevel=0,this.scope=0,this.symTab=Ca($u),this.lexer=new Qu.Lexer,this.lexer.configureSingleLineComments("//"),this.lexer.configureMultiLineComments("/*","*/"),this.lexer.enableEmitNewlines(!1),this.lexer.enableEmitIndentation(!1),this.lexer.enableBackslashLineBreaks(!1),this.lexer.pushSource("FILE",e),this.lexer.setTerminals(["&&","||","==","!=",">=","<=","++","--"]),this.parseProgram().str}parseProgram(){let e=new We;for(;this.lexer.isNotEND();){let r=this.parseStatement();e.str+=r.str}return e}parseStatement(){if(this.lexer.isTER("let"))return this.parseDeclaration();if(this.lexer.isTER("if"))return this.parseIf();if(this.lexer.isTER("do"))return this.parseDo();if(this.lexer.isTER("while"))return this.parseWhile();if(this.lexer.isTER("function"))return this.parseFunction();if(this.lexer.isTER("return"))return this.parseReturn();if(this.lexer.isTER("break"))return this.parseBreak();if(this.lexer.isTER("continue"))return this.parseContinue();{let e=this.parseExpression();return this.lexer.EOS(),new We(e.code.str+";")}}parseDeclaration(){let e=new We;this.lexer.TER("let");let r=[];if(r.push(this.lexer.ID()),this.lexer.isTER("(")){let n=r[0];this.lexer.next();let i=[];for(i.push(this.lexer.ID());this.lexer.isTER(",");)this.lexer.next(),i.push(this.lexer.ID());for(let f of i){let s=new Ke("TERM_VAR"),a=new gr(f,"LOCAL",s,this.scope,[]);this.symTab.push(a)}this.lexer.TER(")"),this.lexer.TER("=");let o=this.parseExpression();if(o.type.base!=="TERM")switch(o.type.base){case"INT":case"REAL":o.code.str="runtime.interpret_term._numberToTerm("+o.code.str+")",o.type.base="TERM";break;default:this.lexer.error("right-hand side is not a term")}e.str+="let "+n+" = "+o.code.str+";";for(let f=0;f<i.length;f++)this.symTab.pop();let c=[];for(let f of i)c.push(new gr(f,"PARAMETER",new Ke("TERM_VAR"),this.scope+1,[]));let m=new gr(n,"LOCAL",new Ke("TERM"),this.scope,c);this.symTab.push(m),this.lexer.EOS()}else{let n=!1;for(;this.lexer.isTER(":")||this.lexer.isTER("/");)this.lexer.isTER("/")&&(n=!0),this.lexer.isTER(":")&&n==!0&&this.lexer.error('cannot mix ":" and "/"'),this.lexer.next(),r.push(this.lexer.ID());this.lexer.TER("=");let i=this.parseExpression();for(let o of r){let c=new gr(o,"LOCAL",i.type,this.scope,[]);this.symTab.push(c)}if(n){i.type.base!=="INT"&&this.lexer.error('declaration operator "/" is unimplemented for type '+i.type.base),e.str+="let ";for(let o=0;o<r.length;o++){let c=r[o];o>0&&(e.str+=", "),e.str+=c}e.str+=`;
`;for(let o=0;o<r.length;o++){let c=r[o];if(o==0)e.str+=c+" = "+i.code.str+`;
`;else{e.str+="do { "+c+" = "+i.code.str+"; } while (";let m="";for(let f=0;f<o;f++)m.length>0&&(m+=" || "),m+=c+" == "+r[f];e.str+=m,e.str+=`);
`}}}else for(let o of r)e.str+="let "+o+" = "+i.code.str+";";this.lexer.EOS()}return e}parseExpression(){let e=this.parseOr();for(;this.lexer.isTER("=");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseOr();e.code.tmp.includes("setElement")?(n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("element must be of type INT or REAL."),e.code.str=e.code.tmp.replace("\xA7RHS\xA7",n.code.str),e.type.base="VOID"):(e.type.base==="INT"||e.type.base==="REAL")&&(n.type.base==="INT"||n.type.base==="REAL")?(e.type.base="INT",e.code.str=e.code.str+" "+r+" "+n.code.str):e.type.base==="VECTOR"&&n.type.base==="VECTOR"?(e.type.base="VECTOR",e.code.str=e.code.str+" "+r+" runtime.interpret_vector._clone("+n.code.str+")"):e.type.base==="MATRIX"&&n.type.base==="MATRIX"?(e.type.base="MATRIX",e.code.str=e.code.str+" "+r+" runtime.interpret_matrix._clone("+n.code.str+")"):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseOr(){let e=this.parseAnd();for(;this.lexer.isTER("||");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseAnd();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseAnd(){let e=this.parseEqual();for(;this.lexer.isTER("&&");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseEqual();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseEqual(){let e=this.parseRelational();if(this.lexer.isTER("==")||this.lexer.isTER("!=")){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseRelational();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):e.type.base=="INT"&&n.type.base=="INT"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="BOOL",e.code.str=r=="=="?"(Math.abs(("+e.code.str+") - ("+n.code.str+")) <= 1e-9)":"(Math.abs(("+e.code.str+") - ("+n.code.str+")) > 1e-9)"):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseRelational(){let e=this.parseAdd();if(this.lexer.isTER("<=")||this.lexer.isTER(">=")||this.lexer.isTER("<")||this.lexer.isTER(">")){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseAdd();(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseAdd(){let e=this.parseMul();for(;this.lexer.isTER("+")||this.lexer.isTER("-");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseMul();e=this.call(this.getSymbol(r==="+"?"_add":"_sub"),[],[e,n])}return e}parseMul(){let e=this.parsePow();for(;this.lexer.isTER("*")||this.lexer.isTER("/")||this.lexer.isTER("mod");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parsePow();e=this.call(this.getSymbol(r==="*"?"_mul":r==="/"?"_div":"_mod"),[],[e,n])}return e}parsePow(){let e=this.parseUnary();if(this.lexer.isTER("^")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_pow"),[],[e,r])}return e}parseUnary(){let e=this.parseUnaryExpression();return e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isNotTER("(")&&this.lexer.isNotTER("<")&&this.lexer.errorExpected(["(","<"]),(this.lexer.isTER("++")||this.lexer.isTER("--")||e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isTER("<")||this.lexer.isTER("(")||this.lexer.isTER("["))&&(e=this.parseUnaryPostfix(e)),e}parseUnaryExpression(){let e=new xt;if(this.lexer.isTER("true"))e.code.str=" true ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isTER("false"))e.code.str=" false ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isINT()){let r=this.lexer.INT();e.code.str=" "+r+" ",e.type.base="INT",this.lexer.isTER("i")&&(this.lexer.next(),e.code.str="runtime.interpret_complex._create(0,"+r+")",e.type.base="COMPLEX")}else if(this.lexer.isREAL()){let r=this.lexer.REAL();e.code.str=" "+r+" ",e.type.base="REAL",this.lexer.isTER("i")&&(this.lexer.next(),e.code.str="runtime.interpret_complex._create(0,"+r+")",e.type.base="COMPLEX")}else if(this.lexer.isTER("(")){this.lexer.next();let r=this.parseExpression();this.lexer.TER(")"),e.code.str=" ( "+r.code.str+" ) ",e.type=r.type}else if(this.lexer.isTER("[")){this.lexer.next();let r=0,n=-1,i=-1,o=[];for(;this.lexer.isNotTER("]");){r>0&&this.lexer.TER(",");let f=this.parseMatrixRow();r==0?i=f.length:i!=f.length&&this.lexer.error("inconsistent number of matrix columns");for(let s of f)o.push(s);r++}n=r,this.lexer.TER("]");let c="[",m=0;for(let f of o)m>0&&(c+=", "),c+=f.code.str,m++;c+="]",e.code.str="runtime.interpret_matrix._create("+n+", "+i+", "+c+")",e.type.base="MATRIX"}else if(this.lexer.isID()){let r=this.lexer.ID();e.sym=this.getSymbol(r),e.sym==null&&this.lexer.errorUnknownSymbol(r),e.sym.type.base==="TERM_VAR"?(e.type=new Ke("TERM"),e.code.str='runtime.interpret_term.var("'+r+'")'):(e.type=e.sym.type.clone(),e.code.str=" "+r)}else if(this.lexer.isTER("-")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_unaryMinus"),[],[r])}else if(this.lexer.isTER("!")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_unaryNot"),[],[r])}else this.lexer.errorExpected(["INT","IMAG","REAL","(","ID"]);return e}parseMatrixRow(){this.lexer.TER("[");let e=0,r=[];for(;this.lexer.isNotTER("]");){e>0&&this.lexer.TER(",");let n=this.parseExpression();n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("matrix element must be of type INT or REAL."),r.push(n),e++}return this.lexer.TER("]"),r}parseUnaryPostfix(e){if(this.lexer.isTER("++"))this.lexer.next(),e.code.str+=" ++ ";else if(this.lexer.isTER("--"))this.lexer.next(),e.code.str+=" -- ";else if(this.lexer.isTER("<")||this.lexer.isTER("(")){let r=[],n=[];if(this.lexer.isTER("<")){this.lexer.next();let i=0;for(;this.lexer.isNotTER(">");)i>0&&this.lexer.TER(","),r.push(this.parseUnary()),i++;this.lexer.TER(">")}if(this.lexer.TER("("),e.sym==null&&this.lexer.errorNotAFunction(),e.sym.kind=="FUNCTION"||e.sym.kind=="LOCAL"&&e.sym.type.base==="TERM"){let i=0;for(;this.lexer.isNotTER(")");)i>0&&this.lexer.TER(","),n.push(this.parseExpression()),i++;this.lexer.TER(")")}else this.lexer.errorNotAFunction();if(e.sym.kind=="FUNCTION")e=this.call(e.sym,r,n);else{e.sym.subSymbols.length!=n.length&&this.lexer.error("invalid parameters for function "+e.sym.id);let i="{";for(let o=0;o<n.length;o++)n[o].type.base!=="INT"&&n[o].type.base!=="REAL"&&this.lexer.error("parameters for function must be of type INT or REAL."),o>0&&(i+=", "),i+=e.sym.subSymbols[o].id+": "+n[o].code.str;i+="}",e.code.str="runtime.interpret_term._eval("+e.sym.id+", "+i+", "+this.getTokenPosStr()+")",e.type=new Ke("REAL")}}else if(this.lexer.isTER("[")){this.lexer.next();let r=[],n=0;for(;this.lexer.isNotTER("]");)n>0&&this.lexer.TER(","),r.push(this.parseExpression()),n++;if(this.lexer.TER("]"),e.type.base==="VECTOR")r.length!=1&&this.lexer.error("expected one index"),r[0].type.base!=="INT"&&this.lexer.error("index is not of type integer"),e.type.base="REAL",e.code.str="runtime.interpret_vector._getElement("+e.sym.id+", "+r[0].code.str+", "+this.getTokenPosStr()+")",e.code.tmp="runtime.interpret_vector._setElement("+e.sym.id+", "+r[0].code.str+", \xA7RHS\xA7, "+this.getTokenPosStr()+")";else if(e.type.base==="MATRIX"){r.length!=2&&this.lexer.error("expected two indices");for(let i=0;i<r.length;i++)r[i].type.base!=="INT"&&this.lexer.error("index "+(i+1)+" is not of type integer");e.type.base="REAL",e.code.str="runtime.interpret_matrix._getElement("+e.sym.id+", "+r[0].code.str+", "+r[1].code.str+", "+this.getTokenPosStr()+")",e.code.tmp="runtime.interpret_matrix._setElement("+e.sym.id+", "+r[0].code.str+", "+r[1].code.str+", \xA7RHS\xA7, "+this.getTokenPosStr()+")"}else this.lexer.error("can only index a matrix or a vector")}else this.lexer.errorExpected(["++","--","(","["]);return e}call(e,r,n){let i=new xt;i.sym=e,i.type=e.type.clone();let o=e;for(;o!=null;){let c=[],m=[];for(let f of o.subSymbols)f.kind=="DIMENSION"?c.push(f):f.kind==="PARAMETER"&&m.push(f);if(c.length==r.length&&m.length==n.length||m.length==1&&(m[0].type.base=="INT_LIST"||m[0].type.base=="VECTOR_LIST")){let f=m.length==1&&m[0].type.base=="INT_LIST",s=m.length==1&&m[0].type.base=="VECTOR_LIST",a=!0;for(let u=0;u<c.length;u++)if(c[u].type.base!==r[u].type.base){a=!1;break}if(f||s){for(let u=0;u<n.length;u++)if(f&&n[u].type.base!="INT"||s&&n[u].type.base!="VECTOR"){a=!1;break}}else for(let u=0;u<m.length;u++)if(m[u].type.base!==n[u].type.base){a=!1;break}if(a){i.type=o.type.clone(),i.code.str="runtime."+o.runtimeId+"(";let u=0;for(let l=0;l<c.length;l++)u>0&&(i.code.str+=", "),i.code.str+=r[l].code.str,u++;if(f||s){u>0&&(i.code.str+=", "),i.code.str+="[";for(let l=0;l<n.length;l++)l>0&&(i.code.str+=","),i.code.str+=n[l].code.str;i.code.str+="]",u++}else for(let l=0;l<m.length;l++)u>0&&(i.code.str+=", "),i.code.str+=n[l].code.str,u++;u>0&&(i.code.str+=", "),i.code.str+=this.getTokenPosStr(),u++,i.code.str+=")",i.sym=null;break}}o=o.functionOverloadSuccessor}if(o==null){let c="";for(let m of n)c.length>0&&(c+=", "),c+=m.type.toString();this.lexer.error('no matching function prototype for calling "'+i.sym.id+'" with types ('+c+")")}return i}parseIf(){let e=new We;this.lexer.TER("if"),this.lexer.TER("(");let r=this.parseExpression();r.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),e.str="if ("+r.code.str+")";let n=this.parseBlock();if(e.str+=n.str,this.lexer.isTER("else")){this.lexer.next(),e.str+=" else ";let i=this.parseBlock();e.str+=i.str}return e}parseBlock(){let e=new We;if(this.lexer.isTER("{")){for(this.lexer.next(),e.str+="{";this.lexer.isNotTER("}");)e.str+=this.parseStatement().str;return this.lexer.TER("}"),e.str+="}",e}else return this.parseStatement()}parseDo(){this.lexer.TER("do"),this.loopLevel++;let e=this.parseBlock();this.loopLevel--,this.lexer.TER("while"),this.lexer.TER("(");let r=this.parseExpression();return r.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.lexer.EOS(),new We(" do "+e.str+" while( "+r.code.str+" ); ")}parseWhile(){this.lexer.TER("while"),this.lexer.TER("(");let e=this.parseExpression();e.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.loopLevel++;let r=this.parseBlock();return this.loopLevel--,new We(" while( "+e.code.str+" ) "+r.str)}parseFunction(){this.lexer.TER("function");let e=this.lexer.ID();this.lexer.TER("(");let r=0;for(;this.lexer.isNotTER(")");){r>0&&this.lexer.TER(",");let i=this.lexer.ID();r++}return this.lexer.TER(")"),this.parseBlock()}parseReturn(){if(this.lexer.TER("return"),this.lexer.isEOS()==!1){let e=this.parseExpression();return this.lexer.EOS(),new We(" return "+e.code)}else return this.lexer.EOS(),new We(" return ")}parseBreak(){return this.lexer.TER("break"),this.loopLevel==0&&this.lexer.error("break not allowed outside loop"),this.lexer.EOS(),new We(" break ")}parseContinue(){return this.lexer.TER("continue"),this.loopLevel==0&&this.lexer.error("continue not allowed outside loop"),this.lexer.EOS(),new We(" continue ")}getTokenPosStr(){return"'"+this.lexer.getToken().row+":"+this.lexer.getToken().col+"'"}};var Sn="";function Ep(t,e=!1){let r=new Nn;Sn=r.parse(t);let n=r.getLocalSymbols();return e&&console.log(Sn),new Fn().interpret(Sn,n),n}return Bs(yp);})();
/*!
 *  decimal.js v10.4.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
