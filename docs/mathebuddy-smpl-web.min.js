"use strict";var mathebuddySMPL=(()=>{var pu=Object.create;var vt=Object.defineProperty;var hu=Object.getOwnPropertyDescriptor;var mu=Object.getOwnPropertyNames;var vu=Object.getPrototypeOf,du=Object.prototype.hasOwnProperty;var xr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Du=(r,e)=>{for(var t in e)vt(r,t,{get:e[t],enumerable:!0})},Ei=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mu(e))!du.call(r,i)&&i!==t&&vt(r,i,{get:()=>e[i],enumerable:!(n=hu(e,i))||n.enumerable});return r};var Jr=(r,e,t)=>(t=r!=null?pu(vu(r)):{},Ei(e||!r||!r.__esModule?vt(t,"default",{value:r,enumerable:!0}):t,r)),xu=r=>Ei(vt({},"__esModule",{value:!0}),r);var wi=xr(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.getStr=er.setLanguage=er.LanguageText=er.Language=void 0;var dt;(function(r){r[r.EN=0]="EN",r[r.DE=1]="DE"})(dt=er.Language||(er.Language={}));var Qe;(function(r){r[r.EXPECTED=0]="EXPECTED",r[r.EXPECTED_ONE_OF=1]="EXPECTED_ONE_OF",r[r.CONDITION_NOT_BOOLEAN=2]="CONDITION_NOT_BOOLEAN",r[r.UNKNOWN_SYMBOL=3]="UNKNOWN_SYMBOL",r[r.SYMBOL_IS_NOT_A_FUNCTION=4]="SYMBOL_IS_NOT_A_FUNCTION",r[r.BIN_OP_INCOMPATIBLE_TYPES=5]="BIN_OP_INCOMPATIBLE_TYPES"})(Qe=er.LanguageText||(er.LanguageText={}));function gu(r){yi=r}er.setLanguage=gu;function Eu(r){return Jt[r+"_"+yi]}er.getStr=Eu;var yi=dt.EN,Jt={};function Ir(r,e){Jt[r+"_"+dt.EN]=e}function Rr(r,e){Jt[r+"_"+dt.DE]=e}Ir(Qe.EXPECTED,"expected");Rr(Qe.EXPECTED,"erwarte");Ir(Qe.EXPECTED_ONE_OF,"expected one of");Rr(Qe.EXPECTED_ONE_OF,"erwarte Token aus Liste");Ir(Qe.CONDITION_NOT_BOOLEAN,"condition must be boolean");Rr(Qe.CONDITION_NOT_BOOLEAN,"Bedingung muss Boolsch sein");Ir(Qe.UNKNOWN_SYMBOL,"unknown symbol");Rr(Qe.UNKNOWN_SYMBOL,"unbekanntes Symbol");Ir(Qe.SYMBOL_IS_NOT_A_FUNCTION,"symbol is not a function");Rr(Qe.SYMBOL_IS_NOT_A_FUNCTION,"Symbol ist keine Funktion");Ir(Qe.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP is incompatible for types $T1 and $T2");Rr(Qe.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP ist inkompatibel mit den Typen $T1 und $T2")});var Ai=xr(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.LexerState=void 0;var Kr=class{constructor(){this.i=0,this.n=-1,this.row=1,this.col=1,this.indent=0,this.lastIndent=0,this.stack=[]}copy(){let e=new Kr;e.i=this.i,e.n=this.n,e.row=this.row,e.col=this.col,e.indent=this.indent,e.lastIndent=this.lastIndent;for(let t=0;t<this.stack.length;t++)e.stack.push(this.stack[t].copy());return e}};Dt.LexerState=Kr});var Fi=xr(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.LexerToken=Mr.LexerTokenType=void 0;var Ci;(function(r){r.DEL="DEL",r.TER="TER",r.INT="INT",r.BIGINT="BIGINT",r.REAL="REAL",r.HEX="HEX",r.STR="STR",r.ID="ID",r.END="END"})(Ci=Mr.LexerTokenType||(Mr.LexerTokenType={}));var et=class{constructor(){this.token="",this.type=Ci.TER,this.value=0,this.valueBigint=0n,this.fileID="",this.row=0,this.col=0}toString(){let e=this.token;e=e.replace(/\n/g,"\\n"),e=e.replace(/\t/g,"\\t");let t=this.fileID+":"+this.row+":"+this.col;return t+=': "'+e+'" ('+this.type+")",t}copy(){let e=new et;return e.token=this.token,e.type=this.type,e.value=this.value,e.fileID=this.fileID,e.row=this.row,e.col=this.col,e}};Mr.LexerToken=et});var Ti=xr(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.Lexer=gr.ParseError=gr.LexerFile=void 0;var te=wi(),yu=Ai(),Q=Fi(),xt=class{constructor(){this.stateBackup=null,this.tokenBackup=null,this.id="",this.sourceCode=""}};gr.LexerFile=xt;var be=class extends Error{constructor(e){super(e),this.name="ParseError"}};gr.ParseError=be;var Kt=class{constructor(){this.terminals=new Set,this.fileStack=[],this.token=null,this.lastToken=null,this.state=null,this.singleLineCommentStart="//",this.multiLineCommentStart="/*",this.multilineCommentEnd="*/",this.emitNewline=!1,this.emitHex=!0,this.emitInt=!0,this.emitReal=!0,this.emitBigint=!0,this.emitSingleQuotes=!0,this.emitDoubleQuotes=!0,this.emitIndentation=!1,this.lexerFilePositionPrefix="!>",this.allowBackslashLineBreaks=!1,this.putTrailingSemicolon=[],this.multicharDelimiters=[]}configureSingleLineComments(e="//"){this.singleLineCommentStart=e}configureMultiLineComments(e="/*",t="*/"){this.multiLineCommentStart=e,this.multilineCommentEnd=t}configureLexerFilePositionPrefix(e="!>"){this.lexerFilePositionPrefix=e}enableEmitNewlines(e){this.emitNewline=e}enableEmitHex(e){this.emitHex=e}enableEmitInt(e){this.emitInt=e}enableEmitReal(e){this.emitReal=e}enableEmitBigint(e){this.emitBigint=e}enableEmitSingleQuotes(e){this.emitSingleQuotes=e}enableEmitDoubleQuotes(e){this.emitDoubleQuotes=e}enableEmitIndentation(e){this.emitIndentation=e}enableBackslashLineBreaks(e){this.allowBackslashLineBreaks=e}isEND(){return this.token.type===Q.LexerTokenType.END}isNotEND(){return this.token.type!==Q.LexerTokenType.END}END(){if(this.token.type===Q.LexerTokenType.END)this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" END")}isID(){return this.token.type===Q.LexerTokenType.ID}ID(){let e="";if(this.token.type===Q.LexerTokenType.ID)e=this.token.token,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" ID");return e}isLID(){return this.token.type===Q.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase()}LID(){let e="";if(this.token.type===Q.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase())e=this.token.token,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" LowerCaseID");return e}isUID(){return this.token.type===Q.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase()}UID(){let e="";if(this.token.type===Q.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase())e=this.token.token,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" UpperCaseID");return e}isINT(){return this.token.type===Q.LexerTokenType.INT}INT(){let e=0;if(this.token.type===Q.LexerTokenType.INT)e=this.token.value,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" INT");return e}isBIGINT(){return this.token.type===Q.LexerTokenType.BIGINT}BIGINT(){let e=0n;if(this.token.type===Q.LexerTokenType.BIGINT)e=this.token.valueBigint,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" BIGINT");return e}isREAL(){return this.token.type===Q.LexerTokenType.REAL}REAL(){let e=0;if(this.token.type===Q.LexerTokenType.REAL)e=this.token.value,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" REAL");return e}isHEX(){return this.token.type===Q.LexerTokenType.HEX}HEX(){let e="";if(this.token.type===Q.LexerTokenType.HEX)e=this.token.token,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" HEX");return e}isSTR(){return this.token.type===Q.LexerTokenType.STR}STR(){let e="";if(this.token.type===Q.LexerTokenType.STR)e=this.token.token,this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" STR");return e}isTER(e){return this.token.type===Q.LexerTokenType.DEL&&this.token.token===e||this.token.type===Q.LexerTokenType.ID&&this.token.token===e}isNotTER(e){return this.isTER(e)==!1&&this.token.type!=Q.LexerTokenType.END}TER(e){if(this.token.type===Q.LexerTokenType.DEL&&this.token.token===e||this.token.type===Q.LexerTokenType.ID&&this.token.token===e)this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+' "'+e+'"')}isEOS(){return this.token.token===";"}EOS(){if(this.token.token===";")this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+' ";"')}isINDENT(){return this.token.type==Q.LexerTokenType.DEL&&this.token.token==="	+"}isNotINDENT(){return!(this.token.type===Q.LexerTokenType.DEL&&this.token.token==="	+")}INDENT(){if(this.token.type==Q.LexerTokenType.DEL&&this.token.token==="	+")this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" INDENT")}isOUTDENT(){return this.token.type==Q.LexerTokenType.DEL&&this.token.token==="	-"}isNotOUTDENT(){return this.token.type===Q.LexerTokenType.END?!1:!(this.token.type===Q.LexerTokenType.DEL&&this.token.token==="	-")}OUTDENT(){if(this.token.type==Q.LexerTokenType.DEL&&this.token.token==="	-")this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" OUTDENT")}isNEWLINE(){return this.isOUTDENT()||this.token.type==Q.LexerTokenType.DEL&&this.token.token===`
`}isNotNEWLINE(){return!this.isOUTDENT()&&!(this.token.type===Q.LexerTokenType.DEL&&this.token.token===`
`)}NEWLINE(){if(!this.isOUTDENT())if(this.token.type==Q.LexerTokenType.DEL&&this.token.token===`
`)this.next();else throw new be(this.err_pos()+(0,te.getStr)(te.LanguageText.EXPECTED)+" NEWLINE")}error(e,t=null){throw new be(this.err_pos(t)+e)}errorExpected(e){let t=(0,te.getStr)(te.LanguageText.EXPECTED_ONE_OF)+" ";for(let n=0;n<e.length;n++)n>0&&(t+=", "),t+=e[n];t+=".",this.error(t)}errorConditionNotBoolean(){this.error((0,te.getStr)(te.LanguageText.CONDITION_NOT_BOOLEAN))}errorUnknownSymbol(e){this.error((0,te.getStr)(te.LanguageText.UNKNOWN_SYMBOL)+" "+e)}errorNotAFunction(){this.error((0,te.getStr)(te.LanguageText.SYMBOL_IS_NOT_A_FUNCTION))}errorTypesInBinaryOperation(e,t,n){this.error((0,te.getStr)(te.LanguageText.BIN_OP_INCOMPATIBLE_TYPES).replace("$OP",e).replace("$T1",t).replace("$T2",n))}err_pos(e=null){return e==null&&(e=this.token),e.fileID+":"+e.row+":"+e.col+": "}addPutTrailingSemicolon(e,t=""){let n=new Q.LexerToken;n.type=e,n.token=t,this.putTrailingSemicolon.push(n)}setTerminals(e){this.terminals.clear(),this.multicharDelimiters=[];for(let t of e)t.length!=0&&(t[0]>="A"&&t[0]<="Z"||t[0]>="a"&&t[0]<="z"||t[0]=="_"?this.terminals.add(t):this.multicharDelimiters.push(t));this.multicharDelimiters.sort(function(t,n){return n.length-t.length})}getTerminals(){return Array.from(this.terminals)}getMulticharDelimiters(){return this.multicharDelimiters}getToken(){return this.token}next(){this.lastToken=this.token;let e=this.fileStack.slice(-1)[0].sourceCode,t=this.fileStack.slice(-1)[0].id,n=this.state;if(n.stack.length>0){this.token=n.stack[0],n.stack.shift();return}this.token=new Q.LexerToken,this.token.fileID=t,n.indent=-1;let i=!1;for(;;)if(n.i<n.n&&e[n.i]===`
`)n.indent=0,i=this.nextTokenLinefeed(n);else if(n.i<n.n&&e[n.i]===" ")n.i++,n.col++,n.indent>=0&&n.indent++;else if(n.i<n.n&&e[n.i]==="	")n.i++,n.col+=4,n.indent>=0&&(n.indent+=4);else if(this.allowBackslashLineBreaks&&n.i<n.n&&e[n.i]==="\\")for(n.i++;n.i<n.n;){if(e[n.i]==" ")n.col++;else if(e[n.i]=="	")n.col+=4;else if(e[n.i]==`
`)n.row++,n.col=1;else break;n.i++}else if(this.singleLineCommentStart.length>0&&this.isNext(this.singleLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.singleLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&e[n.i]!=`
`;)n.i++,n.col++;n.i<n.n&&e[n.i]===`
`&&(i=this.nextTokenLinefeed(n)),n.indent=0}else if(this.multiLineCommentStart.length>0&&this.isNext(this.multiLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let c=this.multiLineCommentStart.length;for(n.i+=c,n.col+=c;n.i<n.n&&!this.isNext(this.multilineCommentEnd);)e[n.i]===`
`?(n.row++,n.col=1,n.indent=0):n.col++,n.i++;c=this.multilineCommentEnd.length,n.i+=c,n.col+=c}else if(this.lexerFilePositionPrefix.length>0&&e.substring(n.i).startsWith(this.lexerFilePositionPrefix)){n.i+=this.lexerFilePositionPrefix.length;let c="";for(;n.i<n.n&&e[n.i]!==":";)c+=e[n.i],n.i++;n.i++,this.fileStack.slice(-1)[0].id=c,this.token.fileID=c;let h="";for(;n.i<n.n&&e[n.i]!==":";)h+=e[n.i],n.i++;n.i++,this.token.row=parseInt(h);let s="";for(;n.i<n.n&&e[n.i]!==":";)s+=e[n.i],n.i++;n.i++,this.token.col=parseInt(s)}else break;if(this.emitIndentation&&n.indent>=0){let c=n.indent-n.lastIndent;if(n.lastIndent=n.indent,c!=0)if(c%4==0){let h=c>0,s=Math.floor(Math.abs(c)/4);for(let u=0;u<s;u++)this.token=new Q.LexerToken,this.token.fileID=t,this.token.row=n.row,h?this.token.col=n.col-c+4*u:this.token.col=n.col,this.token.type=Q.LexerTokenType.DEL,this.token.token=h?"	+":"	-",n.stack.push(this.token);this.token=n.stack[0],n.stack.shift();return}else{this.token.row=n.row,this.token.col=n.col-c,this.token.type=Q.LexerTokenType.TER,this.token.token="	err";return}}if(i)return;let o=n.copy();if(this.token.row=n.row,this.token.col=n.col,n.indent=0,n.i>=n.n){this.token.token="$end",this.token.type=Q.LexerTokenType.END;return}if(this.token.type=Q.LexerTokenType.ID,this.token.token="",n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]==="_"))for(this.token.token+=e[n.i],n.i++,n.col++;n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]>="0"&&e[n.i]<="9"||e[n.i]==="_");)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.terminals.has(this.token.token)&&(this.token.type=Q.LexerTokenType.TER),this.state=n;return}if(n=o.copy(),this.emitDoubleQuotes&&(this.token.type=Q.LexerTokenType.STR,n.i<n.n&&e[n.i]==='"')){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!='"'&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==='"'){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitSingleQuotes&&(this.token.type=Q.LexerTokenType.STR,n.i<n.n&&e[n.i]==="'")){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!="'"&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==="'"){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitHex&&(this.token.type=Q.LexerTokenType.HEX,this.token.token="",n.i<n.n&&e[n.i]==="0"&&(n.i++,n.col++,n.i<n.n&&e[n.i]==="x"))){n.i++,n.col++;let c=0;for(;n.i<n.n&&(e[n.i]>="0"&&e[n.i]<="9"||e[n.i]>="A"&&e[n.i]<="F"||e[n.i]>="a"&&e[n.i]<="f");)this.token.token+=e[n.i],n.i++,n.col++,c++;if(c>0){this.token.token="0x"+this.token.token,this.token.value=parseInt(this.token.token,16),this.token.valueBigint=BigInt(this.token.token),this.state=n;return}}if(n=o.copy(),this.emitInt){if(this.token.type=Q.LexerTokenType.INT,this.token.token="",n.i<n.n&&e[n.i]==="0")this.token.token="0",n.i++,n.col++;else if(n.i<n.n&&e[n.i]>="1"&&e[n.i]<="9")for(this.token.token=e[n.i],n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0&&this.emitBigint&&n.i<n.n&&e[n.i]==="n")n.i++,n.col++,this.token.type=Q.LexerTokenType.BIGINT;else if(this.token.token.length>0&&this.emitReal&&n.i<n.n&&e[n.i]===".")for(this.token.type=Q.LexerTokenType.REAL,this.token.token+=".",n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.token.type===Q.LexerTokenType.INT?this.token.value=parseInt(this.token.token):this.token.type===Q.LexerTokenType.BIGINT?this.token.valueBigint=BigInt(this.token.token):this.token.value=parseFloat(this.token.token),this.state=n;return}}this.token.type=Q.LexerTokenType.DEL,this.token.token="";for(let c=0;c<this.multicharDelimiters.length;c++){let h=this.multicharDelimiters[c],s=!0;n=o.copy();for(let u=0;u<h.length;u++){let a=h[u];if(n.i<n.n&&e[n.i]===a)n.i++,n.col++;else{s=!1;break}}if(s){this.state=n,this.token.token=h;return}}n=o.copy(),this.token.type=Q.LexerTokenType.DEL,this.token.token="",n.i<n.n&&(this.token.token=e[n.i],n.i++,n.col++,this.state=n)}nextTokenLinefeed(e){let t=!1;if(this.emitNewline)this.token.row=e.row,this.token.col=e.col,this.token.token=`
`,this.token.type=Q.LexerTokenType.DEL;else if(this.putTrailingSemicolon.length>0){let n=!1;for(let i of this.putTrailingSemicolon)if(i.type===this.lastToken.type&&(i.type===Q.LexerTokenType.DEL?n=i.token===this.lastToken.token:n=!0,n))break;n&&(t=!0,this.token.row=e.row,this.token.col=e.col,this.token.token=";",this.token.type=Q.LexerTokenType.DEL)}return e.row++,e.col=1,e.indent=0,e.i++,this.emitNewline||t}isNext(e){let t=this.fileStack.slice(-1)[0].sourceCode,n=this.state,i=e.length;if(n.i+i>=n.n)return!1;for(let o=0;o<i;o++){let c=e[o];if(t[n.i+o]!=c)return!1}return!0}pushSource(e,t){this.fileStack.length>0&&(this.fileStack.slice(-1)[0].stateBackup=this.state.copy(),this.fileStack.slice(-1)[0].tokenBackup=this.token.copy());let n=new xt;n.id=e,n.sourceCode=t,this.fileStack.push(n),this.state=new yu.LexerState,this.state.n=t.length,this.next()}popSource(){this.fileStack.pop(),this.fileStack.length>0&&(this.state=this.fileStack.slice(-1)[0].stateBackup,this.token=this.fileStack.slice(-1)[0].tokenBackup)}backupState(){return{state:this.state.copy(),token:this.token.copy()}}replayState(e){this.state=e.state,this.token=e.token}};gr.Lexer=Kt});var en=xr(Nr=>{"use strict";var wu=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Au=Nr&&Nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wu(e,r,t)};Object.defineProperty(Nr,"__esModule",{value:!0});Au(Ti(),Nr)});var so=xr((an,un)=>{(function(r,e){typeof an=="object"&&typeof un<"u"?un.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.typed=e())})(an,function(){"use strict";function r(a,f){var p=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!p){if(Array.isArray(a)||(p=e(a))||f&&a&&typeof a.length=="number"){p&&(a=p);var m=0,v=function(){};return{s:v,n:function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}},e:function(x){throw x},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,d=!1,D;return{s:function(){p=p.call(a)},n:function(){var x=p.next();return l=x.done,x},e:function(x){d=!0,D=x},f:function(){try{!l&&p.return!=null&&p.return()}finally{if(d)throw D}}}}function e(a,f){if(!!a){if(typeof a=="string")return t(a,f);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return t(a,f)}}function t(a,f){(f==null||f>a.length)&&(f=a.length);for(var p=0,m=new Array(f);p<f;p++)m[p]=a[p];return m}function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},n(a)}function i(){return!0}function o(){return!1}function c(){}var h="Argument is not a typed-function.";function s(){function a(E){return n(E)==="object"&&E!==null&&E.constructor===Object}var f=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],p={name:"any",test:i,isAny:!0},m,v,l=0,d={createCount:0};function D(E){var C=m.get(E);if(C)return C;var _='Unknown type "'+E+'"',S=E.toLowerCase(),k,P=r(v),U;try{for(P.s();!(U=P.n()).done;)if(k=U.value,k.toLowerCase()===S){_+='. Did you mean "'+k+'" ?';break}}catch(I){P.e(I)}finally{P.f()}throw new TypeError(_)}function A(E){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",_=C?D(C).index:v.length,S=[],k=0;k<E.length;++k){if(!E[k]||typeof E[k].name!="string"||typeof E[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var P=E[k].name;if(m.has(P))throw new TypeError('Duplicate type name "'+P+'"');S.push(P),m.set(P,{name:P,test:E[k].test,isAny:E[k].isAny,index:_+k,conversionsTo:[]})}var U=v.slice(_);v=v.slice(0,_).concat(S).concat(U);for(var I=_+S.length;I<v.length;++I)m.get(v[I]).index=I}function x(){m=new Map,v=[],l=0,A([p],!1)}x(),A(f);function T(){var E,C=r(v),_;try{for(C.s();!(_=C.n()).done;)E=_.value,m.get(E).conversionsTo=[]}catch(S){C.e(S)}finally{C.f()}l=0}function w(E){var C=v.filter(function(_){var S=m.get(_);return!S.isAny&&S.test(E)});return C.length?C:["any"]}function g(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function y(E,C,_){if(!g(E))throw new TypeError(h);var S=_&&_.exact,k=Array.isArray(C)?C.join(","):C,P=L(k),U=N(P);if(!S||U in E.signatures){var I=E._typedFunctionData.signatureMap.get(U);if(I)return I}var q=P.length,Y;if(S){Y=[];var re;for(re in E.signatures)Y.push(E._typedFunctionData.signatureMap.get(re))}else Y=E._typedFunctionData.signatures;for(var Z=0;Z<q;++Z){var ke=P[Z],Be=[],Oe=void 0,Ce=r(Y),Ze;try{for(Ce.s();!(Ze=Ce.n()).done;){Oe=Ze.value;var Te=V(Oe.params,Z);if(!(!Te||ke.restParam&&!Te.restParam)){if(!Te.hasAny){var Ke=function(){var Ve=j(Te);if(ke.types.some(function(_r){return!Ve.has(_r.name)}))return"continue"}();if(Ke==="continue")continue}Be.push(Oe)}}}catch(Ve){Ce.e(Ve)}finally{Ce.f()}if(Y=Be,Y.length===0)break}var Pe,ze=r(Y),br;try{for(ze.s();!(br=ze.n()).done;)if(Pe=br.value,Pe.params.length<=q)return Pe}catch(Ve){ze.e(Ve)}finally{ze.f()}throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+N(P,", ")+"))")}function F(E,C,_){return y(E,C,_).implementation}function b(E,C){var _=D(C);if(_.test(E))return E;var S=_.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+C+" defined.");for(var k=0;k<S.length;k++){var P=D(S[k].from);if(P.test(E))return S[k].convert(E)}throw new Error("Cannot convert "+E+" to "+C)}function N(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(function(_){return _.name}).join(C)}function R(E){var C=E.indexOf("...")===0,_=C?E.length>3?E.slice(3):"any":E,S=_.split("|").map(function(I){return D(I.trim())}),k=!1,P=C?"...":"",U=S.map(function(I){return k=I.isAny||k,P+=I.name+"|",{name:I.name,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:null,conversionIndex:-1}});return{types:U,name:P.slice(0,-1),hasAny:k,hasConversion:!1,restParam:C}}function X(E){var C=E.types.map(function(U){return U.name}),_=ve(C),S=E.hasAny,k=E.name,P=_.map(function(U){var I=D(U.from);return S=I.isAny||S,k+="|"+U.from,{name:U.from,typeIndex:I.index,test:I.test,isAny:I.isAny,conversion:U,conversionIndex:U.index}});return{types:E.types.concat(P),name:k,hasAny:S,hasConversion:P.length>0,restParam:E.restParam}}function j(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(function(C){return E.typeSet.add(C.name)})),E.typeSet}function L(E){var C=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");var _=E.trim();if(_==="")return C;for(var S=_.split(","),k=0;k<S.length;++k){var P=R(S[k].trim());if(P.restParam&&k!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[k]+'": only allowed for the last parameter');if(P.types.length===0)return null;C.push(P)}return C}function O(E){var C=nr(E);return C?C.restParam:!1}function M(E){if(!E||E.types.length===0)return i;if(E.types.length===1)return D(E.types[0].name).test;if(E.types.length===2){var C=D(E.types[0].name).test,_=D(E.types[1].name).test;return function(P){return C(P)||_(P)}}else{var S=E.types.map(function(k){return D(k.name).test});return function(P){for(var U=0;U<S.length;U++)if(S[U](P))return!0;return!1}}}function G(E){var C,_,S;if(O(E)){C=Sr(E).map(M);var k=C.length,P=M(nr(E)),U=function(q){for(var Y=k;Y<q.length;Y++)if(!P(q[Y]))return!1;return!0};return function(q){for(var Y=0;Y<C.length;Y++)if(!C[Y](q[Y]))return!1;return U(q)&&q.length>=k+1}}else return E.length===0?function(q){return q.length===0}:E.length===1?(_=M(E[0]),function(q){return _(q[0])&&q.length===1}):E.length===2?(_=M(E[0]),S=M(E[1]),function(q){return _(q[0])&&S(q[1])&&q.length===2}):(C=E.map(M),function(q){for(var Y=0;Y<C.length;Y++)if(!C[Y](q[Y]))return!1;return q.length===C.length})}function V(E,C){return C<E.length?E[C]:O(E)?nr(E):null}function H(E,C){var _=V(E,C);return _?j(_):new Set}function J(E){return E.conversion===null||E.conversion===void 0}function ue(E,C){var _=new Set;return E.forEach(function(S){var k=H(S.params,C),P,U=r(k),I;try{for(U.s();!(I=U.n()).done;)P=I.value,_.add(P)}catch(q){U.e(q)}finally{U.f()}}),_.has("any")?["any"]:Array.from(_)}function oe(E,C,_){var S,k,P=E||"unnamed",U=_,I,q=function(){var Ce=[];if(U.forEach(function(Te){var Ke=V(Te.params,I),Pe=M(Ke);(I<Te.params.length||O(Te.params))&&Pe(C[I])&&Ce.push(Te)}),Ce.length===0){if(k=ue(U,I),k.length>0){var Ze=w(C[I]);return S=new TypeError("Unexpected type of argument in function "+P+" (expected: "+k.join(" or ")+", actual: "+Ze.join(" | ")+", index: "+I+")"),S.data={category:"wrongType",fn:P,index:I,actual:Ze,expected:k},{v:S}}}else U=Ce};for(I=0;I<C.length;I++){var Y=q();if(n(Y)==="object")return Y.v}var re=U.map(function(Oe){return O(Oe.params)?1/0:Oe.params.length});if(C.length<Math.min.apply(null,re))return k=ue(U,I),S=new TypeError("Too few arguments in function "+P+" (expected: "+k.join(" or ")+", index: "+C.length+")"),S.data={category:"tooFewArgs",fn:P,index:C.length,expected:k},S;var Z=Math.max.apply(null,re);if(C.length>Z)return S=new TypeError("Too many arguments in function "+P+" (expected: "+Z+", actual: "+C.length+")"),S.data={category:"tooManyArgs",fn:P,index:C.length,expectedLength:Z},S;for(var ke=[],Be=0;Be<C.length;++Be)ke.push(w(C[Be]).join("|"));return S=new TypeError('Arguments of type "'+ke.join(", ")+'" do not match any of the defined signatures of function '+P+"."),S.data={category:"mismatch",actual:ke},S}function ie(E){for(var C=v.length+1,_=0;_<E.types.length;_++)J(E.types[_])&&(C=Math.min(C,E.types[_].typeIndex));return C}function ge(E){for(var C=l+1,_=0;_<E.types.length;_++)J(E.types[_])||(C=Math.min(C,E.types[_].conversionIndex));return C}function Ee(E,C){if(E.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(E.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(E.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;var _=ie(E)-ie(C);if(_<0)return-1;if(_>0)return 1;var S=ge(E)-ge(C);return S<0?-1:S>0?1:0}function Ae(E,C){var _=E.params,S=C.params,k=nr(_),P=nr(S),U=O(_),I=O(S);if(U&&k.hasAny){if(!I||!P.hasAny)return 1}else if(I&&P.hasAny)return-1;var q=0,Y=0,re,Z=r(_),ke;try{for(Z.s();!(ke=Z.n()).done;)re=ke.value,re.hasAny&&++q,re.hasConversion&&++Y}catch(Qr){Z.e(Qr)}finally{Z.f()}var Be=0,Oe=0,Ce=r(S),Ze;try{for(Ce.s();!(Ze=Ce.n()).done;)re=Ze.value,re.hasAny&&++Be,re.hasConversion&&++Oe}catch(Qr){Ce.e(Qr)}finally{Ce.f()}if(q!==Be)return q-Be;if(U&&k.hasConversion){if(!I||!P.hasConversion)return 1}else if(I&&P.hasConversion)return-1;if(Y!==Oe)return Y-Oe;if(U){if(!I)return 1}else if(I)return-1;var Te=(_.length-S.length)*(U?-1:1);if(Te!==0)return Te;for(var Ke=[],Pe=0,ze=0;ze<_.length;++ze){var br=Ee(_[ze],S[ze]);Ke.push(br),Pe+=br}if(Pe!==0)return Pe;for(var Ve,_r=0,pt=Ke;_r<pt.length;_r++)if(Ve=pt[_r],Ve!==0)return Ve;return 0}function ve(E){if(E.length===0)return[];var C=E.map(D);E.length>1&&C.sort(function(q,Y){return q.index-Y.index});var _=C[0].conversionsTo;if(E.length===1)return _;_=_.concat([]);for(var S=new Set(E),k=1;k<C.length;++k){var P=void 0,U=r(C[k].conversionsTo),I;try{for(U.s();!(I=U.n()).done;)P=I.value,S.has(P.from)||(_.push(P),S.add(P.from))}catch(q){U.e(q)}finally{U.f()}}return _}function Xe(E,C){var _=C;if(E.some(function(I){return I.hasConversion})){var S=O(E),k=E.map(xe);_=function(){for(var q=[],Y=S?arguments.length-1:arguments.length,re=0;re<Y;re++)q[re]=k[re](arguments[re]);return S&&(q[Y]=arguments[Y].map(k[Y])),C.apply(this,q)}}var P=_;if(O(E)){var U=E.length-1;P=function(){return _.apply(this,Wr(arguments,0,U).concat([Wr(arguments,U)]))}}return P}function xe(E){var C,_,S,k,P=[],U=[];switch(E.types.forEach(function(I){I.conversion&&(P.push(D(I.conversion.from).test),U.push(I.conversion.convert))}),U.length){case 0:return function(q){return q};case 1:return C=P[0],S=U[0],function(q){return C(q)?S(q):q};case 2:return C=P[0],_=P[1],S=U[0],k=U[1],function(q){return C(q)?S(q):_(q)?k(q):q};default:return function(q){for(var Y=0;Y<U.length;Y++)if(P[Y](q))return U[Y](q);return q}}}function le(E){function C(_,S,k){if(S<_.length){var P=_[S],U=[];if(P.restParam){var I=P.types.filter(J);I.length<P.types.length&&U.push({types:I,name:"..."+I.map(function(q){return q.name}).join("|"),hasAny:I.some(function(q){return q.isAny}),hasConversion:!1,restParam:!0}),U.push(P)}else U=P.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return Ra(U,function(q){return C(_,S+1,k.concat([q]))})}else return[k]}return C(E,0,[])}function Je(E,C){for(var _=Math.max(E.length,C.length),S=0;S<_;S++){var k=H(E,S),P=H(C,S),U=!1,I=void 0,q=r(P),Y;try{for(q.s();!(Y=q.n()).done;)if(I=Y.value,k.has(I)){U=!0;break}}catch(Oe){q.e(Oe)}finally{q.f()}if(!U)return!1}var re=E.length,Z=C.length,ke=O(E),Be=O(C);return ke?Be?re===Z:Z>=re:Be?re>=Z:re===Z}function Ne(E){return E.map(function(C){return mi(C)?pi(C.referToSelf.callback):hi(C)?li(C.referTo.references,C.referTo.callback):C})}function fe(E,C,_){var S=[],k,P=r(E),U;try{for(P.s();!(U=P.n()).done;){k=U.value;var I=_[k];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+k+'"');if(I=C[I],typeof I!="function")return!1;S.push(I)}}catch(q){P.e(q)}finally{P.f()}return S}function Se(E,C,_){for(var S=Ne(E),k=new Array(S.length).fill(!1),P=!0;P;){P=!1;for(var U=!0,I=0;I<S.length;++I)if(!k[I]){var q=S[I];if(mi(q))S[I]=q.referToSelf.callback(_),S[I].referToSelf=q.referToSelf,k[I]=!0,U=!1;else if(hi(q)){var Y=fe(q.referTo.references,S,C);Y?(S[I]=q.referTo.callback.apply(this,Y),S[I].referTo=q.referTo,k[I]=!0,U=!1):P=!0}}if(U&&P)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function tr(E){var C=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(function(_){var S=E[_];if(C.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Dr(E,C){if(d.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&tr(C);var _=[],S=[],k={},P=[],U,I=function(){if(!Object.prototype.hasOwnProperty.call(C,U))return"continue";var Ie=L(U);if(!Ie)return"continue";_.forEach(function(Br){if(Je(Br,Ie))throw new TypeError('Conflicting signatures "'+N(Br)+'" and "'+N(Ie)+'".')}),_.push(Ie);var Di=S.length;S.push(C[U]);var lu=Ie.map(X),ht=void 0,mt=r(le(lu)),xi;try{for(mt.s();!(xi=mt.n()).done;){ht=xi.value;var gi=N(ht);P.push({params:ht,name:gi,fn:Di}),ht.every(function(Br){return!Br.hasConversion})&&(k[gi]=Di)}}catch(Br){mt.e(Br)}finally{mt.f()}};for(U in C)var q=I();P.sort(Ae);var Y=Se(S,k,$r),re;for(re in k)Object.prototype.hasOwnProperty.call(k,re)&&(k[re]=Y[k[re]]);for(var Z=[],ke=new Map,Be=0,Oe=P;Be<Oe.length;Be++)re=Oe[Be],ke.has(re.name)||(re.fn=Y[re.fn],Z.push(re),ke.set(re.name,re));for(var Ce=Z[0]&&Z[0].params.length<=2&&!O(Z[0].params),Ze=Z[1]&&Z[1].params.length<=2&&!O(Z[1].params),Te=Z[2]&&Z[2].params.length<=2&&!O(Z[2].params),Ke=Z[3]&&Z[3].params.length<=2&&!O(Z[3].params),Pe=Z[4]&&Z[4].params.length<=2&&!O(Z[4].params),ze=Z[5]&&Z[5].params.length<=2&&!O(Z[5].params),br=Ce&&Ze&&Te&&Ke&&Pe&&ze,Ve=0;Ve<Z.length;++Ve)Z[Ve].test=G(Z[Ve].params);for(var _r=Ce?M(Z[0].params[0]):o,pt=Ze?M(Z[1].params[0]):o,Qr=Te?M(Z[2].params[0]):o,za=Ke?M(Z[3].params[0]):o,qa=Pe?M(Z[4].params[0]):o,Ua=ze?M(Z[5].params[0]):o,Xa=Ce?M(Z[0].params[1]):o,Za=Ze?M(Z[1].params[1]):o,Va=Te?M(Z[2].params[1]):o,ja=Ke?M(Z[3].params[1]):o,Ha=Pe?M(Z[4].params[1]):o,Ga=ze?M(Z[5].params[1]):o,Yr=0;Yr<Z.length;++Yr)Z[Yr].implementation=Xe(Z[Yr].params,Z[Yr].fn);var Wa=Ce?Z[0].implementation:c,Qa=Ze?Z[1].implementation:c,Ya=Te?Z[2].implementation:c,$a=Ke?Z[3].implementation:c,Ja=Pe?Z[4].implementation:c,Ka=ze?Z[5].implementation:c,eu=Ce?Z[0].params.length:-1,ru=Ze?Z[1].params.length:-1,tu=Te?Z[2].params.length:-1,nu=Ke?Z[3].params.length:-1,iu=Pe?Z[4].params.length:-1,ou=ze?Z[5].params.length:-1,au=br?6:0,uu=Z.length,su=Z.map(function(We){return We.test}),fu=Z.map(function(We){return We.implementation}),cu=function(){for(var Ie=au;Ie<uu;Ie++)if(su[Ie](arguments))return fu[Ie].apply(this,arguments);return d.onMismatch(E,arguments,Z)};function $r(We,Ie){return arguments.length===eu&&_r(We)&&Xa(Ie)?Wa.apply(this,arguments):arguments.length===ru&&pt(We)&&Za(Ie)?Qa.apply(this,arguments):arguments.length===tu&&Qr(We)&&Va(Ie)?Ya.apply(this,arguments):arguments.length===nu&&za(We)&&ja(Ie)?$a.apply(this,arguments):arguments.length===iu&&qa(We)&&Ha(Ie)?Ja.apply(this,arguments):arguments.length===ou&&Ua(We)&&Ga(Ie)?Ka.apply(this,arguments):cu.apply(this,arguments)}try{Object.defineProperty($r,"name",{value:E})}catch{}return $r.signatures=k,$r._typedFunctionData={signatures:Z,signatureMap:ke},$r}function cr(E,C,_){throw oe(E,C,_)}function Sr(E){return Wr(E,0,E.length-1)}function nr(E){return E[E.length-1]}function Wr(E,C,_){return Array.prototype.slice.call(E,C,_)}function Ia(E,C){for(var _=0;_<E.length;_++)if(C(E[_]))return E[_]}function Ra(E,C){return Array.prototype.concat.apply([],E.map(C))}function Oa(){var E=Sr(arguments).map(function(_){return N(L(_))}),C=nr(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return li(E,C)}function li(E,C){return{referTo:{references:E,callback:C}}}function pi(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function hi(E){return E&&n(E.referTo)==="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function mi(E){return E&&n(E.referToSelf)==="object"&&typeof E.referToSelf.callback=="function"}function vi(E,C){if(!E)return C;if(C&&C!==E){var _=new Error("Function names do not match (expected: "+E+", actual: "+C+")");throw _.data={actual:C,expected:E},_}return E}function La(E){var C;for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(g(E[_])||typeof E[_].signature=="string")&&(C=vi(C,E[_].name));return C}function ka(E,C){var _;for(_ in C)if(Object.prototype.hasOwnProperty.call(C,_)){if(_ in E&&C[_]!==E[_]){var S=new Error('Signature "'+_+'" is defined twice');throw S.data={signature:_,sourceFunction:C[_],destFunction:E[_]},S}E[_]=C[_]}}var Pa=d;d=function(C){for(var _=typeof C=="string",S=_?1:0,k=_?C:"",P={},U=S;U<arguments.length;++U){var I=arguments[U],q={},Y=void 0;if(typeof I=="function"?(Y=I.name,typeof I.signature=="string"?q[I.signature]=I:g(I)&&(q=I.signatures)):a(I)&&(q=I,_||(Y=La(I))),Object.keys(q).length===0){var re=new TypeError("Argument to 'typed' at index "+U+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw re.data={index:U,argument:I},re}_||(k=vi(k,Y)),ka(P,q)}return Dr(k||"",P)},d.create=s,d.createCount=Pa.createCount,d.onMismatch=cr,d.throwMismatchError=cr,d.createError=oe,d.clear=x,d.clearConversions=T,d.addTypes=A,d._findType=D,d.referTo=Oa,d.referToSelf=pi,d.convert=b,d.findSignature=y,d.find=F,d.isTypedFunction=g,d.warnAgainstDeprecatedThis=!0,d.addType=function(E,C){var _="any";C!==!1&&m.has("Object")&&(_="Object"),d.addTypes([E],_)};function di(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return d.addConversion=function(E){di(E);var C=D(E.to);if(C.conversionsTo.every(function(_){return _.from!==E.from}))C.conversionsTo.push({from:E.from,convert:E.convert,index:l++});else throw new Error('There is already a conversion from "'+E.from+'" to "'+C.name+'"')},d.addConversions=function(E){E.forEach(d.addConversion)},d.removeConversion=function(E){di(E);var C=D(E.to),_=Ia(C.conversionsTo,function(k){return k.from===E.from});if(!_)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(_.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");var S=C.conversionsTo.indexOf(_);C.conversionsTo.splice(S,1)},d.resolve=function(E,C){if(!g(E))throw new TypeError(h);for(var _=E._typedFunctionData.signatures,S=0;S<_.length;++S)if(_[S].test(C))return _[S];return null},d}var u=s();return u})});var Wo=xr((Fn,Go)=>{(function(r){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},n=function(u){var a=Math.PI/4;if(-a>u||u>a)return Math.cos(u)-1;var f=u*u;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,a){var f=Math.abs(u),p=Math.abs(a);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=u/a):p=a/u,f*Math.sqrt(1+p*p))},o=function(){throw SyntaxError("Invalid Param")};function c(u,a){var f=Math.abs(u),p=Math.abs(a);return u===0?Math.log(p):a===0?Math.log(f):f<3e3&&p<3e3?Math.log(u*u+a*a)*.5:(u=u/2,a=a/2,.5*Math.log(u*u+a*a)+Math.LN2)}var h=function(u,a){var f={re:0,im:0};if(u==null)f.re=f.im=0;else if(a!==void 0)f.re=u,f.im=a;else switch(typeof u){case"object":if("im"in u&&"re"in u)f.re=u.re,f.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return s.INFINITY;f.re=u.abs*Math.cos(u.arg),f.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return s.INFINITY;f.re=u.r*Math.cos(u.phi),f.im=u.r*Math.sin(u.phi)}else u.length===2?(f.re=u[0],f.im=u[1]):o();break;case"string":f.im=f.re=0;var p=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;p===null&&o();for(var l=0;l<p.length;l++){var d=p[l];d===" "||d==="	"||d===`
`||(d==="+"?m++:d==="-"?v++:d==="i"||d==="I"?(m+v===0&&o(),p[l+1]!==" "&&!isNaN(p[l+1])?(f.im+=parseFloat((v%2?"-":"")+p[l+1]),l++):f.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(d))&&o(),p[l+1]==="i"||p[l+1]==="I"?(f.im+=parseFloat((v%2?"-":"")+d),l++):f.re+=parseFloat((v%2?"-":"")+d),m=v=0))}m+v>0&&o();break;case"number":f.im=0,f.re=u;break;default:o()}return isNaN(f.re)||isNaN(f.im),f};function s(u,a){if(!(this instanceof s))return new s(u,a);var f=h(u,a);this.re=f.re,this.im=f.im}s.prototype={re:0,im:0,sign:function(){var u=this.abs();return new s(this.re/u,this.im/u)},add:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re+f.re,this.im+f.im)},sub:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re-f.re,this.im-f.im)},mul:function(u,a){var f=new s(u,a);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:f.im===0&&this.im===0?new s(this.re*f.re,0):new s(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(u,a){var f=new s(u,a);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return s.NAN;if(this.isInfinite()||f.isZero())return s.INFINITY;if(this.isZero()||f.isInfinite())return s.ZERO;u=this.re,a=this.im;var p=f.re,m=f.im,v,l;return m===0?new s(u/p,a/p):Math.abs(p)<Math.abs(m)?(l=p/m,v=p*l+m,new s((u*l+a)/v,(a*l-u)/v)):(l=m/p,v=m*l+p,new s((u+a*l)/v,(a-u*l)/v))},pow:function(u,a){var f=new s(u,a);if(u=this.re,a=this.im,f.isZero())return s.ONE;if(f.im===0){if(a===0&&u>0)return new s(Math.pow(u,f.re),0);if(u===0)switch((f.re%4+4)%4){case 0:return new s(Math.pow(a,f.re),0);case 1:return new s(0,Math.pow(a,f.re));case 2:return new s(-Math.pow(a,f.re),0);case 3:return new s(0,-Math.pow(a,f.re))}}if(u===0&&a===0&&f.re>0&&f.im>=0)return s.ZERO;var p=Math.atan2(a,u),m=c(u,a);return u=Math.exp(f.re*m-f.im*p),a=f.im*m+f.re*p,new s(u*Math.cos(a),u*Math.sin(a))},sqrt:function(){var u=this.re,a=this.im,f=this.abs(),p,m;if(u>=0){if(a===0)return new s(Math.sqrt(u),0);p=.5*Math.sqrt(2*(f+u))}else p=Math.abs(a)/Math.sqrt(2*(f-u));return u<=0?m=.5*Math.sqrt(2*(f-u)):m=Math.abs(a)/Math.sqrt(2*(f+u)),new s(p,a<0?-m:m)},exp:function(){var u=Math.exp(this.re);return this.im,new s(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,a=this.im;return new s(Math.expm1(u)*Math.cos(a)+n(a),Math.exp(u)*Math.sin(a))},log:function(){var u=this.re,a=this.im;return a===0&&u>0,new s(c(u,a),Math.atan2(a,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,a=this.im;return new s(Math.sin(u)*e(a),Math.cos(u)*t(a))},cos:function(){var u=this.re,a=this.im;return new s(Math.cos(u)*e(a),-Math.sin(u)*t(a))},tan:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)+e(a);return new s(Math.sin(u)/f,t(a)/f)},cot:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)-e(a);return new s(-Math.sin(u)/f,t(a)/f)},sec:function(){var u=this.re,a=this.im,f=.5*e(2*a)+.5*Math.cos(2*u);return new s(Math.cos(u)*e(a)/f,Math.sin(u)*t(a)/f)},csc:function(){var u=this.re,a=this.im,f=.5*e(2*a)-.5*Math.cos(2*u);return new s(Math.sin(u)*e(a)/f,-Math.cos(u)*t(a)/f)},asin:function(){var u=this.re,a=this.im,f=new s(a*a-u*u+1,-2*u*a).sqrt(),p=new s(f.re-a,f.im+u).log();return new s(p.im,-p.re)},acos:function(){var u=this.re,a=this.im,f=new s(a*a-u*u+1,-2*u*a).sqrt(),p=new s(f.re-a,f.im+u).log();return new s(Math.PI/2-p.im,p.re)},atan:function(){var u=this.re,a=this.im;if(u===0){if(a===1)return new s(0,1/0);if(a===-1)return new s(0,-1/0)}var f=u*u+(1-a)*(1-a),p=new s((1-a*a-u*u)/f,-2*u/f).log();return new s(-.5*p.im,.5*p.re)},acot:function(){var u=this.re,a=this.im;if(a===0)return new s(Math.atan2(1,u),0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).atan():new s(u!==0?u/0:0,a!==0?-a/0:0).atan()},asec:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(0,1/0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).acos():new s(u!==0?u/0:0,a!==0?-a/0:0).acos()},acsc:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(Math.PI/2,1/0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).asin():new s(u!==0?u/0:0,a!==0?-a/0:0).asin()},sinh:function(){var u=this.re,a=this.im;return new s(t(u)*Math.cos(a),e(u)*Math.sin(a))},cosh:function(){var u=this.re,a=this.im;return new s(e(u)*Math.cos(a),t(u)*Math.sin(a))},tanh:function(){var u=2*this.re,a=2*this.im,f=e(u)+Math.cos(a);return new s(t(u)/f,Math.sin(a)/f)},coth:function(){var u=2*this.re,a=2*this.im,f=e(u)-Math.cos(a);return new s(t(u)/f,-Math.sin(a)/f)},csch:function(){var u=this.re,a=this.im,f=Math.cos(2*a)-e(2*u);return new s(-2*t(u)*Math.cos(a)/f,2*e(u)*Math.sin(a)/f)},sech:function(){var u=this.re,a=this.im,f=Math.cos(2*a)+e(2*u);return new s(2*e(u)*Math.cos(a)/f,-2*t(u)*Math.sin(a)/f)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var a=this.asin();return this.re=-this.im,this.im=u,u=a.re,a.re=-a.im,a.im=u,a},acosh:function(){var u=this.acos();if(u.im<=0){var a=u.re;u.re=-u.im,u.im=a}else{var a=u.im;u.im=-u.re,u.re=a}return u},atanh:function(){var u=this.re,a=this.im,f=u>1&&a===0,p=1-u,m=1+u,v=p*p+a*a,l=v!==0?new s((m*p-a*a)/v,(a*p+m*a)/v):new s(u!==-1?u/0:0,a!==0?a/0:0),d=l.re;return l.re=c(l.re,l.im)/2,l.im=Math.atan2(l.im,d)/2,f&&(l.im=-l.im),l},acoth:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new s(0,Math.PI/2);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).atanh():new s(u!==0?u/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var u=this.re,a=this.im;if(a===0)return new s(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var f=u*u+a*a;return f!==0?new s(u/f,-a/f).asinh():new s(u!==0?u/0:0,a!==0?-a/0:0).asinh()},asech:function(){var u=this.re,a=this.im;if(this.isZero())return s.INFINITY;var f=u*u+a*a;return f!==0?new s(u/f,-a/f).acosh():new s(u!==0?u/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var u=this.re,a=this.im,f=u*u+a*a;return new s(u/f,-a/f)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new s(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new s(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new s(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,a){var f=new s(u,a);return Math.abs(f.re-this.re)<=s.EPSILON&&Math.abs(f.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var u=this.re,a=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<s.EPSILON&&(u=0),Math.abs(a)<s.EPSILON&&(a=0),a===0?f+u:(u!==0?(f+=u,f+=" ",a<0?(a=-a,f+="-"):f+="+",f+=" "):a<0&&(a=-a,f+="-"),a!==1&&(f+=a),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof Fn=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Go.exports=s):r.Complex=s})(Fn)});var Yo=xr((bn,Qo)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(p,m){if(isNaN(p=parseInt(p,10)))throw f.InvalidParameter;return p*m}function i(p,m){if(m===0)throw f.DivisionByZero;var v=Object.create(f.prototype);v.s=p<0?-1:1,p=p<0?-p:p;var l=a(p,m);return v.n=p/l,v.d=m/l,v}function o(p){for(var m={},v=p,l=2,d=4;d<=v;){for(;v%l===0;)v/=l,m[l]=(m[l]||0)+1;d+=1+2*l++}return v!==p?v>1&&(m[v]=(m[v]||0)+1):m[p]=(m[p]||0)+1,m}var c=function(p,m){var v=0,l=1,d=1,D=0,A=0,x=0,T=1,w=1,g=0,y=1,F=1,b=1,N=1e7,R;if(p!=null)if(m!==void 0){if(v=p,l=m,d=v*l,v%1!==0||l%1!==0)throw f.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)v=p.n,l=p.d,"s"in p&&(v*=p.s);else if(0 in p)v=p[0],1 in p&&(l=p[1]);else throw f.InvalidParameter;d=v*l;break}case"number":{if(p<0&&(d=p,p=-p),p%1===0)v=p;else if(p>0){for(p>=1&&(w=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=w);y<=N&&b<=N;)if(R=(g+F)/(y+b),p===R){y+b<=N?(v=g+F,l=y+b):b>y?(v=F,l=b):(v=g,l=y);break}else p>R?(g+=F,y+=b):(F+=g,b+=y),y>N?(v=F,l=b):(v=g,l=y);v*=w}else(isNaN(p)||isNaN(m))&&(l=v=NaN);break}case"string":{if(y=p.match(/\d+|./g),y===null)throw f.InvalidParameter;if(y[g]==="-"?(d=-1,g++):y[g]==="+"&&g++,y.length===g+1?A=n(y[g++],d):y[g+1]==="."||y[g]==="."?(y[g]!=="."&&(D=n(y[g++],d)),g++,(g+1===y.length||y[g+1]==="("&&y[g+3]===")"||y[g+1]==="'"&&y[g+3]==="'")&&(A=n(y[g],d),T=Math.pow(10,y[g].length),g++),(y[g]==="("&&y[g+2]===")"||y[g]==="'"&&y[g+2]==="'")&&(x=n(y[g+1],d),w=Math.pow(10,y[g+1].length)-1,g+=3)):y[g+1]==="/"||y[g+1]===":"?(A=n(y[g],d),T=n(y[g+2],1),g+=3):y[g+3]==="/"&&y[g+1]===" "&&(D=n(y[g],d),A=n(y[g+2],d),T=n(y[g+4],1),g+=5),y.length<=g){l=T*w,d=v=x+l*D+w*A;break}}default:throw f.InvalidParameter}if(l===0)throw f.DivisionByZero;t.s=d<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(l)};function h(p,m,v){for(var l=1;m>0;p=p*p%v,m>>=1)m&1&&(l=l*p%v);return l}function s(p,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var v=10%m,l=1;v!==1;l++)if(v=v*10%m,l>e)return 0;return l}function u(p,m,v){for(var l=1,d=h(10,v,m),D=0;D<300;D++){if(l===d)return D;l=l*10%m,d=d*10%m}return 0}function a(p,m){if(!p)return m;if(!m)return p;for(;;){if(p%=m,!p)return m;if(m%=p,!m)return p}}function f(p,m){if(c(p,m),this instanceof f)p=a(t.d,t.n),this.s=t.s,this.n=t.n/p,this.d=t.d/p;else return i(t.s*t.n,t.d)}f.DivisionByZero=new Error("Division by Zero"),f.InvalidParameter=new Error("Invalid argument"),f.NonIntegerParameter=new Error("Parameters must be integer"),f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(p,m){return c(p,m),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(p,m){return c(p,m),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(p,m){return c(p,m),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(p,m){return c(p,m),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(p,m){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(p===void 0)return i(this.s*this.n%this.d,1);if(c(p,m),t.n===0&&this.d===0)throw f.DivisionByZero;return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(p,m){return c(p,m),i(a(t.n,this.n)*a(t.d,this.d),t.d*this.d)},lcm:function(p,m){return c(p,m),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,a(t.n,this.n)*a(t.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(p,m){if(c(p,m),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=o(this.n),l=o(this.d),d=1,D=1;for(var A in v)if(A!=="1"){if(A==="0"){d=0;break}if(v[A]*=t.n,v[A]%t.d===0)v[A]/=t.d;else return null;d*=Math.pow(A,v[A])}for(var A in l)if(A!=="1"){if(l[A]*=t.n,l[A]%t.d===0)l[A]/=t.d;else return null;D*=Math.pow(A,l[A])}return t.s<0?i(D,d):i(d,D)},equals:function(p,m){return c(p,m),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(p,m){c(p,m);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var m=this.abs(),v=m.toContinued(),l=1;l<v.length;l++){for(var d=i(v[l-1],1),D=l-2;D>=0;D--)d=d.inverse().add(v[D]);if(d.sub(m).abs().valueOf()<p)return d.mul(this.s)}return this},divisible:function(p,m){return c(p,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var m,v="",l=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=l:(p&&(m=Math.floor(l/d))>0&&(v+=m,v+=" ",l%=d),v+=l,v+="/",v+=d),v},toLatex:function(p){var m,v="",l=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=l:(p&&(m=Math.floor(l/d))>0&&(v+=m,l%=d),v+="\\frac{",v+=l,v+="}{",v+=d,v+="}"),v},toContinued:function(){var p,m=this.n,v=this.d,l=[];if(isNaN(m)||isNaN(v))return l;do l.push(Math.floor(m/v)),p=m%v,m=v,v=p;while(m!==1);return l},toString:function(p){var m=this.n,v=this.d;if(isNaN(m)||isNaN(v))return"NaN";p=p||15;var l=s(m,v),d=u(m,v,l),D=this.s<0?"-":"";if(D+=m/v|0,m%=v,m*=10,m&&(D+="."),l){for(var A=d;A--;)D+=m/v|0,m%=v,m*=10;D+="(";for(var A=l;A--;)D+=m/v|0,m%=v,m*=10;D+=")"}else for(var A=p;m&&A--;)D+=m/v|0,m%=v,m*=10;return D}},typeof define=="function"&&define.amd?define([],function(){return f}):typeof bn=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,Qo.exports=f):r.Fraction=f})(bn)});var Bc={};Du(Bc,{code:()=>$t,interpret:()=>Sc});var bi=Jr(en());var rr=class{constructor(e="INT"){this.base="INT";this.base=e}clone(){let e=new rr;return e.base=this.base,e}toString(){return""+this.base}},qe=class{constructor(e=""){this.str="";this.str=e}},rt=class{constructor(){this.type=new rr;this.code=new qe;this.sym=null}};var lr=class{constructor(e,t,n,i,o=[]){this.id="";this.kind="LOCAL";this.type=new rr;this.scope=0;this.runtimeId="";this.subSymbols=[];this.functionOverloadSuccessor=null;this.value=null;this.id=e,this.kind=t,this.type=n,this.scope=i,this.subSymbols=o}toString(){let e="SYM";if(e+=',id="'+this.id+'"',e+=',kind="'+this.kind+'"',e+=',type="'+this.type.toString()+'"',e+=',scope="'+this.scope+'"',e+=',runtimeId="'+this.runtimeId+'"',this.subSymbols.length>0){e+=`,subSymbols=[
`;for(let t=0;t<this.subSymbols.length;t++)e+="  "+this.subSymbols[t].toString();e+="]"}return e+=`
`,e}};function rn(r,e){if(e==="BOOL")return"BOOL";if(e==="INT")return"INT";if(e==="REAL")return"REAL";if(e==="COMPLEX")return"COMPLEX";if(e==="MATRIX")return"MATRIX";if(e==="TERM")return"TERM";if(e==="TERM_VAR")return"TERM_VAR";r.error("unknown base type "+e)}function _i(r){let e=new bi.Lexer;e.configureSingleLineComments("#"),e.configureMultiLineComments("",""),e.enableEmitNewlines(!1),e.enableEmitIndentation(!1),e.enableBackslashLineBreaks(!1),e.setTerminals(["->"]),e.pushSource("PROTOTYPES",r);let t=[];for(;e.isNotEND();){let n=e.ID(),i=[],o=[];if(e.isTER("<")){e.next();let m=0;for(;e.isNotTER(">");)m>0&&e.TER(","),i.push(e.ID()),e.TER(":"),o.push(rn(e,e.ID())),m++;e.TER(">")}let c=[],h=[];e.TER("(");let s=0;for(;e.isNotTER(")");)s>0&&e.TER(","),c.push(e.ID()),e.TER(":"),h.push(rn(e,e.ID())),s++;e.TER(")"),e.TER(":");let u=rn(e,e.ID());e.TER("->");let a=e.ID();e.TER("."),a+="."+e.ID(),e.TER(";");let f=[];for(let m=0;m<i.length;m++){let v=new lr(i[m],"DIMENSION",new rr(o[m]),1,[]);f.push(v)}for(let m=0;m<c.length;m++){let v=new lr(c[m],"PARAMETER",new rr(h[m]),1,[]);f.push(v)}let p=new lr(n,"FUNCTION",new rr(u),0,f);p.runtimeId=a;for(let m=t.length-1;m>=0;m--)if(t[m].id===n){t[m].functionOverloadSuccessor=p;break}t.push(p)}return t}function tt(){return tt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tt.apply(this,arguments)}var tn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function se(r){return typeof r=="number"}function _e(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function nn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function on(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function gt(r){return r&&r.constructor.prototype.isUnit===!0||!1}function je(r){return typeof r=="string"}var pe=Array.isArray;function de(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function pr(r){return Array.isArray(r)||de(r)}function Mi(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ni(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Si(r){return r&&r.constructor.prototype.isRange===!0||!1}function Or(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Bi(r){return typeof r=="boolean"}function Ii(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Ri(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Oi(r){return typeof r=="function"}function Li(r){return r instanceof Date}function ki(r){return r instanceof RegExp}function Pi(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!nn(r)&&!on(r))}function zi(r){return r===null}function qi(r){return r===void 0}function Ui(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xi(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zi(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vi(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function ji(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hi(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wi(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yi(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function $i(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ji(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ki(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function eo(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function ro(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function to(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function no(r){return r&&r.constructor.prototype.isChain===!0||!1}function Ye(r){var e=typeof r;return e==="object"?r===null?"null":_e(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function he(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return he(t)});if(r instanceof Date)return new Date(r.valueOf());if(_e(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Cu(r,he)}function Cu(r,e){var t={};for(var n in r)kr(r,n)&&(t[n]=e(r[n]));return t}function io(r,e){for(var t in e)kr(e,t)&&(r[t]=e[t]);return r}function Lr(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Lr(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Lr(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function kr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function oo(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=r[i];o!==void 0&&(t[i]=o)}return t}var ao=["Matrix","Array"],uo=["number","BigNumber","Fraction"];var ar=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(tn)};tt(ar,tn,{MATRIX_OPTIONS:ao,NUMBER_OPTIONS:uo});var vn=Jr(so(),1);function ae(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var fo=Math.sign||function(r){return r>0?1:r<0?-1:0},co=Math.log2||function(e){return Math.log(e)/Math.LN2},lo=Math.log10||function(e){return Math.log(e)/Math.LN10},po=Math.log1p||function(r){return Math.log(r+1)},ho=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},mo=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function sn(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ae(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!ae(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),o="i".concat(t)}var c="";return r<0&&(r=-r,c="-"),"".concat(c).concat(i).concat(r.toString(e)).concat(o)}function nt(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),se(e)?n=e:se(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return vo(r,n);case"exponential":return Do(r,n);case"engineering":return Fu(r,n);case"bin":return sn(r,2,i);case"oct":return sn(r,8,i);case"hex":return sn(r,16,i);case"auto":return Tu(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],c=arguments[4];return o!=="."?o+c:c});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Et(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var c=n.replace(".","").replace(/^0*/,function(h){return i-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return c.length===0&&(c.push(0),i++),{sign:t,coefficients:c,exponent:i}}function Fu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Et(r),n=yt(t,e),i=n.exponent,o=n.coefficients,c=i%3===0?i:i<0?i-3-i%3:i-i%3;if(se(e))for(;e>o.length||i-c+1>o.length;)o.push(0);else for(var h=Math.abs(i-c)-(o.length-1),s=0;s<h;s++)o.push(0);for(var u=Math.abs(i-c),a=1;u>0;)a++,u--;var f=o.slice(a).join(""),p=se(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=o.slice(0,a).join("")+p+"e"+(i>=0?"+":"")+c.toString();return n.sign+m}function vo(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Et(r),n=typeof e=="number"?yt(t,t.exponent+1+e):t,i=n.coefficients,o=n.exponent+1,c=o+(e||0);return i.length<c&&(i=i.concat(Pr(c-i.length))),o<0&&(i=Pr(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function Do(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Et(r),n=e?yt(t,e):t,i=n.coefficients,o=n.exponent;i.length<e&&(i=i.concat(Pr(e-i.length)));var c=i.shift();return n.sign+c+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Tu(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,o=Et(r),c=e?yt(o,e):o;if(c.exponent<n||c.exponent>=i)return Do(r,e);var h=c.coefficients,s=c.exponent;h.length<e&&(h=h.concat(Pr(e-h.length))),h=h.concat(Pr(s-h.length+1+(h.length<e?e-h.length:0))),h=Pr(-s).concat(h);var u=s>0?s:0;return u<h.length-1&&h.splice(u+1,0,"."),c.sign+h.join("")}function yt(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),t.exponent++,o++),o--,n[o]++}}return t}function Pr(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function xo(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var bu=Number.EPSILON||2220446049250313e-31;function ur(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<bu?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}function fn(r,e,t){var n=r.constructor,i=new n(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ae(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function Eo(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Mu(r,n);case"exponential":return go(r,n);case"engineering":return _u(r,n);case"bin":return fn(r,2,i);case"oct":return fn(r,8,i);case"hex":return fn(r,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,c=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var h,s=r.toSignificantDigits(n),u=s.e;return u>=o&&u<c?h=s.toFixed():h=go(r,n),h.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function _u(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),o=i.toPrecision(e);return o.indexOf("e")!==-1&&(o=i.toString()),o+"e"+(t>=0?"+":"")+n.toString()}function go(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Mu(r,e){return r.toFixed(e)}function ye(r,e){var t=Nu(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Nu(r,e){if(typeof r=="number")return nt(r,e);if(_e(r))return Eo(r,e);if(Su(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return yo(r,e);if(je(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>'"'+n+'": '+ye(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function yo(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=yo(r[i],e);return t+="]",t}else return ye(r,e)}function Su(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function ne(r,e,t){if(!(this instanceof ne))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ne.prototype=new RangeError;ne.prototype.constructor=RangeError;ne.prototype.name="DimensionError";ne.prototype.isDimensionError=!0;function hr(r,e,t){if(!(this instanceof hr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}hr.prototype=new RangeError;hr.prototype.constructor=RangeError;hr.prototype.name="IndexError";hr.prototype.isIndexError=!0;function $e(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function wo(r,e,t){var n,i=r.length;if(i!==e[t])throw new ne(i,e[t]);if(t<e.length-1){var o=t+1;for(n=0;n<i;n++){var c=r[n];if(!Array.isArray(c))throw new ne(e.length-1,e.length,"<");wo(r[n],e,o)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ne(e.length+1,e.length,">")}function ln(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ne(r.length,0)}else wo(r,e,0)}function me(r,e){if(!se(r)||!ae(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new hr(r,e)}function it(r,e,t){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!se(i)||!ae(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ye(e)+")")});var n=t!==void 0?t:0;return cn(r,e,0,n),r}function cn(r,e,t,n){var i,o,c=r.length,h=e[t],s=Math.min(c,h);if(r.length=h,t<e.length-1){var u=t+1;for(i=0;i<s;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),cn(o,e,u,n);for(i=s;i<h;i++)o=[],r[i]=o,cn(o,e,u,n)}else{for(i=0;i<s;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=s;i<h;i++)r[i]=n}}function Ao(r,e){var t=Iu(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ne(0,n,"!=");e=ot(e,n);var i=Co(e);if(n!==i)throw new ne(i,n,"!=");try{return Bu(t,e)}catch(o){throw o instanceof ne?new ne(i,n,"!="):o}}function ot(r,e){var t=Co(r),n=r.slice(),i=-1,o=r.indexOf(i),c=r.indexOf(i,o+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var h=o>=0,s=e%t===0;if(h)if(s)n[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function Co(r){return r.reduce((e,t)=>e*t,1)}function Bu(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var c=t.length/o,h=0;h<c;h++)n.push(t.slice(h*o,(h+1)*o));t=n}return t}function wt(r,e,t,n){var i=n||$e(r);if(t)for(var o=0;o<t;o++)r=[r],i.unshift(1);for(r=Fo(r,e,0);i.length<e;)i.push(1);return r}function Fo(r,e,t){var n,i;if(Array.isArray(r)){var o=t+1;for(n=0,i=r.length;n<i;n++)r[n]=Fo(r[n],e,o)}else for(var c=t;c<e;c++)r=[r];return r}function Iu(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function zr(r,e){for(var t,n=0,i=0;i<r.length;i++){var o=r[i],c=Array.isArray(o);if(i===0&&c&&(n=o.length),c&&o.length!==n)return;var h=c?zr(o,e):e(o);if(t===void 0)t=h;else if(t!==h)return"mixed"}return t}function z(r,e,t,n){function i(o){var c=oo(o,e.map(Lu));return Ru(r,e,o),t(c)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Ru(r,e,t){var n=e.filter(o=>!Ou(o)).every(o=>t[o]!==void 0);if(!n){var i=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Ou(r){return r&&r[0]==="?"}function Lu(r){return r&&r[0]==="?"?r.slice(1):r}function To(r,e){if(No(r)&&Mo(r,e))return r[e];throw typeof r[e]=="function"&&ku(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function bo(r,e,t){if(No(r)&&Mo(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function _o(r,e){return e in r}function Mo(r,e){return!r||typeof r!="object"?!1:kr(Pu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ku(r,e){return r==null||typeof r[e]!="function"||kr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:kr(zu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function No(r){return typeof r=="object"&&r&&r.constructor===Object}var Pu={length:!0,name:!0},zu={toString:!0,valueOf:!0,toLocaleString:!0};var pn=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return To(this.wrappedObject,e)}set(e,t){return bo(this.wrappedObject,e,t),this}has(e){return _o(this.wrappedObject,e)}};function So(r){return r?r instanceof Map||r instanceof pn||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Bo=function(){return Bo=vn.default.create,vn.default},qu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],dn=z("typed",qu,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:o}=e,c=Bo();return c.clear(),c.addTypes([{name:"number",test:se},{name:"Complex",test:nn},{name:"BigNumber",test:_e},{name:"Fraction",test:on},{name:"Unit",test:gt},{name:"identifier",test:h=>je&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(h)},{name:"string",test:je},{name:"Chain",test:no},{name:"Array",test:pe},{name:"Matrix",test:de},{name:"DenseMatrix",test:Mi},{name:"SparseMatrix",test:Ni},{name:"Range",test:Si},{name:"Index",test:Or},{name:"boolean",test:Bi},{name:"ResultSet",test:Ii},{name:"Help",test:Ri},{name:"function",test:Oi},{name:"Date",test:Li},{name:"RegExp",test:ki},{name:"null",test:zi},{name:"undefined",test:qi},{name:"AccessorNode",test:Ui},{name:"ArrayNode",test:Xi},{name:"AssignmentNode",test:Zi},{name:"BlockNode",test:Vi},{name:"ConditionalNode",test:ji},{name:"ConstantNode",test:Hi},{name:"FunctionNode",test:Wi},{name:"FunctionAssignmentNode",test:Gi},{name:"IndexNode",test:Qi},{name:"Node",test:Yi},{name:"ObjectNode",test:$i},{name:"OperatorNode",test:Ji},{name:"ParenthesisNode",test:Ki},{name:"RangeNode",test:eo},{name:"RelationalNode",test:ro},{name:"SymbolNode",test:to},{name:"Map",test:So},{name:"Object",test:Pi}]),c.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||hn(s),xo(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return n||At(s),new n(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return n||At(s),new n(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return n||At(s),new n(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){o||mn(s);var u=new o(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){t||hn(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){o||mn(s);try{return new o(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){n||At(s);try{return new n(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||hn(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return o||mn(s),new o(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||Uu(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),c.onMismatch=(h,s,u)=>{var a=c.createError(h,s,u);if(["wrongType","mismatch"].includes(a.data.category)&&s.length===1&&pr(s[0])&&u.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw f.data=a.data,f}throw a},c.onMismatch=(h,s,u)=>{var a=c.createError(h,s,u);if(["wrongType","mismatch"].includes(a.data.category)&&s.length===1&&pr(s[0])&&u.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw f.data=a.data,f}throw a},c});function hn(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function At(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Uu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function mn(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var qr=9e15,Ar=1e9,Dn="0123456789abcdef",Ft="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",xn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qr,maxE:qr,crypto:!1},Lo,mr,K=!0,_t="[DecimalError] ",wr=_t+"Invalid argument: ",ko=_t+"Precision limit exceeded",Po=_t+"crypto unavailable",zo="[object Decimal]",Le=Math.floor,Fe=Math.pow,Xu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Zu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Vu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,qo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or=1e7,$=7,ju=9007199254740991,Hu=Ft.length-1,gn=Tt.length-1,B={toStringTag:zo};B.absoluteValue=B.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),W(r)};B.ceil=function(){return W(new this.constructor(this),this.e+1,2)};B.clampedTo=B.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(wr+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};B.comparedTo=B.cmp=function(r){var e,t,n,i,o=this,c=o.d,h=(r=new o.constructor(r)).d,s=o.s,u=r.s;if(!c||!h)return!s||!u?NaN:s!==u?s:c===h?0:!c^s<0?1:-1;if(!c[0]||!h[0])return c[0]?s:h[0]?-u:0;if(s!==u)return s;if(o.e!==r.e)return o.e>r.e^s<0?1:-1;for(n=c.length,i=h.length,e=0,t=n<i?n:i;e<t;++e)if(c[e]!==h[e])return c[e]>h[e]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1};B.cosine=B.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+$,n.rounding=1,t=Gu(n,jo(n,t)),n.precision=r,n.rounding=e,W(mr==2||mr==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};B.cubeRoot=B.cbrt=function(){var r,e,t,n,i,o,c,h,s,u,a=this,f=a.constructor;if(!a.isFinite()||a.isZero())return new f(a);for(K=!1,o=a.s*Fe(a.s*a,1/3),!o||Math.abs(o)==1/0?(t=Re(a.d),r=a.e,(o=(r-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=Fe(t,1/3),r=Le((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?t="5e"+r:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=a.s):n=new f(o.toString()),c=(r=f.precision)+3;;)if(h=n,s=h.times(h).times(h),u=s.plus(a),n=ce(u.plus(a).times(h),u.plus(s),c+2,1),Re(h.d).slice(0,c)===(t=Re(n.d)).slice(0,c))if(t=t.slice(c-3,c+1),t=="9999"||!i&&t=="4999"){if(!i&&(W(h,r+1,0),h.times(h).times(h).eq(a))){n=h;break}c+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(W(n,r+1,1),e=!n.times(n).times(n).eq(a));break}return K=!0,W(n,r,f.rounding,e)};B.decimalPlaces=B.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Le(this.e/$))*$,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};B.dividedBy=B.div=function(r){return ce(this,new this.constructor(r))};B.dividedToIntegerBy=B.divToInt=function(r){var e=this,t=e.constructor;return W(ce(e,new t(r),0,1,1),t.precision,t.rounding)};B.equals=B.eq=function(r){return this.cmp(r)===0};B.floor=function(){return W(new this.constructor(this),this.e+1,3)};B.greaterThan=B.gt=function(r){return this.cmp(r)>0};B.greaterThanOrEqualTo=B.gte=function(r){var e=this.cmp(r);return e==1||e===0};B.hyperbolicCosine=B.cosh=function(){var r,e,t,n,i,o=this,c=o.constructor,h=new c(1);if(!o.isFinite())return new c(o.s?1/0:NaN);if(o.isZero())return h;t=c.precision,n=c.rounding,c.precision=t+Math.max(o.e,o.sd())+4,c.rounding=1,i=o.d.length,i<32?(r=Math.ceil(i/3),e=(1/Nt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=Ur(c,1,o.times(e),new c(1),!0);for(var s,u=r,a=new c(8);u--;)s=o.times(o),o=h.minus(s.times(a.minus(s.times(a))));return W(o,c.precision=t,c.rounding=n,!0)};B.hyperbolicSine=B.sinh=function(){var r,e,t,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=Ur(o,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Nt(5,r)),i=Ur(o,2,i,i,!0);for(var c,h=new o(5),s=new o(16),u=new o(20);r--;)c=i.times(i),i=i.times(h.plus(c.times(s.times(c).plus(u))))}return o.precision=e,o.rounding=t,W(i,e,t,!0)};B.hyperbolicTangent=B.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,ce(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};B.inverseCosine=B.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,o=t.rounding;return n!==-1?n===0?e.isNeg()?ir(t,i,o):new t(0):new t(NaN):e.isZero()?ir(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=ir(t,i+4,o).times(.5),t.precision=i,t.rounding=o,r.minus(e))};B.inverseHyperbolicCosine=B.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,K=!1,t=t.times(t).minus(1).sqrt().plus(t),K=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};B.inverseHyperbolicSine=B.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,K=!1,t=t.times(t).plus(1).sqrt().plus(t),K=!0,n.precision=r,n.rounding=e,t.ln())};B.inverseHyperbolicTangent=B.atanh=function(){var r,e,t,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,e=o.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?W(new o(i),r,e,!0):(o.precision=t=n-i.e,i=ce(i.plus(1),new o(1).minus(i),t+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=e,i.times(.5))):new o(NaN)};B.inverseSine=B.asin=function(){var r,e,t,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,n=o.rounding,e!==-1?e===0?(r=ir(o,t+4,n).times(.5),r.s=i.s,r):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,i.times(2)))};B.inverseTangent=B.atan=function(){var r,e,t,n,i,o,c,h,s,u=this,a=u.constructor,f=a.precision,p=a.rounding;if(u.isFinite()){if(u.isZero())return new a(u);if(u.abs().eq(1)&&f+4<=gn)return c=ir(a,f+4,p).times(.25),c.s=u.s,c}else{if(!u.s)return new a(NaN);if(f+4<=gn)return c=ir(a,f+4,p).times(.5),c.s=u.s,c}for(a.precision=h=f+10,a.rounding=1,t=Math.min(28,h/$+2|0),r=t;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(K=!1,e=Math.ceil(h/$),n=1,s=u.times(u),c=new a(u),i=u;r!==-1;)if(i=i.times(s),o=c.minus(i.div(n+=2)),i=i.times(s),c=o.plus(i.div(n+=2)),c.d[e]!==void 0)for(r=e;c.d[r]===o.d[r]&&r--;);return t&&(c=c.times(2<<t-1)),K=!0,W(c,a.precision=f,a.rounding=p,!0)};B.isFinite=function(){return!!this.d};B.isInteger=B.isInt=function(){return!!this.d&&Le(this.e/$)>this.d.length-2};B.isNaN=function(){return!this.s};B.isNegative=B.isNeg=function(){return this.s<0};B.isPositive=B.isPos=function(){return this.s>0};B.isZero=function(){return!!this.d&&this.d[0]===0};B.lessThan=B.lt=function(r){return this.cmp(r)<0};B.lessThanOrEqualTo=B.lte=function(r){return this.cmp(r)<1};B.logarithm=B.log=function(r){var e,t,n,i,o,c,h,s,u=this,a=u.constructor,f=a.precision,p=a.rounding,m=5;if(r==null)r=new a(10),e=!0;else{if(r=new a(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new a(NaN);e=r.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new a(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10===0;)i/=10;o=i!==1}if(K=!1,h=f+m,c=yr(u,h),n=e?bt(a,h+10):yr(r,h),s=ce(c,n,h,1),at(s.d,i=f,p))do if(h+=10,c=yr(u,h),n=e?bt(a,h+10):yr(r,h),s=ce(c,n,h,1),!o){+Re(s.d).slice(i+1,i+15)+1==1e14&&(s=W(s,f+1,0));break}while(at(s.d,i+=10,p));return K=!0,W(s,f,p)};B.minus=B.sub=function(r){var e,t,n,i,o,c,h,s,u,a,f,p,m=this,v=m.constructor;if(r=new v(r),!m.d||!r.d)return!m.s||!r.s?r=new v(NaN):m.d?r.s=-r.s:r=new v(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(u=m.d,p=r.d,h=v.precision,s=v.rounding,!u[0]||!p[0]){if(p[0])r.s=-r.s;else if(u[0])r=new v(m);else return new v(s===3?-0:0);return K?W(r,h,s):r}if(t=Le(r.e/$),a=Le(m.e/$),u=u.slice(),o=a-t,o){for(f=o<0,f?(e=u,o=-o,c=p.length):(e=p,t=a,c=u.length),n=Math.max(Math.ceil(h/$),c)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=u.length,c=p.length,f=n<c,f&&(c=n),n=0;n<c;n++)if(u[n]!=p[n]){f=u[n]<p[n];break}o=0}for(f&&(e=u,u=p,p=e,r.s=-r.s),c=u.length,n=p.length-c;n>0;--n)u[c++]=0;for(n=p.length;n>o;){if(u[--n]<p[n]){for(i=n;i&&u[--i]===0;)u[i]=or-1;--u[i],u[n]+=or}u[n]-=p[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(r.d=u,r.e=Mt(u,t),K?W(r,h,s):r):new v(s===3?-0:0)};B.modulo=B.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?W(new n(t),n.precision,n.rounding):(K=!1,n.modulo==9?(e=ce(t,r.abs(),0,3,1),e.s*=r.s):e=ce(t,r,0,n.modulo,1),e=e.times(r),K=!0,t.minus(e))};B.naturalExponential=B.exp=function(){return En(this)};B.naturalLogarithm=B.ln=function(){return yr(this)};B.negated=B.neg=function(){var r=new this.constructor(this);return r.s=-r.s,W(r)};B.plus=B.add=function(r){var e,t,n,i,o,c,h,s,u,a,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(u=f.d,a=r.d,h=p.precision,s=p.rounding,!u[0]||!a[0])return a[0]||(r=new p(f)),K?W(r,h,s):r;if(o=Le(f.e/$),n=Le(r.e/$),u=u.slice(),i=o-n,i){for(i<0?(t=u,i=-i,c=a.length):(t=a,n=o,c=u.length),o=Math.ceil(h/$),c=o>c?o+1:c+1,i>c&&(i=c,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(c=u.length,i=a.length,c-i<0&&(i=c,t=a,a=u,u=t),e=0;i;)e=(u[--i]=u[i]+a[i]+e)/or|0,u[i]%=or;for(e&&(u.unshift(e),++n),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=Mt(u,n),K?W(r,h,s):r};B.precision=B.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(wr+r);return t.d?(e=Uo(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};B.round=function(){var r=this,e=r.constructor;return W(new e(r),r.e+1,e.rounding)};B.sine=B.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+$,n.rounding=1,t=Qu(n,jo(n,t)),n.precision=r,n.rounding=e,W(mr>2?t.neg():t,r,e,!0)):new n(NaN)};B.squareRoot=B.sqrt=function(){var r,e,t,n,i,o,c=this,h=c.d,s=c.e,u=c.s,a=c.constructor;if(u!==1||!h||!h[0])return new a(!u||u<0&&(!h||h[0])?NaN:h?c:1/0);for(K=!1,u=Math.sqrt(+c),u==0||u==1/0?(e=Re(h),(e.length+s)%2==0&&(e+="0"),u=Math.sqrt(e),s=Le((s+1)/2)-(s<0||s%2),u==1/0?e="5e"+s:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),n=new a(e)):n=new a(u.toString()),t=(s=a.precision)+3;;)if(o=n,n=o.plus(ce(c,o,t+2,1)).times(.5),Re(o.d).slice(0,t)===(e=Re(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(W(o,s+1,0),o.times(o).eq(c))){n=o;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(W(n,s+1,1),r=!n.times(n).eq(c));break}return K=!0,W(n,s,a.rounding,r)};B.tangent=B.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=ce(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,W(mr==2||mr==4?t.neg():t,r,e,!0)):new n(NaN)};B.times=B.mul=function(r){var e,t,n,i,o,c,h,s,u,a=this,f=a.constructor,p=a.d,m=(r=new f(r)).d;if(r.s*=a.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=Le(a.e/$)+Le(r.e/$),s=p.length,u=m.length,s<u&&(o=p,p=m,m=o,c=s,s=u,u=c),o=[],c=s+u,n=c;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=s+n;i>n;)h=o[i]+m[n]*p[i-n-1]+e,o[i--]=h%or|0,e=h/or|0;o[i]=(o[i]+e)%or|0}for(;!o[--c];)o.pop();return e?++t:o.shift(),r.d=o,r.e=Mt(o,t),K?W(r,f.precision,f.rounding):r};B.toBinary=function(r,e){return wn(this,2,r,e)};B.toDecimalPlaces=B.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(He(r,0,Ar),e===void 0?e=n.rounding:He(e,0,8),W(t,r+t.e+1,e))};B.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=sr(n,!0):(He(r,0,Ar),e===void 0?e=i.rounding:He(e,0,8),n=W(new i(n),r+1,e),t=sr(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};B.toFixed=function(r,e){var t,n,i=this,o=i.constructor;return r===void 0?t=sr(i):(He(r,0,Ar),e===void 0?e=o.rounding:He(e,0,8),n=W(new o(i),r+i.e+1,e),t=sr(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};B.toFraction=function(r){var e,t,n,i,o,c,h,s,u,a,f,p,m=this,v=m.d,l=m.constructor;if(!v)return new l(m);if(u=t=new l(1),n=s=new l(0),e=new l(n),o=e.e=Uo(v)-m.e-1,c=o%$,e.d[0]=Fe(10,c<0?$+c:c),r==null)r=o>0?e:u;else{if(h=new l(r),!h.isInt()||h.lt(u))throw Error(wr+h);r=h.gt(e)?o>0?e:u:h}for(K=!1,h=new l(Re(v)),a=l.precision,l.precision=o=v.length*$*2;f=ce(h,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=u,u=s.plus(f.times(i)),s=i,i=e,e=h.minus(f.times(i)),h=i;return i=ce(r.minus(t),n,0,1,1),s=s.plus(i.times(u)),t=t.plus(i.times(n)),s.s=u.s=m.s,p=ce(u,n,o,1).minus(m).abs().cmp(ce(s,t,o,1).minus(m).abs())<1?[u,n]:[s,t],l.precision=a,K=!0,p};B.toHexadecimal=B.toHex=function(r,e){return wn(this,16,r,e)};B.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:He(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(K=!1,t=ce(t,r,0,e,1).times(r),K=!0,W(t)):(r.s=t.s,t=r),t};B.toNumber=function(){return+this};B.toOctal=function(r,e){return wn(this,8,r,e)};B.toPower=B.pow=function(r){var e,t,n,i,o,c,h=this,s=h.constructor,u=+(r=new s(r));if(!h.d||!r.d||!h.d[0]||!r.d[0])return new s(Fe(+h,u));if(h=new s(h),h.eq(1))return h;if(n=s.precision,o=s.rounding,r.eq(1))return W(h,n,o);if(e=Le(r.e/$),e>=r.d.length-1&&(t=u<0?-u:u)<=ju)return i=Xo(s,h,t,n),r.s<0?new s(1).div(i):W(i,n,o);if(c=h.s,c<0){if(e<r.d.length-1)return new s(NaN);if((r.d[e]&1)==0&&(c=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=c,h}return t=Fe(+h,u),e=t==0||!isFinite(t)?Le(u*(Math.log("0."+Re(h.d))/Math.LN10+h.e+1)):new s(t+"").e,e>s.maxE+1||e<s.minE-1?new s(e>0?c/0:0):(K=!1,s.rounding=h.s=1,t=Math.min(12,(e+"").length),i=En(r.times(yr(h,n+t)),n),i.d&&(i=W(i,n+5,1),at(i.d,n,o)&&(e=n+10,i=W(En(r.times(yr(h,e+t)),e),e+5,1),+Re(i.d).slice(n+1,n+15)+1==1e14&&(i=W(i,n+1,0)))),i.s=c,K=!0,s.rounding=o,W(i,n,o))};B.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=sr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(He(r,1,Ar),e===void 0?e=i.rounding:He(e,0,8),n=W(new i(n),r,e),t=sr(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};B.toSignificantDigits=B.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(He(r,1,Ar),e===void 0?e=n.rounding:He(e,0,8)),W(new n(t),r,e)};B.toString=function(){var r=this,e=r.constructor,t=sr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};B.truncated=B.trunc=function(){return W(new this.constructor(this),this.e+1,1)};B.valueOf=B.toJSON=function(){var r=this,e=r.constructor,t=sr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Re(r){var e,t,n,i=r.length-1,o="",c=r[0];if(i>0){for(o+=c,e=1;e<i;e++)n=r[e]+"",t=$-n.length,t&&(o+=Er(t)),o+=n;c=r[e],n=c+"",t=$-n.length,t&&(o+=Er(t))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}function He(r,e,t){if(r!==~~r||r<e||r>t)throw Error(wr+r)}function at(r,e,t,n){var i,o,c,h;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=$,i=0):(i=Math.ceil((e+1)/$),e%=$),o=Fe(10,$-e),h=r[i]%o|0,n==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),c=t<4&&h==99999||t>3&&h==49999||h==5e4||h==0):c=(t<4&&h+1==o||t>3&&h+1==o/2)&&(r[i+1]/o/100|0)==Fe(10,e-2)-1||(h==o/2||h==0)&&(r[i+1]/o/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),c=(n||t<4)&&h==9999||!n&&t>3&&h==4999):c=((n||t<4)&&h+1==o||!n&&t>3&&h+1==o/2)&&(r[i+1]/o/1e3|0)==Fe(10,e-3)-1,c}function Ct(r,e,t){for(var n,i=[0],o,c=0,h=r.length;c<h;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Dn.indexOf(r.charAt(c++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function Gu(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/Nt(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Ur(r,1,e.times(i),new r(1));for(var o=t;o--;){var c=e.times(e);e=c.times(c).minus(c).times(8).plus(1)}return r.precision-=t,e}var ce=function(){function r(n,i,o){var c,h=0,s=n.length;for(n=n.slice();s--;)c=n[s]*i+h,n[s]=c%o|0,h=c/o|0;return h&&n.unshift(h),n}function e(n,i,o,c){var h,s;if(o!=c)s=o>c?1:-1;else for(h=s=0;h<o;h++)if(n[h]!=i[h]){s=n[h]>i[h]?1:-1;break}return s}function t(n,i,o,c){for(var h=0;o--;)n[o]-=h,h=n[o]<i[o]?1:0,n[o]=h*c+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,c,h,s){var u,a,f,p,m,v,l,d,D,A,x,T,w,g,y,F,b,N,R,X,j=n.constructor,L=n.s==i.s?1:-1,O=n.d,M=i.d;if(!O||!O[0]||!M||!M[0])return new j(!n.s||!i.s||(O?M&&O[0]==M[0]:!M)?NaN:O&&O[0]==0||!M?L*0:L/0);for(s?(m=1,a=n.e-i.e):(s=or,m=$,a=Le(n.e/m)-Le(i.e/m)),R=M.length,b=O.length,D=new j(L),A=D.d=[],f=0;M[f]==(O[f]||0);f++);if(M[f]>(O[f]||0)&&a--,o==null?(g=o=j.precision,c=j.rounding):h?g=o+(n.e-i.e)+1:g=o,g<0)A.push(1),v=!0;else{if(g=g/m+2|0,f=0,R==1){for(p=0,M=M[0],g++;(f<b||p)&&g--;f++)y=p*s+(O[f]||0),A[f]=y/M|0,p=y%M|0;v=p||f<b}else{for(p=s/(M[0]+1)|0,p>1&&(M=r(M,p,s),O=r(O,p,s),R=M.length,b=O.length),F=R,x=O.slice(0,R),T=x.length;T<R;)x[T++]=0;X=M.slice(),X.unshift(0),N=M[0],M[1]>=s/2&&++N;do p=0,u=e(M,x,R,T),u<0?(w=x[0],R!=T&&(w=w*s+(x[1]||0)),p=w/N|0,p>1?(p>=s&&(p=s-1),l=r(M,p,s),d=l.length,T=x.length,u=e(l,x,d,T),u==1&&(p--,t(l,R<d?X:M,d,s))):(p==0&&(u=p=1),l=M.slice()),d=l.length,d<T&&l.unshift(0),t(x,l,T,s),u==-1&&(T=x.length,u=e(M,x,R,T),u<1&&(p++,t(x,R<T?X:M,T,s))),T=x.length):u===0&&(p++,x=[0]),A[f++]=p,u&&x[0]?x[T++]=O[F]||0:(x=[O[F]],T=1);while((F++<b||x[0]!==void 0)&&g--);v=x[0]!==void 0}A[0]||A.shift()}if(m==1)D.e=a,Lo=v;else{for(f=1,p=A[0];p>=10;p/=10)f++;D.e=f+a*m-1,W(D,h?o+D.e+1:o,c,v)}return D}}();function W(r,e,t,n){var i,o,c,h,s,u,a,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,h=f[0];h>=10;h/=10)i++;if(o=e-i,o<0)o+=$,c=e,a=f[p=0],s=a/Fe(10,i-c-1)%10|0;else if(p=Math.ceil((o+1)/$),h=f.length,p>=h)if(n){for(;h++<=p;)f.push(0);a=s=0,i=1,o%=$,c=o-$+1}else break e;else{for(a=h=f[p],i=1;h>=10;h/=10)i++;o%=$,c=o-$+i,s=c<0?0:a/Fe(10,i-c-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(c<0?a:a%Fe(10,i-c-1)),u=t<4?(s||n)&&(t==0||t==(r.s<0?3:2)):s>5||s==5&&(t==4||n||t==6&&(o>0?c>0?a/Fe(10,i-c):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=r.e+1,f[0]=Fe(10,($-e%$)%$),r.e=-e||0):f[0]=r.e=0,r;if(o==0?(f.length=p,h=1,p--):(f.length=p+1,h=Fe(10,$-o),f[p]=c>0?(a/Fe(10,i-c)%Fe(10,c)|0)*h:0),u)for(;;)if(p==0){for(o=1,c=f[0];c>=10;c/=10)o++;for(c=f[0]+=h,h=1;c>=10;c/=10)h++;o!=h&&(r.e++,f[0]==or&&(f[0]=1));break}else{if(f[p]+=h,f[p]!=or)break;f[p--]=0,h=1}for(o=f.length;f[--o]===0;)f.pop()}return K&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function sr(r,e,t){if(!r.isFinite())return Vo(r);var n,i=r.e,o=Re(r.d),c=o.length;return e?(t&&(n=t-c)>0?o=o.charAt(0)+"."+o.slice(1)+Er(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+Er(-i-1)+o,t&&(n=t-c)>0&&(o+=Er(n))):i>=c?(o+=Er(i+1-c),t&&(n=t-i-1)>0&&(o=o+"."+Er(n))):((n=i+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-c)>0&&(i+1===c&&(o+="."),o+=Er(n))),o}function Mt(r,e){var t=r[0];for(e*=$;t>=10;t/=10)e++;return e}function bt(r,e,t){if(e>Hu)throw K=!0,t&&(r.precision=t),Error(ko);return W(new r(Ft),e,1,!0)}function ir(r,e,t){if(e>gn)throw Error(ko);return W(new r(Tt),e,t,!0)}function Uo(r){var e=r.length-1,t=e*$+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Er(r){for(var e="";r--;)e+="0";return e}function Xo(r,e,t,n){var i,o=new r(1),c=Math.ceil(n/$+4);for(K=!1;;){if(t%2&&(o=o.times(e),Ro(o.d,c)&&(i=!0)),t=Le(t/2),t===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}e=e.times(e),Ro(e.d,c)}return K=!0,o}function Io(r){return r.d[r.d.length-1]&1}function Zo(r,e,t){for(var n,i=new r(e[0]),o=0;++o<e.length;)if(n=new r(e[o]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function En(r,e){var t,n,i,o,c,h,s,u=0,a=0,f=0,p=r.constructor,m=p.rounding,v=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(K=!1,s=v):s=e,h=new p(.03125);r.e>-2;)r=r.times(h),f+=5;for(n=Math.log(Fe(2,f))/Math.LN10*2+5|0,s+=n,t=o=c=new p(1),p.precision=s;;){if(o=W(o.times(r),s,1),t=t.times(++a),h=c.plus(ce(o,t,s,1)),Re(h.d).slice(0,s)===Re(c.d).slice(0,s)){for(i=f;i--;)c=W(c.times(c),s,1);if(e==null)if(u<3&&at(c.d,s-n,m,u))p.precision=s+=10,t=o=h=new p(1),a=0,u++;else return W(c,p.precision=v,m,K=!0);else return p.precision=v,c}c=h}}function yr(r,e){var t,n,i,o,c,h,s,u,a,f,p,m=1,v=10,l=r,d=l.d,D=l.constructor,A=D.rounding,x=D.precision;if(l.s<0||!d||!d[0]||!l.e&&d[0]==1&&d.length==1)return new D(d&&!d[0]?-1/0:l.s!=1?NaN:d?0:l);if(e==null?(K=!1,a=x):a=e,D.precision=a+=v,t=Re(d),n=t.charAt(0),Math.abs(o=l.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)l=l.times(r),t=Re(l.d),n=t.charAt(0),m++;o=l.e,n>1?(l=new D("0."+t),o++):l=new D(n+"."+t.slice(1))}else return u=bt(D,a+2,x).times(o+""),l=yr(new D(n+"."+t.slice(1)),a-v).plus(u),D.precision=x,e==null?W(l,x,A,K=!0):l;for(f=l,s=c=l=ce(l.minus(1),l.plus(1),a,1),p=W(l.times(l),a,1),i=3;;){if(c=W(c.times(p),a,1),u=s.plus(ce(c,new D(i),a,1)),Re(u.d).slice(0,a)===Re(s.d).slice(0,a))if(s=s.times(2),o!==0&&(s=s.plus(bt(D,a+2,x).times(o+""))),s=ce(s,new D(m),a,1),e==null)if(at(s.d,a-v,A,h))D.precision=a+=v,u=c=l=ce(f.minus(1),f.plus(1),a,1),p=W(l.times(l),a,1),i=h=1;else return W(s,D.precision=x,A,K=!0);else return D.precision=x,s;s=u,i+=2}}function Vo(r){return String(r.s*r.s/0)}function yn(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%$,t<0&&(n+=$),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=$;n<i;)r.d.push(+e.slice(n,n+=$));e=e.slice(n),n=$-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),K&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Wu(r,e){var t,n,i,o,c,h,s,u,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),qo.test(e))return yn(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Zu.test(e))t=16,e=e.toLowerCase();else if(Xu.test(e))t=2;else if(Vu.test(e))t=8;else throw Error(wr+e);for(o=e.search(/p/i),o>0?(s=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),c=o>=0,n=r.constructor,c&&(e=e.replace(".",""),h=e.length,o=h-o,i=Xo(n,new n(t),o,o*2)),u=Ct(e,t,or),a=u.length-1,o=a;u[o]===0;--o)u.pop();return o<0?new n(r.s*0):(r.e=Mt(u,a),r.d=u,K=!1,c&&(r=ce(r,i,h*4)),s&&(r=r.times(Math.abs(s)<54?Fe(2,s):ut.pow(2,s))),K=!0,r)}function Qu(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Ur(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Nt(5,t)),e=Ur(r,2,e,e);for(var i,o=new r(5),c=new r(16),h=new r(20);t--;)i=e.times(e),e=e.times(o.plus(i.times(c.times(i).minus(h))));return e}function Ur(r,e,t,n,i){var o,c,h,s,u=1,a=r.precision,f=Math.ceil(a/$);for(K=!1,s=t.times(t),h=new r(n);;){if(c=ce(h.times(s),new r(e++*e++),a,1),h=i?n.plus(c):n.minus(c),n=ce(c.times(s),new r(e++*e++),a,1),c=h.plus(n),c.d[f]!==void 0){for(o=f;c.d[o]===h.d[o]&&o--;);if(o==-1)break}o=h,h=n,n=c,c=o,u++}return K=!0,c.d.length=f+1,c}function Nt(r,e){for(var t=r;--e;)t*=r;return t}function jo(r,e){var t,n=e.s<0,i=ir(r,r.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return mr=n?4:1,e;if(t=e.divToInt(i),t.isZero())mr=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(o))return mr=Io(t)?n?2:3:n?4:1,e;mr=Io(t)?n?1:4:n?3:2}return e.minus(i).abs()}function wn(r,e,t,n){var i,o,c,h,s,u,a,f,p,m=r.constructor,v=t!==void 0;if(v?(He(t,1,Ar),n===void 0?n=m.rounding:He(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())a=Vo(r);else{for(a=sr(r),c=a.indexOf("."),v?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,c>=0&&(a=a.replace(".",""),p=new m(1),p.e=a.length-c,p.d=Ct(sr(p),10,i),p.e=p.d.length),f=Ct(a,10,i),o=s=f.length;f[--s]==0;)f.pop();if(!f[0])a=v?"0p+0":"0";else{if(c<0?o--:(r=new m(r),r.d=f,r.e=o,r=ce(r,p,t,n,0,i),f=r.d,o=r.e,u=Lo),c=f[t],h=i/2,u=u||f[t+1]!==void 0,u=n<4?(c!==void 0||u)&&(n===0||n===(r.s<0?3:2)):c>h||c===h&&(n===4||u||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,u)for(;++f[--t]>i-1;)f[t]=0,t||(++o,f.unshift(1));for(s=f.length;!f[s-1];--s);for(c=0,a="";c<s;c++)a+=Dn.charAt(f[c]);if(v){if(s>1)if(e==16||e==8){for(c=e==16?4:3,--s;s%c;s++)a+="0";for(f=Ct(a,i,e),s=f.length;!f[s-1];--s);for(c=1,a="1.";c<s;c++)a+=Dn.charAt(f[c])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>s)for(o-=s;o--;)a+="0";else o<s&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return r.s<0?"-"+a:a}function Ro(r,e){if(r.length>e)return r.length=e,!0}function Yu(r){return new this(r).abs()}function $u(r){return new this(r).acos()}function Ju(r){return new this(r).acosh()}function Ku(r,e){return new this(r).plus(e)}function es(r){return new this(r).asin()}function rs(r){return new this(r).asinh()}function ts(r){return new this(r).atan()}function ns(r){return new this(r).atanh()}function is(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,o=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ir(this,o,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ir(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ir(this,o,1).times(.5),t.s=r.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(ce(r,e,o,1)),e=ir(this,o,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(ce(r,e,o,1)),t}function os(r){return new this(r).cbrt()}function as(r){return W(r=new this(r),r.e+1,2)}function us(r,e,t){return new this(r).clamp(e,t)}function ss(r){if(!r||typeof r!="object")throw Error(_t+"Object expected");var e,t,n,i=r.defaults===!0,o=["precision",1,Ar,"rounding",0,8,"toExpNeg",-qr,0,"toExpPos",0,qr,"maxE",0,qr,"minE",-qr,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=xn[t]),(n=r[t])!==void 0)if(Le(n)===n&&n>=o[e+1]&&n<=o[e+2])this[t]=n;else throw Error(wr+t+": "+n);if(t="crypto",i&&(this[t]=xn[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Po);else this[t]=!1;else throw Error(wr+t+": "+n);return this}function fs(r){return new this(r).cos()}function cs(r){return new this(r).cosh()}function Ho(r){var e,t,n;function i(o){var c,h,s,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,Oo(o)){u.s=o.s,K?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(s=typeof o,s==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(c=0,h=o;h>=10;h/=10)c++;K?c>i.maxE?(u.e=NaN,u.d=null):c<i.minE?(u.e=0,u.d=[0]):(u.e=c,u.d=[o]):(u.e=c,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return yn(u,o.toString())}else if(s!=="string")throw Error(wr+o);return(h=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(h===43&&(o=o.slice(1)),u.s=1),qo.test(o)?yn(u,o):Wu(u,o)}if(i.prototype=B,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ss,i.clone=Ho,i.isDecimal=Oo,i.abs=Yu,i.acos=$u,i.acosh=Ju,i.add=Ku,i.asin=es,i.asinh=rs,i.atan=ts,i.atanh=ns,i.atan2=is,i.cbrt=os,i.ceil=as,i.clamp=us,i.cos=fs,i.cosh=cs,i.div=ls,i.exp=ps,i.floor=hs,i.hypot=ms,i.ln=vs,i.log=ds,i.log10=xs,i.log2=Ds,i.max=gs,i.min=Es,i.mod=ys,i.mul=ws,i.pow=As,i.random=Cs,i.round=Fs,i.sign=Ts,i.sin=bs,i.sinh=_s,i.sqrt=Ms,i.sub=Ns,i.sum=Ss,i.tan=Bs,i.tanh=Is,i.trunc=Rs,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function ls(r,e){return new this(r).div(e)}function ps(r){return new this(r).exp()}function hs(r){return W(r=new this(r),r.e+1,3)}function ms(){var r,e,t=new this(0);for(K=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return K=!0,new this(1/0);t=e}return K=!0,t.sqrt()}function Oo(r){return r instanceof ut||r&&r.toStringTag===zo||!1}function vs(r){return new this(r).ln()}function ds(r,e){return new this(r).log(e)}function Ds(r){return new this(r).log(2)}function xs(r){return new this(r).log(10)}function gs(){return Zo(this,arguments,"lt")}function Es(){return Zo(this,arguments,"gt")}function ys(r,e){return new this(r).mod(e)}function ws(r,e){return new this(r).mul(e)}function As(r,e){return new this(r).pow(e)}function Cs(r){var e,t,n,i,o=0,c=new this(1),h=[];if(r===void 0?r=this.precision:He(r,1,Ar),n=Math.ceil(r/$),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:h[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(h.push(i%1e7),o+=4);o=n/4}else throw Error(Po);else for(;o<n;)h[o++]=Math.random()*1e7|0;for(n=h[--o],r%=$,n&&r&&(i=Fe(10,$-r),h[o]=(n/i|0)*i);h[o]===0;o--)h.pop();if(o<0)t=0,h=[0];else{for(t=-1;h[0]===0;t-=$)h.shift();for(n=1,i=h[0];i>=10;i/=10)n++;n<$&&(t-=$-n)}return c.e=t,c.d=h,c}function Fs(r){return W(r=new this(r),r.e+1,this.rounding)}function Ts(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function bs(r){return new this(r).sin()}function _s(r){return new this(r).sinh()}function Ms(r){return new this(r).sqrt()}function Ns(r,e){return new this(r).sub(e)}function Ss(){var r=0,e=arguments,t=new this(e[r]);for(K=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return K=!0,W(t,this.precision,this.rounding)}function Bs(r){return new this(r).tan()}function Is(r){return new this(r).tanh()}function Rs(r){return W(r=new this(r),r.e+1,1)}B[Symbol.for("nodejs.util.inspect.custom")]=B.toString;B[Symbol.toStringTag]="Decimal";var ut=B.constructor=Ho(xn);Ft=new ut(Ft);Tt=new ut(Tt);var An=ut;var Os="BigNumber",Ls=["?on","config"],Cn=z(Os,Ls,r=>{var{on:e,config:t}=r,n=An.clone({precision:t.precision,modulo:An.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Me=Jr(Wo(),1);var ks="Complex",Ps=[],Tn=z(ks,Ps,()=>(Object.defineProperty(Me.default,"name",{value:"Complex"}),Me.default.prototype.constructor=Me.default,Me.default.prototype.type="Complex",Me.default.prototype.isComplex=!0,Me.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Me.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Me.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=nt(this.re,r),o=nt(this.im,r),c=se(r)?r:r?r.precision:null;if(c!==null){var h=Math.pow(10,-c);Math.abs(n/t)<h&&(n=0),Math.abs(t/n)<h&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+o+"i",e},Me.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Me.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(se(t)){if(gt(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),se(n))return new Me.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Me.default.prototype.valueOf=Me.default.prototype.toString,Me.default.fromJSON=function(r){return new Me.default(r)},Me.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Me.default),{isClass:!0});var fr=Jr(Yo(),1);var zs="Fraction",qs=[],_n=z(zs,qs,()=>(Object.defineProperty(fr.default,"name",{value:"Fraction"}),fr.default.prototype.constructor=fr.default,fr.default.prototype.type="Fraction",fr.default.prototype.isFraction=!0,fr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},fr.default.fromJSON=function(r){return new fr.default(r)},fr.default),{isClass:!0});var Us="Matrix",Xs=[],Mn=z(Us,Xs,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function St(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var Zs="DenseMatrix",Vs=["Matrix"],Nn=z(Zs,Vs,r=>{var{Matrix:e}=r;function t(a,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!je(f))throw new Error("Invalid datatype: "+f);if(de(a))a.type==="DenseMatrix"?(this._data=he(a._data),this._size=he(a._size),this._datatype=f||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=f||a._datatype);else if(a&&pe(a.data)&&pe(a.size))this._data=a.data,this._size=a.size,ln(this._data,this._size),this._datatype=f||a.datatype;else if(pe(a))this._data=u(a),this._size=$e(this._data),ln(this._data,this._size),this._datatype=f;else{if(a)throw new TypeError("Unsupported type of data ("+Ye(a)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(a,f){return new t(a,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return zr(this._data,Ye)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,f){return new t(a,f)},t.prototype.subset=function(a,f,p){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return o(this,a,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(a){if(!pe(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new ne(a.length,this._size.length);for(var f=0;f<a.length;f++)me(a[f],this._size[f]);for(var p=this._data,m=0,v=a.length;m<v;m++){var l=a[m];me(l,p.length),p=p[l]}return p},t.prototype.set=function(a,f,p){if(!pe(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new ne(a.length,this._size.length,"<");var m,v,l,d=a.map(function(A){return A+1});s(this,d,p);var D=this._data;for(m=0,v=a.length-1;m<v;m++)l=a[m],me(l,D.length),D=D[l];return l=a[a.length-1],me(l,D.length),D[l]=f,this};function n(a,f){if(!Or(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return a.get(f.min());var m=f.size();if(m.length!==a._size.length)throw new ne(m.length,a._size.length);for(var v=f.min(),l=f.max(),d=0,D=a._size.length;d<D;d++)me(v[d],a._size[d]),me(l[d],a._size[d]);return new t(i(a._data,f,m.length,0),a._datatype)}function i(a,f,p,m){var v=m===p-1,l=f.dimension(m);return v?l.map(function(d){return me(d,a.length),a[d]}).valueOf():l.map(function(d){me(d,a.length);var D=a[d];return i(D,f,p,m+1)}).valueOf()}function o(a,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var v=f.size(),l=f.isScalar(),d;if(de(p)?(d=p.size(),p=p.valueOf()):d=$e(p),l){if(d.length!==0)throw new TypeError("Scalar expected");a.set(f.min(),p,m)}else{if(v.length<a._size.length)throw new ne(v.length,a._size.length,"<");if(d.length<v.length){for(var D=0,A=0;v[D]===1&&d[D]===1;)D++;for(;v[D]===1;)A++,D++;p=wt(p,v.length,A,d)}if(!Lr(v,d))throw new ne(v,d,">");var x=f.max().map(function(g){return g+1});s(a,x,m);var T=v.length,w=0;c(a._data,f,p,T,w)}return a}function c(a,f,p,m,v){var l=v===m-1,d=f.dimension(v);l?d.forEach(function(D,A){me(D),a[D]=p[A[0]]}):d.forEach(function(D,A){me(D),c(a[D],f,p[A[0]],m,v+1)})}t.prototype.resize=function(a,f,p){if(!pr(a))throw new TypeError("Array or Matrix expected");var m=a.valueOf().map(l=>Array.isArray(l)&&l.length===1?l[0]:l),v=p?this.clone():this;return h(v,m,f)};function h(a,f,p){if(f.length===0){for(var m=a._data;pe(m);)m=m[0];return m}return a._size=f.slice(0),a._data=it(a._data,a._size,p),a}t.prototype.reshape=function(a,f){var p=f?this.clone():this;p._data=Ao(p._data,a);var m=p._size.reduce((v,l)=>v*l);return p._size=ot(a,m),p};function s(a,f,p){for(var m=a._size.slice(0),v=!1;m.length<f.length;)m.push(0),v=!0;for(var l=0,d=f.length;l<d;l++)f[l]>m[l]&&(m[l]=f[l],v=!0);v&&h(a,m,p)}t.prototype.clone=function(){var a=new t({data:he(this._data),size:he(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(a){var f=this,p=St(a),m=function d(D,A){return pe(D)?D.map(function(x,T){return d(x,A.concat(T))}):p===1?a(D):p===2?a(D,A):a(D,A,f)},v=m(this._data,[]),l=this._datatype!==void 0?zr(v,Ye):void 0;return new t(v,l)},t.prototype.forEach=function(a){var f=this,p=function m(v,l){pe(v)?v.forEach(function(d,D){m(d,l.concat(D))}):a(v,l,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var a=function*f(p,m){if(pe(p))for(var v=0;v<p.length;v++)yield*f(p[v],m.concat(v));else yield{value:p,index:m}};yield*a(this._data,[])},t.prototype.rows=function(){var a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)a.push(new t([m],this._datatype));return a},t.prototype.columns=function(){var a=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,v=function(D){var A=m.map(x=>[x[D]]);f.push(new t(A,a._datatype))},l=0;l<p[1];l++)v(l);return f},t.prototype.toArray=function(){return he(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(a){return ye(this._data,a)},t.prototype.toString=function(){return ye(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(_e(a)&&(a=a.toNumber()),!se(a)||!ae(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var f=a>0?a:0,p=a<0?-a:0,m=this._size[0],v=this._size[1],l=Math.min(m-p,v-f),d=[],D=0;D<l;D++)d[D]=this._data[D+p][D+f];return new t({data:d,size:[l],datatype:this._datatype})},t.diagonal=function(a,f,p,m){if(!pe(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(y){if(_e(y)&&(y=y.toNumber()),!se(y)||!ae(y)||y<1)throw new Error("Size values must be positive integers");return y}),p){if(_e(p)&&(p=p.toNumber()),!se(p)||!ae(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,l=p<0?-p:0,d=a[0],D=a[1],A=Math.min(d-l,D-v),x;if(pe(f)){if(f.length!==A)throw new Error("Invalid value array length");x=function(F){return f[F]}}else if(de(f)){var T=f.size();if(T.length!==1||T[0]!==A)throw new Error("Invalid matrix length");x=function(F){return f.get([F])}}else x=function(){return f};m||(m=_e(x(0))?x(0).mul(0):0);var w=[];if(a.length>0){w=it(w,a,m);for(var g=0;g<A;g++)w[g+l][g+v]=x(g)}return new t({data:w,size:[d,D]})},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(a,f){if(!se(a)||!ae(a)||!se(f)||!ae(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return me(a,this._size[0]),me(f,this._size[0]),t._swapRows(a,f,this._data),this},t._swapRows=function(a,f,p){var m=p[a];p[a]=p[f],p[f]=m};function u(a){for(var f=0,p=a.length;f<p;f++){var m=a[f];pe(m)?a[f]=u(m):m&&m.isMatrix===!0&&(a[f]=u(m.valueOf()))}return a}return t},{isClass:!0});function $o(r){var e=r.length,t=r[0].length,n,i,o=[];for(i=0;i<t;i++){var c=[];for(n=0;n<e;n++)c.push(r[n][i]);o.push(c)}return o}function It(r){for(var e=0;e<r.length;e++)if(pr(r[e]))return!0;return!1}function st(r,e){de(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?st(i,e):e(i)}}function Ue(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Ue(n,e,t)}):e(r)}function Rt(r,e,t){var n=Array.isArray(r)?$e(r):r.size();if(e<0||e>=n.length)throw new hr(e,n.length);return de(r)?r.create(Bt(r.valueOf(),e,t)):Bt(r,e,t)}function Bt(r,e,t){var n,i,o,c;if(e<=0)if(Array.isArray(r[0])){for(c=$o(r),i=[],n=0;n<c.length;n++)i[n]=Bt(c[n],e-1,t);return i}else{for(o=r[0],n=1;n<r.length;n++)o=t(o,r[n]);return o}else{for(i=[],n=0;n<r.length;n++)i[n]=Bt(r[n],e-1,t);return i}}var Ge="number",vr="number, number";function js(r){return Math.abs(r)}js.signature=Ge;function Sn(r,e){return r+e}Sn.signature=vr;function Hs(r,e){return r-e}Hs.signature=vr;function Bn(r,e){return r*e}Bn.signature=vr;function Gs(r,e){return r/e}Gs.signature=vr;function In(r){return-r}In.signature=Ge;function Ws(r){return r}Ws.signature=Ge;function Qs(r){return ho(r)}Qs.signature=Ge;function Ys(r){return r*r*r}Ys.signature=Ge;function $s(r){return Math.exp(r)}$s.signature=Ge;function Js(r){return mo(r)}Js.signature=Ge;function Ks(r,e){if(!ae(r)||!ae(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}Ks.signature=vr;function ef(r,e){if(!ae(r)||!ae(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}ef.signature=vr;function rf(r){return lo(r)}rf.signature=Ge;function tf(r){return co(r)}tf.signature=Ge;function nf(r){return po(r)}nf.signature=Ge;function of(r,e){if(e>0)return r-e*Math.floor(r/e);if(e===0)return r;throw new Error("Cannot calculate mod for a negative divisor")}of.signature=vr;function af(r){return fo(r)}af.signature=Ge;function uf(r){return Math.sqrt(r)}uf.signature=Ge;function sf(r){return r*r}sf.signature=Ge;function ff(r,e){var t,n,i,o=0,c=1,h=1,s=0;if(!ae(r)||!ae(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=o,o=c-n*o,c=t,t=h,h=s-n*h,s=t,r=e,e=i;var u;return r<0?u=[-r,-c,-s]:u=[r,r?c:0,s],u}ff.signature=vr;function cf(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}cf.signature=vr;function lf(r){return Math.abs(r)}lf.signature=Ge;var ft="number";function pf(r){return ae(r)}pf.signature=ft;function hf(r){return r<0}hf.signature=ft;function mf(r){return r>0}mf.signature=ft;function Rn(r){return r===0}Rn.signature=ft;function vf(r){return Number.isNaN(r)}vf.signature=ft;var Jo="isZero",df=["typed"],On=z(Jo,df,r=>{var{typed:e}=r;return e(Jo,{number:Rn,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ue(n,t))})});function Xr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function Ko(r,e,t){return ur(r.re,e.re,t)&&ur(r.im,e.im,t)}var Zr=z("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Ot="equalScalar",Df=["typed","config"],Ln=z(Ot,Df,r=>{var{typed:e,config:t}=r,n=Zr({typed:e});return e(Ot,{"boolean, boolean":function(o,c){return o===c},"number, number":function(o,c){return ur(o,c,t.epsilon)},"BigNumber, BigNumber":function(o,c){return o.eq(c)||Xr(o,c,t.epsilon)},"Fraction, Fraction":function(o,c){return o.equals(c)},"Complex, Complex":function(o,c){return Ko(o,c,t.epsilon)}},n)}),vp=z(Ot,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ot,{"number, number":function(i,o){return ur(i,o,t.epsilon)}})});var xf="SparseMatrix",gf=["typed","equalScalar","Matrix"],kn=z(xf,gf,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(l,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!je(d))throw new Error("Invalid datatype: "+d);if(de(l))o(this,l,d);else if(l&&pe(l.index)&&pe(l.ptr)&&pe(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=d||l.datatype;else if(pe(l))c(this,l,d);else{if(l)throw new TypeError("Unsupported type of data ("+Ye(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function o(l,d,D){d.type==="SparseMatrix"?(l._values=d._values?he(d._values):void 0,l._index=he(d._index),l._ptr=he(d._ptr),l._size=he(d._size),l._datatype=D||d._datatype):c(l,d.valueOf(),D||d._datatype)}function c(l,d,D){l._values=[],l._index=[],l._ptr=[],l._datatype=D;var A=d.length,x=0,T=t,w=0;if(je(D)&&(T=e.find(t,[D,D])||t,w=e.convert(0,D)),A>0){var g=0;do{l._ptr.push(l._index.length);for(var y=0;y<A;y++){var F=d[y];if(pe(F)){if(g===0&&x<F.length&&(x=F.length),g<F.length){var b=F[g];T(b,w)||(l._values.push(b),l._index.push(y))}}else g===0&&x<1&&(x=1),T(F,w)||(l._values.push(F),l._index.push(y))}g++}while(g<x)}l._ptr.push(l._index.length),l._size=[A,x]}i.prototype=new n,i.prototype.createSparseMatrix=function(l,d){return new i(l,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return zr(this._values,Ye)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(l,d){return new i(l,d)},i.prototype.density=function(){var l=this._size[0],d=this._size[1];return l!==0&&d!==0?this._index.length/(l*d):0},i.prototype.subset=function(l,d,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,l);case 2:case 3:return s(this,l,d,D);default:throw new SyntaxError("Wrong number of arguments")}};function h(l,d){if(!Or(d))throw new TypeError("Invalid index");var D=d.isScalar();if(D)return l.get(d.min());var A=d.size();if(A.length!==l._size.length)throw new ne(A.length,l._size.length);var x,T,w,g,y=d.min(),F=d.max();for(x=0,T=l._size.length;x<T;x++)me(y[x],l._size[x]),me(F[x],l._size[x]);var b=l._values,N=l._index,R=l._ptr,X=d.dimension(0),j=d.dimension(1),L=[],O=[];X.forEach(function(H,J){O[H]=J[0],L[H]=!0});var M=b?[]:void 0,G=[],V=[];return j.forEach(function(H){for(V.push(G.length),w=R[H],g=R[H+1];w<g;w++)x=N[w],L[x]===!0&&(G.push(O[x]),M&&M.push(b[w]))}),V.push(G.length),new i({values:M,index:G,ptr:V,size:A,datatype:l._datatype})}function s(l,d,D,A){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var x=d.size(),T=d.isScalar(),w;if(de(D)?(w=D.size(),D=D.toArray()):w=$e(D),T){if(w.length!==0)throw new TypeError("Scalar expected");l.set(d.min(),D,A)}else{if(x.length!==1&&x.length!==2)throw new ne(x.length,l._size.length,"<");if(w.length<x.length){for(var g=0,y=0;x[g]===1&&w[g]===1;)g++;for(;x[g]===1;)y++,g++;D=wt(D,x.length,y,w)}if(!Lr(x,w))throw new ne(x,w,">");if(x.length===1){var F=d.dimension(0);F.forEach(function(R,X){me(R),l.set([R,0],D[X[0]],A)})}else{var b=d.dimension(0),N=d.dimension(1);b.forEach(function(R,X){me(R),N.forEach(function(j,L){me(j),l.set([R,j],D[X[0]][L[0]],A)})})}}return l}i.prototype.get=function(l){if(!pe(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ne(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=l[0],D=l[1];me(d,this._size[0]),me(D,this._size[1]);var A=u(d,this._ptr[D],this._ptr[D+1],this._index);return A<this._ptr[D+1]&&this._index[A]===d?this._values[A]:0},i.prototype.set=function(l,d,D){if(!pe(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ne(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=l[0],x=l[1],T=this._size[0],w=this._size[1],g=t,y=0;je(this._datatype)&&(g=e.find(t,[this._datatype,this._datatype])||t,y=e.convert(0,this._datatype)),(A>T-1||x>w-1)&&(p(this,Math.max(A+1,T),Math.max(x+1,w),D),T=this._size[0],w=this._size[1]),me(A,T),me(x,w);var F=u(A,this._ptr[x],this._ptr[x+1],this._index);return F<this._ptr[x+1]&&this._index[F]===A?g(d,y)?a(F,x,this._values,this._index,this._ptr):this._values[F]=d:f(F,A,x,d,this._values,this._index,this._ptr),this};function u(l,d,D,A){if(D-d===0)return D;for(var x=d;x<D;x++)if(A[x]===l)return x;return d}function a(l,d,D,A,x){D.splice(l,1),A.splice(l,1);for(var T=d+1;T<x.length;T++)x[T]--}function f(l,d,D,A,x,T,w){x.splice(l,0,A),T.splice(l,0,d);for(var g=D+1;g<w.length;g++)w[g]++}i.prototype.resize=function(l,d,D){if(!pr(l))throw new TypeError("Array or Matrix expected");var A=l.valueOf().map(T=>Array.isArray(T)&&T.length===1?T[0]:T);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(T){if(!se(T)||!ae(T)||T<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ye(A)+")")});var x=D?this.clone():this;return p(x,A[0],A[1],d)};function p(l,d,D,A){var x=A||0,T=t,w=0;je(l._datatype)&&(T=e.find(t,[l._datatype,l._datatype])||t,w=e.convert(0,l._datatype),x=e.convert(x,l._datatype));var g=!T(x,w),y=l._size[0],F=l._size[1],b,N,R;if(D>F){for(N=F;N<D;N++)if(l._ptr[N]=l._values.length,g)for(b=0;b<y;b++)l._values.push(x),l._index.push(b);l._ptr[D]=l._values.length}else D<F&&(l._ptr.splice(D+1,F-D),l._values.splice(l._ptr[D],l._values.length),l._index.splice(l._ptr[D],l._index.length));if(F=D,d>y){if(g){var X=0;for(N=0;N<F;N++){l._ptr[N]=l._ptr[N]+X,R=l._ptr[N+1]+X;var j=0;for(b=y;b<d;b++,j++)l._values.splice(R+j,0,x),l._index.splice(R+j,0,b),X++}l._ptr[F]=l._values.length}}else if(d<y){var L=0;for(N=0;N<F;N++){l._ptr[N]=l._ptr[N]-L;var O=l._ptr[N],M=l._ptr[N+1]-L;for(R=O;R<M;R++)b=l._index[R],b>d-1&&(l._values.splice(R,1),l._index.splice(R,1),L++)}l._ptr[N]=l._values.length}return l._size[0]=d,l._size[1]=D,l}i.prototype.reshape=function(l,d){if(!pe(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(H){if(!se(H)||!ae(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ye(l)+")")});var D=this._size[0]*this._size[1];l=ot(l,D);var A=l[0]*l[1];if(D!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=d?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return x;for(var T=[],w=0;w<x._ptr.length;w++)for(var g=0;g<x._ptr[w+1]-x._ptr[w];g++)T.push(w);for(var y=x._values.slice(),F=x._index.slice(),b=0;b<x._index.length;b++){var N=F[b],R=T[b],X=N*x._size[1]+R;T[b]=X%l[1],F[b]=Math.floor(X/l[1])}x._values.length=0,x._index.length=0,x._ptr.length=l[1]+1,x._size=l.slice();for(var j=0;j<x._ptr.length;j++)x._ptr[j]=0;for(var L=0;L<y.length;L++){var O=F[L],M=T[L],G=y[L],V=u(O,x._ptr[M],x._ptr[M+1],x._index);f(V,O,M,G,x._values,x._index,x._ptr)}return x},i.prototype.clone=function(){var l=new i({values:this._values?he(this._values):void 0,index:he(this._index),ptr:he(this._ptr),size:he(this._size),datatype:this._datatype});return l},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(l,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,A=this._size[0],x=this._size[1],T=St(l),w=function(y,F,b){return T===1?l(y):T===2?l(y,[F,b]):l(y,[F,b],D)};return m(this,0,A-1,0,x-1,w,d)};function m(l,d,D,A,x,T,w){var g=[],y=[],F=[],b=t,N=0;je(l._datatype)&&(b=e.find(t,[l._datatype,l._datatype])||t,N=e.convert(0,l._datatype));for(var R=function(ie,ge,Ee){ie=T(ie,ge,Ee),b(ie,N)||(g.push(ie),y.push(ge))},X=A;X<=x;X++){F.push(g.length);var j=l._ptr[X],L=l._ptr[X+1];if(w)for(var O=j;O<L;O++){var M=l._index[O];M>=d&&M<=D&&R(l._values[O],M-d,X-A)}else{for(var G={},V=j;V<L;V++){var H=l._index[V];G[H]=l._values[V]}for(var J=d;J<=D;J++){var ue=J in G?G[J]:0;R(ue,J-d,X-A)}}}return F.push(g.length),new i({values:g,index:y,ptr:F,size:[D-d+1,x-A+1]})}i.prototype.forEach=function(l,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,A=this._size[0],x=this._size[1],T=0;T<x;T++){var w=this._ptr[T],g=this._ptr[T+1];if(d)for(var y=w;y<g;y++){var F=this._index[y];l(this._values[y],[F,T],D)}else{for(var b={},N=w;N<g;N++){var R=this._index[N];b[R]=this._values[N]}for(var X=0;X<A;X++){var j=X in b?b[X]:0;l(j,[X,T],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],d=0;d<l;d++)for(var D=this._ptr[d],A=this._ptr[d+1],x=D;x<A;x++){var T=this._index[x];yield{value:this._values[x],index:[T,d]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(l,d,D,A,x){var T=A[0],w=A[1],g=[],y,F;for(y=0;y<T;y++)for(g[y]=[],F=0;F<w;F++)g[y][F]=0;for(F=0;F<w;F++)for(var b=D[F],N=D[F+1],R=b;R<N;R++)y=d[R],g[y][F]=l?x?he(l[R]):l[R]:1;return g}return i.prototype.format=function(l){for(var d=this._size[0],D=this._size[1],A=this.density(),x="Sparse Matrix ["+ye(d,l)+" x "+ye(D,l)+"] density: "+ye(A,l)+`
`,T=0;T<D;T++)for(var w=this._ptr[T],g=this._ptr[T+1],y=w;y<g;y++){var F=this._index[y];x+=`
    (`+ye(F,l)+", "+ye(T,l)+") ==> "+(this._values?ye(this._values[y],l):"X")}return x},i.prototype.toString=function(){return ye(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(l){if(l){if(_e(l)&&(l=l.toNumber()),!se(l)||!ae(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var d=l>0?l:0,D=l<0?-l:0,A=this._size[0],x=this._size[1],T=Math.min(A-D,x-d),w=[],g=[],y=[];y[0]=0;for(var F=d;F<x&&w.length<T;F++)for(var b=this._ptr[F],N=this._ptr[F+1],R=b;R<N;R++){var X=this._index[R];if(X===F-d+D){w.push(this._values[R]),g[w.length-1]=X-D;break}}return y.push(w.length),new i({values:w,index:g,ptr:y,size:[T,1]})},i.fromJSON=function(l){return new i(l)},i.diagonal=function(l,d,D,A,x){if(!pe(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(H){if(_e(H)&&(H=H.toNumber()),!se(H)||!ae(H)||H<1)throw new Error("Size values must be positive integers");return H}),D){if(_e(D)&&(D=D.toNumber()),!se(D)||!ae(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var T=t,w=0;je(x)&&(T=e.find(t,[x,x])||t,w=e.convert(0,x));var g=D>0?D:0,y=D<0?-D:0,F=l[0],b=l[1],N=Math.min(F-y,b-g),R;if(pe(d)){if(d.length!==N)throw new Error("Invalid value array length");R=function(J){return d[J]}}else if(de(d)){var X=d.size();if(X.length!==1||X[0]!==N)throw new Error("Invalid matrix length");R=function(J){return d.get([J])}}else R=function(){return d};for(var j=[],L=[],O=[],M=0;M<b;M++){O.push(j.length);var G=M-g;if(G>=0&&G<N){var V=R(G);T(V,w)||(L.push(G+y),j.push(V))}}return O.push(j.length),new i({values:j,index:L,ptr:O,size:[F,b]})},i.prototype.swapRows=function(l,d){if(!se(l)||!ae(l)||!se(d)||!ae(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return me(l,this._size[0]),me(d,this._size[0]),i._swapRows(l,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(l,d,D,A,x){for(var T=A[l],w=A[l+1],g=T;g<w;g++)x(D[g],d[g])},i._swapRows=function(l,d,D,A,x,T){for(var w=0;w<D;w++){var g=T[w],y=T[w+1],F=u(l,g,y,x),b=u(d,g,y,x);if(F<y&&b<y&&x[F]===l&&x[b]===d){if(A){var N=A[F];A[F]=A[b],A[b]=N}continue}if(F<y&&x[F]===l&&(b>=y||x[b]!==d)){var R=A?A[F]:void 0;x.splice(b,0,d),A&&A.splice(b,0,R),x.splice(b<=F?F+1:F,1),A&&A.splice(b<=F?F+1:F,1);continue}if(b<y&&x[b]===d&&(F>=y||x[F]!==l)){var X=A?A[b]:void 0;x.splice(F,0,l),A&&A.splice(F,0,X),x.splice(F<=b?b+1:b,1),A&&A.splice(F<=b?b+1:b,1)}}},i},{isClass:!0});var Ef="number",yf=["typed"];function wf(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function Af(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var Pn=z(Ef,yf,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=wf(i);if(o)return Af(o);var c=0,h=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(c=Number(h[2]),i=h[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is no valid number');if(h){if(s>2**c-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(c-1)&&(s=s-2**c)}return s},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var Cf="bignumber",Ff=["typed","BigNumber"],zn=z(Cf,Ff,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var c=o[2],h=t(o[1]),s=new t(2).pow(Number(c));if(h.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(c)-1);return h.gte(u)?h.sub(s):h}return new t(i)},BigNumber:function(i){return i},Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var Tf="complex",bf=["typed","Complex"],qn=z(Tf,bf,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,o){return new t(i,o)},"BigNumber, BigNumber":function(i,o){return new t(i.toNumber(),o.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var _f="fraction",Mf=["typed","Fraction"],Un=z(_f,Mf,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,o){return new t(i,o)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var ea="matrix",Nf=["typed","Matrix","DenseMatrix","SparseMatrix"],Xn=z(ea,Nf,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(ea,{"":function(){return o([])},string:function(h){return o([],h)},"string, string":function(h,s){return o([],h,s)},Array:function(h){return o(h)},Matrix:function(h){return o(h,h.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(c,h,s){if(h==="dense"||h==="default"||h===void 0)return new n(c,s);if(h==="sparse")return new i(c,s);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}});var ra="unaryMinus",Sf=["typed"],Zn=z(ra,Sf,r=>{var{typed:e}=r;return e(ra,{number:In,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Ue(n,t,!0))})});var ta="addScalar",Bf=["typed"],Vn=z(ta,Bf,r=>{var{typed:e}=r;return e(ta,{"number, number":Sn,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var If="matAlgo11xS0s",Rf=["typed","equalScalar"],na=z(If,Rf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c,h){var s=i._values,u=i._index,a=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=t,D=0,A=c;typeof p=="string"&&(l=p,d=e.find(t,[l,l]),D=e.convert(0,l),o=e.convert(o,l),A=e.find(c,[l,l]));for(var x=[],T=[],w=[],g=0;g<v;g++){w[g]=T.length;for(var y=a[g],F=a[g+1],b=y;b<F;b++){var N=u[b],R=h?A(o,s[b]):A(s[b],o);d(R,D)||(T.push(N),x.push(R))}}return w[v]=T.length,i.createSparseMatrix({values:x,index:T,ptr:w,size:[m,v],datatype:l})}});var Of="matAlgo12xSfs",Lf=["typed","DenseMatrix"],Vr=z(Of,Lf,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,c,h){var s=i._values,u=i._index,a=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=c;typeof p=="string"&&(l=p,o=e.convert(o,l),d=e.find(c,[l,l]));for(var D=[],A=[],x=[],T=0;T<v;T++){for(var w=T+1,g=a[T],y=a[T+1],F=g;F<y;F++){var b=u[F];A[b]=s[F],x[b]=w}for(var N=0;N<m;N++)T===0&&(D[N]=[]),x[N]===w?D[N][T]=h?d(o,A[N]):d(A[N],o):D[N][T]=h?d(o,0):d(0,o)}return new t({data:D,size:[m,v],datatype:l})}});var kf="matAlgo14xDs",Pf=["typed"],Lt=z(kf,Pf,r=>{var{typed:e}=r;return function(i,o,c,h){var s=i._data,u=i._size,a=i._datatype,f,p=c;typeof a=="string"&&(f=a,o=e.convert(o,f),p=e.find(c,[f,f]));var m=u.length>0?t(p,0,u,u[0],s,o,h):[];return i.createDenseMatrix({data:m,size:he(u),datatype:f})};function t(n,i,o,c,h,s,u){var a=[];if(i===o.length-1)for(var f=0;f<c;f++)a[f]=u?n(s,h[f]):n(h[f],s);else for(var p=0;p<c;p++)a[p]=t(n,i+1,o,o[i+1],h[p],s,u);return a}});var zf="matAlgo01xDSid",qf=["typed"],kt=z(zf,qf,r=>{var{typed:e}=r;return function(n,i,o,c){var h=n._data,s=n._size,u=n._datatype,a=i._values,f=i._index,p=i._ptr,m=i._size,v=i._datatype;if(s.length!==m.length)throw new ne(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=s[0],d=s[1],D=typeof u=="string"&&u===v?u:void 0,A=D?e.find(o,[D,D]):o,x,T,w=[];for(x=0;x<l;x++)w[x]=[];var g=[],y=[];for(T=0;T<d;T++){for(var F=T+1,b=p[T],N=p[T+1],R=b;R<N;R++)x=f[R],g[x]=c?A(a[R],h[x][T]):A(h[x][T],a[R]),y[x]=F;for(x=0;x<l;x++)y[x]===F?w[x][T]=g[x]:w[x][T]=h[x][T]}return n.createDenseMatrix({data:w,size:[l,d],datatype:D})}});var Uf="matAlgo04xSidSid",Xf=["typed","equalScalar"],ia=z(Uf,Xf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c){var h=i._values,s=i._index,u=i._ptr,a=i._size,f=i._datatype,p=o._values,m=o._index,v=o._ptr,l=o._size,d=o._datatype;if(a.length!==l.length)throw new ne(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var D=a[0],A=a[1],x,T=t,w=0,g=c;typeof f=="string"&&f===d&&(x=f,T=e.find(t,[x,x]),w=e.convert(0,x),g=e.find(c,[x,x]));var y=h&&p?[]:void 0,F=[],b=[],N=h&&p?[]:void 0,R=h&&p?[]:void 0,X=[],j=[],L,O,M,G,V;for(O=0;O<A;O++){b[O]=F.length;var H=O+1;for(G=u[O],V=u[O+1],M=G;M<V;M++)L=s[M],F.push(L),X[L]=H,N&&(N[L]=h[M]);for(G=v[O],V=v[O+1],M=G;M<V;M++)if(L=m[M],X[L]===H){if(N){var J=g(N[L],p[M]);T(J,w)?X[L]=null:N[L]=J}}else F.push(L),j[L]=H,R&&(R[L]=p[M]);if(N&&R)for(M=b[O];M<F.length;)L=F[M],X[L]===H?(y[M]=N[L],M++):j[L]===H?(y[M]=R[L],M++):F.splice(M,1)}return b[A]=F.length,i.createSparseMatrix({values:y,index:F,ptr:b,size:[D,A],datatype:x})}});var Zf="matAlgo10xSids",Vf=["typed","DenseMatrix"],Pt=z(Zf,Vf,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,c,h){var s=i._values,u=i._index,a=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],v=f[1],l,d=c;typeof p=="string"&&(l=p,o=e.convert(o,l),d=e.find(c,[l,l]));for(var D=[],A=[],x=[],T=0;T<v;T++){for(var w=T+1,g=a[T],y=a[T+1],F=g;F<y;F++){var b=u[F];A[b]=s[F],x[b]=w}for(var N=0;N<m;N++)T===0&&(D[N]=[]),x[N]===w?D[N][T]=h?d(o,A[N]):d(A[N],o):D[N][T]=o}return new t({data:D,size:[m,v],datatype:l})}});var jf="matAlgo13xDD",Hf=["typed"],oa=z(jf,Hf,r=>{var{typed:e}=r;return function(i,o,c){var h=i._data,s=i._size,u=i._datatype,a=o._data,f=o._size,p=o._datatype,m=[];if(s.length!==f.length)throw new ne(s.length,f.length);for(var v=0;v<s.length;v++){if(s[v]!==f[v])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");m[v]=s[v]}var l,d=c;typeof u=="string"&&u===p&&(l=u,d=e.find(c,[l,l]));var D=m.length>0?t(d,0,m,m[0],h,a):[];return i.createDenseMatrix({data:D,size:m,datatype:l})};function t(n,i,o,c,h,s){var u=[];if(i===o.length-1)for(var a=0;a<c;a++)u[a]=n(h[a],s[a]);else for(var f=0;f<c;f++)u[f]=t(n,i+1,o,o[i+1],h[f],s[f]);return u}});var Gf="matrixAlgorithmSuite",Wf=["typed","matrix"],Cr=z(Gf,Wf,r=>{var{typed:e,matrix:t}=r,n=oa({typed:e}),i=Lt({typed:e});return function(c){var h=c.elop,s=c.SD||c.DS,u;h?(u={"DenseMatrix, DenseMatrix":(m,v)=>n(m,v,h),"Array, Array":(m,v)=>n(t(m),t(v),h).valueOf(),"Array, DenseMatrix":(m,v)=>n(t(m),v,h),"DenseMatrix, Array":(m,v)=>n(m,t(v),h)},c.SS&&(u["SparseMatrix, SparseMatrix"]=(m,v)=>c.SS(m,v,h,!1)),c.DS&&(u["DenseMatrix, SparseMatrix"]=(m,v)=>c.DS(m,v,h,!1),u["Array, SparseMatrix"]=(m,v)=>c.DS(t(m),v,h,!1)),s&&(u["SparseMatrix, DenseMatrix"]=(m,v)=>s(v,m,h,!0),u["SparseMatrix, Array"]=(m,v)=>s(t(v),m,h,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(v,l)=>n(v,l,m)),"Array, Array":e.referToSelf(m=>(v,l)=>n(t(v),t(l),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(v,l)=>n(t(v),l,m)),"DenseMatrix, Array":e.referToSelf(m=>(v,l)=>n(v,t(l),m))},c.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.SS(v,l,m,!1))),c.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.DS(v,l,m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(v,l)=>c.DS(t(v),l,m,!1))),s&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(v,l)=>s(l,v,m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(v,l)=>s(t(l),v,m,!0))));var a=c.scalar||"any",f=c.Ds||c.Ss;f&&(h?(u["DenseMatrix,"+a]=(m,v)=>i(m,v,h,!1),u[a+", DenseMatrix"]=(m,v)=>i(v,m,h,!0),u["Array,"+a]=(m,v)=>i(t(m),v,h,!1).valueOf(),u[a+", Array"]=(m,v)=>i(t(v),m,h,!0).valueOf()):(u["DenseMatrix,"+a]=e.referToSelf(m=>(v,l)=>i(v,l,m,!1)),u[a+", DenseMatrix"]=e.referToSelf(m=>(v,l)=>i(l,v,m,!0)),u["Array,"+a]=e.referToSelf(m=>(v,l)=>i(t(v),l,m,!1).valueOf()),u[a+", Array"]=e.referToSelf(m=>(v,l)=>i(t(l),v,m,!0).valueOf())));var p=c.sS!==void 0?c.sS:c.Ss;return h?(c.Ss&&(u["SparseMatrix,"+a]=(m,v)=>c.Ss(m,v,h,!1)),p&&(u[a+", SparseMatrix"]=(m,v)=>p(v,m,h,!0))):(c.Ss&&(u["SparseMatrix,"+a]=e.referToSelf(m=>(v,l)=>c.Ss(v,l,m,!1))),p&&(u[a+", SparseMatrix"]=e.referToSelf(m=>(v,l)=>p(l,v,m,!0)))),h&&h.signatures&&io(u,h.signatures),u}});var Qf="matAlgo03xDSf",Yf=["typed"],jr=z(Qf,Yf,r=>{var{typed:e}=r;return function(n,i,o,c){var h=n._data,s=n._size,u=n._datatype,a=i._values,f=i._index,p=i._ptr,m=i._size,v=i._datatype;if(s.length!==m.length)throw new ne(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=s[0],d=s[1],D,A=0,x=o;typeof u=="string"&&u===v&&(D=u,A=e.convert(0,D),x=e.find(o,[D,D]));for(var T=[],w=0;w<l;w++)T[w]=[];for(var g=[],y=[],F=0;F<d;F++){for(var b=F+1,N=p[F],R=p[F+1],X=N;X<R;X++){var j=f[X];g[j]=c?x(a[X],h[j][F]):x(h[j][F],a[X]),y[j]=b}for(var L=0;L<l;L++)y[L]===b?T[L][F]=g[L]:T[L][F]=c?x(A,h[L][F]):x(h[L][F],A)}return n.createDenseMatrix({data:T,size:[l,d],datatype:D})}});var $f="matAlgo05xSfSf",Jf=["typed","equalScalar"],aa=z($f,Jf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,c){var h=i._values,s=i._index,u=i._ptr,a=i._size,f=i._datatype,p=o._values,m=o._index,v=o._ptr,l=o._size,d=o._datatype;if(a.length!==l.length)throw new ne(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var D=a[0],A=a[1],x,T=t,w=0,g=c;typeof f=="string"&&f===d&&(x=f,T=e.find(t,[x,x]),w=e.convert(0,x),g=e.find(c,[x,x]));var y=h&&p?[]:void 0,F=[],b=[],N=y?[]:void 0,R=y?[]:void 0,X=[],j=[],L,O,M,G;for(O=0;O<A;O++){b[O]=F.length;var V=O+1;for(M=u[O],G=u[O+1];M<G;M++)L=s[M],F.push(L),X[L]=V,N&&(N[L]=h[M]);for(M=v[O],G=v[O+1];M<G;M++)L=m[M],X[L]!==V&&F.push(L),j[L]=V,R&&(R[L]=p[M]);if(y)for(M=b[O];M<F.length;){L=F[M];var H=X[L],J=j[L];if(H===V||J===V){var ue=H===V?N[L]:w,oe=J===V?R[L]:w,ie=g(ue,oe);T(ie,w)?F.splice(M,1):(y.push(ie),M++)}}}return b[A]=F.length,i.createSparseMatrix({values:y,index:F,ptr:b,size:[D,A],datatype:x})}});var Kf="multiplyScalar",ec=["typed"],jn=z(Kf,ec,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Bn,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var ua="multiply",rc=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Hn=z(ua,rc,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:o,dot:c}=r,h=na({typed:e,equalScalar:o}),s=Lt({typed:e});function u(w,g){switch(w.length){case 1:switch(g.length){case 1:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+g[0]+")");break;case 2:if(w[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function a(w,g,y){if(y===0)throw new Error("Cannot multiply two empty vectors");return c(w,g)}function f(w,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(w,g)}function p(w,g){var y=w._data,F=w._size,b=w._datatype,N=g._data,R=g._size,X=g._datatype,j=F[0],L=R[1],O,M=n,G=i;b&&X&&b===X&&typeof b=="string"&&(O=b,M=e.find(n,[O,O]),G=e.find(i,[O,O]));for(var V=[],H=0;H<L;H++){for(var J=G(y[0],N[0][H]),ue=1;ue<j;ue++)J=M(J,G(y[ue],N[ue][H]));V[H]=J}return w.createDenseMatrix({data:V,size:[L],datatype:O})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":A}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":T});function l(w,g){var y=w._data,F=w._size,b=w._datatype,N=g._data,R=g._datatype,X=F[0],j=F[1],L,O=n,M=i;b&&R&&b===R&&typeof b=="string"&&(L=b,O=e.find(n,[L,L]),M=e.find(i,[L,L]));for(var G=[],V=0;V<X;V++){for(var H=y[V],J=M(H[0],N[0]),ue=1;ue<j;ue++)J=O(J,M(H[ue],N[ue]));G[V]=J}return w.createDenseMatrix({data:G,size:[X],datatype:L})}function d(w,g){var y=w._data,F=w._size,b=w._datatype,N=g._data,R=g._size,X=g._datatype,j=F[0],L=F[1],O=R[1],M,G=n,V=i;b&&X&&b===X&&typeof b=="string"&&(M=b,G=e.find(n,[M,M]),V=e.find(i,[M,M]));for(var H=[],J=0;J<j;J++){var ue=y[J];H[J]=[];for(var oe=0;oe<O;oe++){for(var ie=V(ue[0],N[0][oe]),ge=1;ge<L;ge++)ie=G(ie,V(ue[ge],N[ge][oe]));H[J][oe]=ie}}return w.createDenseMatrix({data:H,size:[j,O],datatype:M})}function D(w,g){var y=w._data,F=w._size,b=w._datatype,N=g._values,R=g._index,X=g._ptr,j=g._size,L=g._datatype;if(!N)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=F[0],M=j[1],G,V=n,H=i,J=o,ue=0;b&&L&&b===L&&typeof b=="string"&&(G=b,V=e.find(n,[G,G]),H=e.find(i,[G,G]),J=e.find(o,[G,G]),ue=e.convert(0,G));for(var oe=[],ie=[],ge=[],Ee=g.createSparseMatrix({values:oe,index:ie,ptr:ge,size:[O,M],datatype:G}),Ae=0;Ae<M;Ae++){ge[Ae]=ie.length;var ve=X[Ae],Xe=X[Ae+1];if(Xe>ve)for(var xe=0,le=0;le<O;le++){for(var Je=le+1,Ne=void 0,fe=ve;fe<Xe;fe++){var Se=R[fe];xe!==Je?(Ne=H(y[le][Se],N[fe]),xe=Je):Ne=V(Ne,H(y[le][Se],N[fe]))}xe===Je&&!J(Ne,ue)&&(ie.push(le),oe.push(Ne))}}return ge[M]=ie.length,Ee}function A(w,g){var y=w._values,F=w._index,b=w._ptr,N=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=g._data,X=g._datatype,j=w._size[0],L=g._size[0],O=[],M=[],G=[],V,H=n,J=i,ue=o,oe=0;N&&X&&N===X&&typeof N=="string"&&(V=N,H=e.find(n,[V,V]),J=e.find(i,[V,V]),ue=e.find(o,[V,V]),oe=e.convert(0,V));var ie=[],ge=[];G[0]=0;for(var Ee=0;Ee<L;Ee++){var Ae=R[Ee];if(!ue(Ae,oe))for(var ve=b[Ee],Xe=b[Ee+1],xe=ve;xe<Xe;xe++){var le=F[xe];ge[le]?ie[le]=H(ie[le],J(Ae,y[xe])):(ge[le]=!0,M.push(le),ie[le]=J(Ae,y[xe]))}}for(var Je=M.length,Ne=0;Ne<Je;Ne++){var fe=M[Ne];O[Ne]=ie[fe]}return G[1]=M.length,w.createSparseMatrix({values:O,index:M,ptr:G,size:[j,1],datatype:V})}function x(w,g){var y=w._values,F=w._index,b=w._ptr,N=w._datatype;if(!y)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=g._data,X=g._datatype,j=w._size[0],L=g._size[0],O=g._size[1],M,G=n,V=i,H=o,J=0;N&&X&&N===X&&typeof N=="string"&&(M=N,G=e.find(n,[M,M]),V=e.find(i,[M,M]),H=e.find(o,[M,M]),J=e.convert(0,M));for(var ue=[],oe=[],ie=[],ge=w.createSparseMatrix({values:ue,index:oe,ptr:ie,size:[j,O],datatype:M}),Ee=[],Ae=[],ve=0;ve<O;ve++){ie[ve]=oe.length;for(var Xe=ve+1,xe=0;xe<L;xe++){var le=R[xe][ve];if(!H(le,J))for(var Je=b[xe],Ne=b[xe+1],fe=Je;fe<Ne;fe++){var Se=F[fe];Ae[Se]!==Xe?(Ae[Se]=Xe,oe.push(Se),Ee[Se]=V(le,y[fe])):Ee[Se]=G(Ee[Se],V(le,y[fe]))}}for(var tr=ie[ve],Dr=oe.length,cr=tr;cr<Dr;cr++){var Sr=oe[cr];ue[cr]=Ee[Sr]}}return ie[O]=oe.length,ge}function T(w,g){var y=w._values,F=w._index,b=w._ptr,N=w._datatype,R=g._values,X=g._index,j=g._ptr,L=g._datatype,O=w._size[0],M=g._size[1],G=y&&R,V,H=n,J=i;N&&L&&N===L&&typeof N=="string"&&(V=N,H=e.find(n,[V,V]),J=e.find(i,[V,V]));for(var ue=G?[]:void 0,oe=[],ie=[],ge=w.createSparseMatrix({values:ue,index:oe,ptr:ie,size:[O,M],datatype:V}),Ee=G?[]:void 0,Ae=[],ve,Xe,xe,le,Je,Ne,fe,Se,tr=0;tr<M;tr++){ie[tr]=oe.length;var Dr=tr+1;for(Je=j[tr],Ne=j[tr+1],le=Je;le<Ne;le++)if(Se=X[le],G)for(Xe=b[Se],xe=b[Se+1],ve=Xe;ve<xe;ve++)fe=F[ve],Ae[fe]!==Dr?(Ae[fe]=Dr,oe.push(fe),Ee[fe]=J(R[le],y[ve])):Ee[fe]=H(Ee[fe],J(R[le],y[ve]));else for(Xe=b[Se],xe=b[Se+1],ve=Xe;ve<xe;ve++)fe=F[ve],Ae[fe]!==Dr&&(Ae[fe]=Dr,oe.push(fe));if(G)for(var cr=ie[tr],Sr=oe.length,nr=cr;nr<Sr;nr++){var Wr=oe[nr];ue[nr]=Ee[Wr]}}return ie[M]=oe.length,ge}return e(ua,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(g,y)=>{u($e(g),$e(y));var F=w(t(g),t(y));return de(F)?F.valueOf():F}),"Matrix, Matrix":function(g,y){var F=g.size(),b=y.size();return u(F,b),F.length===1?b.length===1?a(g,y,F[0]):f(g,y):b.length===1?m(g,y):v(g,y)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(g,y)=>w(g,t(y))),"Array, Matrix":e.referToSelf(w=>(g,y)=>w(t(g,y.storage()),y)),"SparseMatrix, any":function(g,y){return h(g,y,i,!1)},"DenseMatrix, any":function(g,y){return s(g,y,i,!1)},"any, SparseMatrix":function(g,y){return h(y,g,i,!0)},"any, DenseMatrix":function(g,y){return s(y,g,i,!0)},"Array, any":function(g,y){return s(t(g),y,i,!1).valueOf()},"any, Array":function(g,y){return s(t(y),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(g,y,F)=>{for(var b=w(g,y),N=0;N<F.length;N++)b=w(b,F[N]);return b})})});var sa="subtract",tc=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Gn=z(sa,tc,r=>{var{typed:e,matrix:t,equalScalar:n,addScalar:i,unaryMinus:o,DenseMatrix:c}=r,h=kt({typed:e}),s=jr({typed:e}),u=aa({typed:e,equalScalar:n}),a=Pt({typed:e,DenseMatrix:c}),f=Vr({typed:e,DenseMatrix:c}),p=Cr({typed:e,matrix:t});return e(sa,{"number, number":(m,v)=>m-v,"Complex, Complex":(m,v)=>m.sub(v),"BigNumber, BigNumber":(m,v)=>m.minus(v),"Fraction, Fraction":(m,v)=>m.sub(v),"Unit, Unit":e.referToSelf(m=>(v,l)=>{if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(l.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(l))throw new Error("Units do not match");var d=v.clone();return d.value=e.find(m,[d.valueType(),l.valueType()])(d.value,l.value),d.fixPrefix=!1,d})},p({SS:u,DS:h,SD:s,Ss:f,sS:a}))});var nc="matAlgo07xSSf",ic=["typed","DenseMatrix"],zt=z(nc,ic,r=>{var{typed:e,DenseMatrix:t}=r;return function(o,c,h){var s=o._size,u=o._datatype,a=c._size,f=c._datatype;if(s.length!==a.length)throw new ne(s.length,a.length);if(s[0]!==a[0]||s[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+a+")");var p=s[0],m=s[1],v,l=0,d=h;typeof u=="string"&&u===f&&(v=u,l=e.convert(0,v),d=e.find(h,[v,v]));var D,A,x=[];for(D=0;D<p;D++)x[D]=[];var T=[],w=[],g=[],y=[];for(A=0;A<m;A++){var F=A+1;for(n(o,A,g,T,F),n(c,A,y,w,F),D=0;D<p;D++){var b=g[D]===F?T[D]:l,N=y[D]===F?w[D]:l;x[D][A]=d(b,N)}}return new t({data:x,size:[p,m],datatype:v})};function n(i,o,c,h,s){for(var u=i._values,a=i._index,f=i._ptr,p=f[o],m=f[o+1];p<m;p++){var v=a[p];c[v]=s,h[v]=u[p]}}});var fa="conj",oc=["typed"],Wn=z(fa,oc,r=>{var{typed:e}=r;return e(fa,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Ue(n,t))})});function ca(){throw new Error('No "bignumber" implementation available')}function la(){throw new Error('No "fraction" implementation available')}function pa(){throw new Error('No "matrix" implementation available')}var ha="size",ac=["typed","config","?matrix"],Qn=z(ha,ac,r=>{var{typed:e,config:t,matrix:n}=r;return e(ha,{Matrix:function(o){return o.create(o.size())},Array:$e,string:function(o){return t.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:n?n([]):pa()}})});var ma="zeros",uc=["typed","config","matrix","BigNumber"],Yn=z(ma,uc,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(ma,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var a=u[u.length-1];if(typeof a=="string"){var f=u.pop();return o(u,f)}else return t.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var a=u.storage();return o(u.valueOf(),a)},"Array | Matrix, string":function(u,a){return o(u.valueOf(),a)}});function o(s,u){var a=c(s),f=a?new i(0):0;if(h(s),u){var p=n(u);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?it(m,s,f):m}}function c(s){var u=!1;return s.forEach(function(a,f,p){_e(a)&&(u=!0,p[f]=a.toNumber())}),u}function h(s){s.forEach(function(u){if(typeof u!="number"||!ae(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Hr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Ye(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Ye(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var sc="numeric",fc=["number","?bignumber","?fraction"],$n=z(sc,fc,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:c=>e(c),BigNumber:t?c=>t(c):ca,Fraction:n?c=>n(c):la};return function(h){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Ye(h);if(!(a in i))throw new TypeError("Cannot convert "+h+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in o))throw new TypeError("Cannot convert "+h+' to type "'+s+'"; valid output types are '+Object.keys(o).join(", "));return s===a?h:o[s](h)}});var va="divideScalar",cc=["typed","numeric"],Jn=z(va,cc,r=>{var{typed:e,numeric:t}=r;return e(va,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var qt="smaller",lc=["typed","config","matrix","DenseMatrix"],Kn=z(qt,lc,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i}=r,o=jr({typed:e}),c=zt({typed:e,DenseMatrix:i}),h=Vr({typed:e,DenseMatrix:i}),s=Cr({typed:e,matrix:n}),u=Zr({typed:e});return e(qt,pc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<f,"BigNumber, BigNumber":function(f,p){return f.lt(p)&&!Xr(f,p,t.epsilon)},"Fraction, Fraction":(a,f)=>a.compare(f)===-1,"Complex, Complex":function(f,p){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:h}))}),pc=z(qt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(qt,{"number, number":function(i,o){return i<o&&!ur(i,o,t.epsilon)}})});var Ut="larger",hc=["typed","config","matrix","DenseMatrix"],ei=z(Ut,hc,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i}=r,o=jr({typed:e}),c=zt({typed:e,DenseMatrix:i}),h=Vr({typed:e,DenseMatrix:i}),s=Cr({typed:e,matrix:n}),u=Zr({typed:e});return e(Ut,mc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>f,"BigNumber, BigNumber":function(f,p){return f.gt(p)&&!Xr(f,p,t.epsilon)},"Fraction, Fraction":(a,f)=>a.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,s({SS:c,DS:o,Ss:h}))}),mc=z(Ut,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ut,{"number, number":function(i,o){return i>o&&!ur(i,o,t.epsilon)}})});var da="max",vc=["typed","config","numeric","larger"],ri=z(da,vc,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(da,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,u){return Rt(s,u.valueOf(),o)},"...":function(s){if(It(s))throw new TypeError("Scalar values expected in function max");return c(s)}});function o(h,s){try{return i(h,s)?h:s}catch(u){throw Hr(u,"max",s)}}function c(h){var s;if(st(h,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(a){throw Hr(a,"max",u)}}),s===void 0)throw new Error("Cannot calculate max of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var Da="min",dc=["typed","config","numeric","smaller"],ti=z(Da,dc,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(Da,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(s,u){return Rt(s,u.valueOf(),o)},"...":function(s){if(It(s))throw new TypeError("Scalar values expected in function min");return c(s)}});function o(h,s){try{return i(h,s)?h:s}catch(u){throw Hr(u,"min",s)}}function c(h){var s;if(st(h,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(a){throw Hr(a,"min",u)}}),s===void 0)throw new Error("Cannot calculate min of an empty array");return typeof s=="string"&&(s=n(s,t.number)),s}});var xa="add",Dc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],ni=z(xa,Dc,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:c}=r,h=kt({typed:e}),s=ia({typed:e,equalScalar:i}),u=Pt({typed:e,DenseMatrix:o}),a=Cr({typed:e,matrix:t});return e(xa,{"any, any":n,"any, any, ...any":e.referToSelf(f=>(p,m,v)=>{for(var l=f(p,m),d=0;d<v.length;d++)l=f(l,v[d]);return l})},a({elop:n,DS:h,SS:s,Ss:u}))});var ga="dot",xc=["typed","addScalar","multiplyScalar","conj","size"],ii=z(ga,xc,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:o}=r;return e(ga,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":s});function c(a,f){var p=u(a),m=u(f),v,l;if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)l=m[0];else if(m.length===2&&m[1]===1)l=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(v!==l)throw new RangeError("Vectors must have equal length ("+v+" != "+l+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function h(a,f){var p=c(a,f),m=de(a)?a._data:a,v=de(a)?a._datatype:void 0,l=de(f)?f._data:f,d=de(f)?f._datatype:void 0,D=u(a).length===2,A=u(f).length===2,x=t,T=n;if(v&&d&&v===d&&typeof v=="string"){var w=v;x=e.find(t,[w,w]),T=e.find(n,[w,w])}if(!D&&!A){for(var g=T(i(m[0]),l[0]),y=1;y<p;y++)g=x(g,T(i(m[y]),l[y]));return g}if(!D&&A){for(var F=T(i(m[0]),l[0][0]),b=1;b<p;b++)F=x(F,T(i(m[b]),l[b][0]));return F}if(D&&!A){for(var N=T(i(m[0][0]),l[0]),R=1;R<p;R++)N=x(N,T(i(m[R][0]),l[R]));return N}if(D&&A){for(var X=T(i(m[0][0]),l[0][0]),j=1;j<p;j++)X=x(X,T(i(m[j][0]),l[j][0]));return X}}function s(a,f){c(a,f);for(var p=a._index,m=a._values,v=f._index,l=f._values,d=0,D=t,A=n,x=0,T=0;x<p.length&&T<v.length;){var w=p[x],g=v[T];if(w<g){x++;continue}if(w>g){T++;continue}w===g&&(d=D(d,A(m[x],l[T])),x++,T++)}return d}function u(a){return de(a)?a.size():o(a)}});var Ea="det",gc=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],oi=z(Ea,gc,r=>{var{typed:e,matrix:t,subtract:n,multiply:i,divideScalar:o,isZero:c,unaryMinus:h}=r;return e(Ea,{any:function(a){return he(a)},"Array | Matrix":function(a){var f;switch(de(a)?f=a.size():Array.isArray(a)?(a=t(a),f=a.size()):f=[],f.length){case 0:return he(a);case 1:if(f[0]===1)return he(a.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+ye(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return s(a.clone().valueOf(),p,m);throw new RangeError("Matrix must be square (size: "+ye(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ye(f)+")")}}});function s(u,a,f){if(a===1)return he(u[0][0]);if(a===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,m=new Array(a).fill(0).map((y,F)=>F),v=0;v<a;v++){var l=m[v];if(c(u[l][v])){var d=void 0;for(d=v+1;d<a;d++)if(!c(u[m[d]][v])){l=m[d],m[d]=m[v],m[v]=l,p=!p;break}if(d===a)return u[l][v]}for(var D=u[l][v],A=v===0?1:u[m[v-1]][v-1],x=v+1;x<a;x++)for(var T=m[x],w=v+1;w<a;w++)u[T][w]=o(n(i(u[T][w],D),i(u[T][v],u[l][w])),A)}var g=u[m[a-1]][a-1];return p?h(g):g}});var ai=Cn({config:ar}),ya=Tn({});var wa=_n({});var ui=Mn({});var Gr=Nn({Matrix:ui});var De=dn({BigNumber:ai,Complex:ya,DenseMatrix:Gr,Fraction:wa});var Xt=Vn({typed:De});var Ec=zn({BigNumber:ai,typed:De});var Aa=qn({Complex:ya,typed:De}),yc=Wn({typed:De});var Zt=Ln({config:ar,typed:De});var wc=On({typed:De});var Ca=jn({typed:De});var Ac=Pn({typed:De});var Fa=kn({Matrix:ui,equalScalar:Zt,typed:De});var Ta=Zn({typed:De});var Cc=Un({Fraction:wa,typed:De});var Fr=Xn({DenseMatrix:Gr,Matrix:ui,SparseMatrix:Fa,typed:De});var si=$n({bignumber:Ec,fraction:Cc,number:Ac});var Fc=Qn({matrix:Fr,config:ar,typed:De}),Tc=Kn({DenseMatrix:Gr,config:ar,matrix:Fr,typed:De});var ct=Gn({DenseMatrix:Gr,addScalar:Xt,equalScalar:Zt,matrix:Fr,typed:De,unaryMinus:Ta});var ba=Yn({BigNumber:ai,config:ar,matrix:Fr,typed:De});var bc=Jn({numeric:si,typed:De});var _a=ti({config:ar,numeric:si,smaller:Tc,typed:De});var Vt=ni({DenseMatrix:Gr,SparseMatrix:Fa,addScalar:Xt,equalScalar:Zt,matrix:Fr,typed:De});var _c=ii({addScalar:Xt,conj:yc,multiplyScalar:Ca,size:Fc,typed:De});var Mc=ei({DenseMatrix:Gr,config:ar,matrix:Fr,typed:De});var fi=Hn({addScalar:Xt,dot:_c,equalScalar:Zt,matrix:Fr,multiplyScalar:Ca,typed:De});var Ma=oi({divideScalar:bc,isZero:wc,matrix:Fr,multiply:fi,subtract:ct,typed:De,unaryMinus:Ta});var Na=ri({config:ar,larger:Mc,numeric:si,typed:De});var we=class{constructor(e,t){this.rows=1;this.cols=1;this.values=[];this.rows=e,this.cols=t,this.values=new Array(e*t).fill(0)}getRows(){return this.rows}getCols(){return this.cols}setValue(e,t,n){this.values[e*this.cols+t]=n}getValue(e,t){return this.values[e*this.cols+t]}clone(){let e=new we(this.rows,this.cols);return e.values=[...this.values],e}toString(){let e="[";for(let t=0;t<this.rows;t++){t>0&&(e+=","),e+="[";for(let n=0;n<this.cols;n++)n>0&&(e+=","),e+=this.getValue(t,n);e+="]"}return e+="]",e}static mathjs2matrix(e){let t=new we(e.size()[0],e.size()[1]),n=t.getRows(),i=t.getCols();for(let o=0;o<n;o++)for(let c=0;c<i;c++)t.setValue(o,c,e.get([o,c]));return t}static matrix2mathjs(e){let t=ba(e.rows,e.cols);for(let n=0;n<e.rows;n++)for(let i=0;i<e.cols;i++)t.set([n,i],e.getValue(n,i));return t}};var jt=class{constructor(e){this.parent=null;this.parent=e}_addMatrices(e,t,n){let i;try{i=Vt(we.matrix2mathjs(e),we.matrix2mathjs(t))}catch{throw new dr(n,"dimensions do not match")}return we.mathjs2matrix(i)}_subMatrices(e,t,n){let i;try{i=ct(we.matrix2mathjs(e),we.matrix2mathjs(t))}catch{throw new dr(n,"dimensions do not match")}return we.mathjs2matrix(i)}_mulMatrices(e,t,n){let i;try{i=fi(we.matrix2mathjs(e),we.matrix2mathjs(t))}catch{throw new dr(n,"dimensions do not match")}return we.mathjs2matrix(i)}_randMatrix(e,t,n,i){let o=new we(e,t);for(let c=0;c<e;c++)for(let h=0;h<t;h++)o.setValue(c,h,this.parent.interpret_basic._randIntMinMax(n,i));return o}_randZMatrix(e,t,n,i){let o=new we(e,t);for(let c=0;c<e;c++)for(let h=0;h<t;h++)o.setValue(c,h,this.parent.interpret_basic._randIntMinMaxZ(n,i));return o}_det(e,t){try{return Ma(we.matrix2mathjs(e))}catch{throw new dr(t,"matrix is not square")}}_minMatrix(e){return _a(we.matrix2mathjs(e))}_maxMatrix(e){return Na(we.matrix2mathjs(e))}};var Tr=class{constructor(e=0,t=0){this.real=e,this.imag=t}static mathjs2complex(e){return new Tr(e.re,e.im)}static complex2mathjs(e){return Aa(e.real,e.imag)}toMathJs(){return Tr.complex2mathjs(this)}};var Ht=class{constructor(e){this.parent=null;this.parent=e}_addComplex(e,t){return Tr.mathjs2complex(Vt(e.toMathJs(),t.toMathJs()))}_subComplex(e,t){return Tr.mathjs2complex(ct(e.toMathJs(),t.toMathJs()))}_absComplex(e){return 0}};var Gt=class{constructor(e){this.parent=null;this.parent=e}_add(e,t){return e+t}_unaryMinus(e){return-e}_unaryNot(e){return!e}_sub(e,t){return e-t}_mul(e,t){return e*t}_div(e,t){return e/t}_pow(e,t){return Math.pow(e,t)}_randIntMax(e){return Math.floor(Math.random()*e)}_randIntMaxZ(e){let t=0;for(;t==0;)t=this._randIntMax(e);return t}_randIntMinMax(e,t){return Math.floor(Math.random()*(t-e)+e)}_randIntMinMaxZ(e,t){let n=0;for(;n==0;)n=this._randIntMinMax(e,t);return n}_sin(e){return Math.sin(e)}_cos(e){return Math.cos(e)}_tan(e){return Math.tan(e)}_asin(e){return Math.asin(e)}_acos(e){return Math.acos(e)}_atan(e){return Math.atan(e)}_exp(e){return Math.exp(e)}_sqrt(e){return Math.sqrt(e)}_abs(e){return Math.abs(e)}_floor(e){return Math.floor(e)}_ceil(e){return Math.ceil(e)}_round(e){return Math.round(e)}_sign(e){return e==0?0:e<0?-1:1}};var lt=class extends Error{constructor(e){super(e),this.name="TermError"}},ee=class{constructor(e="",t=[]){this.op="";this.value="";this.o=[];this.op=e,this.o=t}static Op(e,t){let n=new ee;return n.op=e,n.o=t,n}static Const(e){let t=new ee;return t.op="#",t.value=e,t}static Var(e){let t=new ee;return t.op="$",t.value=e,t}clone(){let e=new ee;e.op=this.op,e.value=this.value;for(let t of this.o)e.o.push(t.clone());return e}eval(e={}){let t;switch(this.op){case"+":t=0;for(let n of this.o)t+=n.eval(e);break;case"*":t=1;for(let n of this.o)t*=n.eval(e);break;case"-":t=0;for(let n of this.o)t-=n.eval(e);break;case"#":t=this.value;break;case"sin":t=Math.sin(this.o[0].eval(e));break;case"cos":t=Math.cos(this.o[0].eval(e));break;case"tan":t=Math.tan(this.o[0].eval(e));break;case"asin":t=Math.asin(this.o[0].eval(e));break;case"atan":t=Math.atan(this.o[0].eval(e));break;case"exp":t=Math.exp(this.o[0].eval(e));break;case"$":if(this.value in e)return e[this.value];throw new lt('eval(..): unset variable "'+this.value+'"');default:throw new lt('eval(..): unimplemented operator "'+this.op+'"')}return t}diff(e){let t=null;switch(this.op){case"+":t=ee.Op("+",[]);for(let n of this.o)t.o.push(n.diff(e));break;case"*":t=ee.Op("+",[ee.Op("*",[this.o[0].diff(e),this.o[1].clone()]),ee.Op("*",[this.o[0].clone(),this.o[1].diff(e)])]);break;case"$":t=ee.Const(this.value===e?1:0);break;case"#":t=ee.Const(0);break;default:throw new lt('diff(..): unimplemented operator "'+this.op+'"')}return t}integrate(e,t,n,i=1e-12){let o=0;for(let c=t;c<=n;c+=i)o+=this.eval({varId:c});return o/i}optimize(){let e=this.clone();for(let t=0;t<e.o.length;t++)e.o[t]=e.o[t].optimize();if(this.op==="*"){for(let t of e.o)if(t.op==="#"&&t.value==0)return ee.Const(0)}try{let t=e.eval();return ee.Const(t)}catch{}return e}setVariableValue(e,t){this.op==="$"&&(this.op="#",this.value=t);for(let n of this.o)n.setVariableValue(e,t)}getVariableIDs(){let e=new Set;this.op==="$"&&e.add(this.value);for(let t of this.o)e=new Set([...e,...t.getVariableIDs()]);return e}toString(){let e="";switch(this.op){case"#":case"$":e=""+this.value;break;default:if(this.op.length>2){e+=this.op+"(";for(let t=0;t<this.o.length;t++)t>0&&(e+=","),e+=this.o[t].toString();e+=")"}else{e+="(";for(let t=0;t<this.o.length;t++)t>0&&(e+=this.op),e+=this.o[t].toString();e+=")"}break}return e}};var Wt=class{constructor(e){this.parent=null;this.parent=e}var(e){return ee.Var(e)}_addTermReal(e,t){return ee.Op("+",[e,ee.Const(t)])}_addRealTerm(e,t){return ee.Op("+",[ee.Const(e),t])}_addTermTerm(e,t){return ee.Op("+",[e,t])}_subTermReal(e,t){return ee.Op("-",[e,ee.Const(t)])}_subRealTerm(e,t){return ee.Op("-",[ee.Const(e),t])}_subTermTerm(e,t){return ee.Op("-",[e,t])}_mulTermReal(e,t){return ee.Op("*",[e,ee.Const(t)])}_mulRealTerm(e,t){return ee.Op("*",[ee.Const(e),t])}_mulTermTerm(e,t){return ee.Op("*",[e,t])}_divTermReal(e,t){return ee.Op("/",[e,ee.Const(t)])}_divRealTerm(e,t){return ee.Op("/",[ee.Const(e),t])}_divTermTerm(e,t){return ee.Op("/",[e,t])}_powTermReal(e,t){return ee.Op("^",[e,ee.Const(t)])}_powRealTerm(e,t){return ee.Op("^",[ee.Const(e),t])}_powTermTerm(e,t){return ee.Op("^",[e,t])}_sinTerm(e){return ee.Op("sin",[e])}_cosTerm(e){return ee.Op("cos",[e])}_tanTerm(e){return ee.Op("tan",[e])}_expTerm(e){return ee.Op("exp",[e])}};var dr=class extends Error{constructor(e,t){super(""+e+":"+t),this.name="RunError"}},Qt=class{constructor(){this.interpret_matrix=null;this.interpret_complex=null;this.interpret_basic=null;this.interpret_term=null;this.interpret_matrix=new jt(this),this.interpret_complex=new Ht(this),this.interpret_basic=new Gt(this),this.interpret_term=new Wt(this)}interpret(e,t){e+="return [";let n=0;for(let o of t)o.type.base!="TERM_VAR"&&(n>0&&(e+=", "),e+=o.id,n++);e+="];";let i=new Function("runtime",e);try{let o=i(this);for(let c=0;c<t.length;c++){let h=t[c];switch(h.type.base){case"BOOL":h.value=o[c];break;case"INT":case"REAL":h.value=o[c];break;case"MATRIX":h.value=o[c];break;case"TERM":h.value=o[c];break;default:throw new dr("-1","interpret(..): unimplemented type "+h.type)}}}catch(o){throw new dr("-1","interpret(..) failed: "+o)}}};var Ba=Jr(en());var Sa=`

_add(x:INT,y:INT):INT -> interpret_basic._add;
_add(x:INT,y:REAL):REAL -> interpret_basic._add;
_add(x:REAL,y:INT):REAL -> interpret_basic._add;
_add(x:REAL,y:REAL):REAL -> interpret_basic._add;
_unaryMinus(x:INT):INT -> interpret_basic._unaryMinus;
_unaryMinus(x:REAL):REAL -> interpret_basic._unaryMinus;
_unaryNot(x:BOOL):BOOL -> interpret_basic._unaryNot;
_sub(x:INT,y:INT):INT -> interpret_basic._sub;
_sub(X:INT,y:REAL):REAL -> interpret_basic._sub;
_sub(x:REAL,y:INT):REAL -> interpret_basic._sub;
_sub(x:REAL,y:REAL):REAL -> interpret_basic._sub;
_mul(x:INT,y:INT):INT -> interpret_basic._mul;
_mul(x:INT,y:REAL):REAL -> interpret_basic._mul;
_mul(x:REAL,y:INT):REAL -> interpret_basic._mul;
_mul(x:REAL,y:REAL):REAL -> interpret_basic._mul;
_div(x:INT,y:INT):REAL -> interpret_basic._div;
_div(x:INT,y:REAL):REAL -> interpret_basic._div;
_div(x:REAL,y:INT):REAL -> interpret_basic._div;
_div(x:REAL,y:REAL):REAL -> interpret_basic._div;
_pow(x:INT,y:INT):INT -> interpret_basic._pow;
_pow(x:INT,y:REAL):REAL -> interpret_basic._pow;
_pow(x:REAL,y:INT):REAL -> interpret_basic._pow;
_pow(x:REAL,y:REAL):REAL -> interpret_basic._pow;
rand(max:INT): INT -> interpret_basic._randIntMax;
rand(min:INT,max:INT): INT -> interpret_basic._randIntMinMax;
randZ(min:INT,max:INT): INT -> interpret_basic._randIntMinMaxZ;
sin(x:INT): REAL -> interpret_basic._sin;
sin(x:REAL): REAL -> interpret_basic._sin;
cos(x:INT): REAL -> interpret_basic._cos;
cos(x:REAL): REAL -> interpret_basic._cos;
tan(x:INT): REAL -> interpret_basic._tan;
tan(x:REAL): REAL -> interpret_basic._tan;
asin(x:INT): REAL -> interpret_basic._asin;
asin(x:REAL): REAL -> interpret_basic._asin;
acos(x:INT): REAL -> interpret_basic._acos;
acos(x:REAL): REAL -> interpret_basic._acos;
atan(x:INT): REAL -> interpret_basic._atan;
atan(x:REAL): REAL -> interpret_basic._atan;
exp(x:INT):REAL -> interpret_basic._exp;
exp(x:REAL):REAL -> interpret_basic._exp;
sqrt(x:REAL): REAL -> interpret_basic._sqrt;
abs(x:INT):INT -> interpret_basic._abs;
abs(x:REAL):REAL -> interpret_basic._abs;
floor(x:INT): INT -> interpret_basic._floor;
floor(x:REAL): INT -> interpret_basic._floor;
ceil(x:INT): INT -> interpret_basic._ceil;
ceil(x:REAL): INT -> interpret_basic._ceil;
round(x:INT): INT -> interpret_basic._round;
round(x:REAL): INT -> interpret_basic._round;
sign(x:INT): INT -> interpret_basic._sign;
sign(x:REAL): INT -> interpret_basic._sign;
binomial(n:INT,k:INT): INT -> interpret_basic._binomial;
_add(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._addComplex;
_sub(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._subComplex;
exp(x:COMPLEX):COMPLEX -> interpret_complex._expComplex;
sqrt(x:COMPLEX): COMPLEX -> interpret_complex._sqrtComplex;
abs(x:COMPLEX): REAL -> interpret_complex._absComplex;
_add(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._addMatrices;
_sub(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._subMatrices;
_mul(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._mulMatrices;
rand<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randMatrix;
randZ<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randZMatrix;
det(x:MATRIX): REAL -> interpret_matrix._det;
min(x:MATRIX): REAL -> interpret_matrix._minMatrix;
max(x:MATRIX): REAL -> interpret_matrix._maxMatrix;
_add(x:TERM,y:INT):TERM -> interpret_term._addTermReal;
_add(x:TERM,y:REAL):TERM -> interpret_term._addTermReal;
_add(x:INT,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:REAL,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:TERM,y:TERM):TERM -> interpret_term._addTermTerm;
_sub(x:TERM,y:INT):TERM -> interpret_term._subTermReal;
_sub(x:TERM,y:REAL):TERM -> interpret_term._subTermReal;
_sub(x:INT,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:REAL,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:TERM,y:TERM):TERM -> interpret_term._subTermTerm;
_mul(x:TERM,y:INT):TERM -> interpret_term._mulTermReal;
_mul(x:TERM,y:REAL):TERM -> interpret_term._mulTermReal;
_mul(x:INT,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:REAL,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:TERM,y:TERM):TERM -> interpret_term._mulTermTerm;
_div(x:TERM,y:INT):TERM -> interpret_term._divTermReal;
_div(x:TERM,y:REAL):TERM -> interpret_term._divTermReal;
_div(x:INT,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:REAL,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:TERM,y:TERM):TERM -> interpret_term._divTermTerm;
_pow(x:TERM,y:INT):TERM -> interpret_term._powTermReal;
_pow(x:TERM,y:REAL):TERM -> interpret_term._powTermReal;
_pow(x:INT,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:REAL,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:TERM,y:TERM):TERM -> interpret_term._powTermTerm;
sin(x:TERM): TERM -> interpret_term._sinTerm;
cos(x:TERM): TERM -> interpret_term._cosTerm;
tan(x:TERM): TERM -> interpret_term._tanTerm;
exp(x:TERM): TERM -> interpret_term._expTerm;

`;var Yt=class{constructor(){this.lexer=null;this.symTab=[];this.loopLevel=0;this.scope=0}getSymbol(e){for(let t of this.symTab)if(t.id===e)return t;return null}getLocalSymbols(){let e=[];for(let t of this.symTab)if(t.kind==="LOCAL"){if(t.type.base==="TERM_VAR")continue;e.push(t)}return e}parse(e){return this.loopLevel=0,this.scope=0,this.symTab=_i(Sa),this.lexer=new Ba.Lexer,this.lexer.configureSingleLineComments("//"),this.lexer.configureMultiLineComments("/*","*/"),this.lexer.enableEmitNewlines(!1),this.lexer.enableEmitIndentation(!1),this.lexer.enableBackslashLineBreaks(!1),this.lexer.pushSource("FILE",e),this.lexer.setTerminals(["&&","||","==","!=",">=","<=","++","--"]),this.parseProgram().str}parseProgram(){let e=new qe;for(;this.lexer.isNotEND();){let t=this.parseStatement();e.str+=t.str}return e}parseStatement(){if(this.lexer.isTER("let"))return this.parseDeclaration();if(this.lexer.isTER("if"))return this.parseIf();if(this.lexer.isTER("do"))return this.parseDo();if(this.lexer.isTER("while"))return this.parseWhile();if(this.lexer.isTER("function"))return this.parseFunction();if(this.lexer.isTER("return"))return this.parseReturn();if(this.lexer.isTER("break"))return this.parseBreak();if(this.lexer.isTER("continue"))return this.parseContinue();{let e=this.parseExpression();return this.lexer.EOS(),new qe(e.code.str+";")}}parseDeclaration(){let e=new qe;this.lexer.TER("let");let t=[];if(t.push(this.lexer.ID()),this.lexer.isTER("(")){let n=t[0];this.lexer.next();let i=[];for(i.push(this.lexer.ID());this.lexer.isTER(",");)this.lexer.next(),i.push(this.lexer.ID());for(let s of i){let u=new rr("TERM"),a=new lr(s,"LOCAL",u,this.scope,[]);this.symTab.push(a),e.str+="let "+s+' = runtime.interpret_term.var("'+s+'");'}this.lexer.TER(")"),this.lexer.TER("=");let o=this.parseExpression();o.type.base!=="TERM"&&this.lexer.error("right-hand side is not a term"),e.str+="let "+n+" = "+o.code.str+";";let c=new rr("TERM"),h=new lr(n,"LOCAL",c,this.scope,[]);this.symTab.push(h),this.lexer.EOS()}else{for(;this.lexer.isTER(":");)this.lexer.next(),t.push(this.lexer.ID());this.lexer.TER("=");let n=this.parseExpression();for(let i of t){let o=new lr(i,"LOCAL",n.type,this.scope,[]);this.symTab.push(o),e.str+="let "+i+" = "+n.code.str+";"}this.lexer.EOS()}return e}parseExpression(){let e=this.parseOr();for(;this.lexer.isTER("=");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseOr();(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="INT",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseOr(){let e=this.parseAnd();for(;this.lexer.isTER("||");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseAnd();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseAnd(){let e=this.parseEqual();for(;this.lexer.isTER("&&");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseEqual();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseEqual(){let e=this.parseRelational();if(this.lexer.isTER("==")||this.lexer.isTER("!=")){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseRelational();e.type.base=="INT"&&n.type.base=="INT"?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseRelational(){let e=this.parseAdd();if(this.lexer.isTER("<=")||this.lexer.isTER(">=")||this.lexer.isTER("<")||this.lexer.isTER(">")){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseAdd();(e.type.base=="INT"||e.type.base=="REAL")&&(n.type.base=="INT"||n.type.base=="REAL")?(e.type.base="BOOL",e.code.str=e.code.str+" "+t+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(t,e.type.base,n.type.base)}return e}parseAdd(){let e=this.parseMul();for(;this.lexer.isTER("+")||this.lexer.isTER("-");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parseMul();e=this.call(this.getSymbol(t==="+"?"_add":"_sub"),[],[e,n])}return e}parseMul(){let e=this.parsePow();for(;this.lexer.isTER("*")||this.lexer.isTER("/");){let t=this.lexer.getToken().token;this.lexer.next();let n=this.parsePow();e=this.call(this.getSymbol(t==="*"?"_mul":"_div"),[],[e,n])}return e}parsePow(){let e=this.parseUnary();if(this.lexer.isTER("^")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_pow"),[],[e,t])}return e}parseUnary(){let e=this.parseUnaryExpression();return e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isNotTER("(")&&this.lexer.isNotTER("<")&&this.lexer.errorExpected(["(","<"]),(this.lexer.isTER("++")||this.lexer.isTER("--")||e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isTER("<")||this.lexer.isTER("(")||this.lexer.isTER("["))&&(e=this.parseUnaryPostfix(e)),e}parseUnaryExpression(){let e=new rt;if(this.lexer.isTER("true"))e.code.str=" true ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isTER("false"))e.code.str=" false ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isINT())e.code.str=" "+this.lexer.INT()+" ",e.type.base="INT";else if(this.lexer.isREAL())e.code.str=" "+this.lexer.REAL()+" ",e.type.base="REAL";else if(this.lexer.isTER("(")){this.lexer.next();let t=this.parseExpression();this.lexer.TER(")"),e.code.str=" ( "+t.code.str+" ) ",e.type=t.type}else if(this.lexer.isID()){let t=this.lexer.ID();e.sym=this.getSymbol(t),e.sym==null&&this.lexer.errorUnknownSymbol(t),e.type=e.sym.type.clone(),e.code.str=" "+t}else if(this.lexer.isTER("-")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_unaryMinus"),[],[t])}else if(this.lexer.isTER("!")){this.lexer.next();let t=this.parseUnary();e=this.call(this.getSymbol("_unaryNot"),[],[t])}else this.lexer.errorExpected(["INT","IMAG","REAL","(","ID"]);return e}parseUnaryPostfix(e){if(this.lexer.isTER("++"))this.lexer.next(),e.code.str+=" ++ ";else if(this.lexer.isTER("--"))this.lexer.next(),e.code.str+=" -- ";else if(this.lexer.isTER("<")||this.lexer.isTER("(")){let t=[],n=[];if(this.lexer.isTER("<")){this.lexer.next();let o=0;for(;this.lexer.isNotTER(">");)o>0&&this.lexer.TER(","),t.push(this.parseUnary()),o++;this.lexer.TER(">")}this.lexer.TER("("),(e.sym==null||e.sym.kind!="FUNCTION")&&this.lexer.errorNotAFunction();let i=0;for(;this.lexer.isNotTER(")");)i>0&&this.lexer.TER(","),n.push(this.parseExpression()),i++;this.lexer.TER(")"),e=this.call(e.sym,t,n)}else this.lexer.errorExpected(["++","--","(","["]);return e}call(e,t,n){let i=new rt;i.sym=e,i.type=e.type;let o=e;for(;o!=null;){let c=[],h=[];for(let s of o.subSymbols)s.kind=="DIMENSION"?c.push(s):s.kind==="PARAMETER"&&h.push(s);if(c.length==t.length&&h.length==n.length){let s=!0;for(let u=0;u<c.length;u++)if(c[u].type.base!==t[u].type.base){s=!1;break}for(let u=0;u<h.length;u++)if(h[u].type.base!==n[u].type.base){s=!1;break}if(s){i.type=o.type,i.code.str="runtime."+o.runtimeId+"(";let u=0;for(let a=0;a<c.length;a++)u>0&&(i.code.str+=", "),i.code.str+=t[a].code.str,u++;for(let a=0;a<h.length;a++)u>0&&(i.code.str+=", "),i.code.str+=n[a].code.str,u++;u>0&&(i.code.str+=", "),i.code.str+="'"+this.lexer.getToken().row+":"+this.lexer.getToken().col+"'",u++,i.code.str+=")",i.sym=null;break}}o=o.functionOverloadSuccessor}if(o==null){let c="";for(let h of n)c.length>0&&(c+=", "),c+=h.type.toString();this.lexer.error('no matching function prototype for calling "'+i.sym.id+'" with types ('+c+")")}return i}parseIf(){let e=new qe;this.lexer.TER("if"),this.lexer.TER("(");let t=this.parseExpression();t.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),e.str="if ("+t.code.str+")";let n=this.parseBlock();if(e.str+=n.str,this.lexer.isTER("else")){this.lexer.next(),e.str+=" else ";let i=this.parseBlock();e.str+=i.str}return e}parseBlock(){let e=new qe;if(this.lexer.isTER("{")){for(this.lexer.next(),e.str+="{";this.lexer.isNotTER("}");)e.str+=this.parseStatement().str;return this.lexer.TER("}"),e.str+="}",e}else return this.parseStatement()}parseDo(){this.lexer.TER("do"),this.loopLevel++;let e=this.parseBlock();this.loopLevel--,this.lexer.TER("while"),this.lexer.TER("(");let t=this.parseExpression();return t.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.lexer.EOS(),new qe(" do "+e.str+" while( "+t.code.str+" ); ")}parseWhile(){this.lexer.TER("while"),this.lexer.TER("(");let e=this.parseExpression();e.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.loopLevel++;let t=this.parseBlock();return this.loopLevel--,new qe(" while( "+e.code.str+" ) "+t.str)}parseFunction(){this.lexer.TER("function");let e=this.lexer.ID();this.lexer.TER("(");let t=0;for(;this.lexer.isNotTER(")");){t>0&&this.lexer.TER(",");let i=this.lexer.ID();t++}return this.lexer.TER(")"),this.parseBlock()}parseReturn(){if(this.lexer.TER("return"),this.lexer.isEOS()==!1){let e=this.parseExpression();return this.lexer.EOS(),new qe(" return "+e.code)}else return this.lexer.EOS(),new qe(" return ")}parseBreak(){return this.lexer.TER("break"),this.loopLevel==0&&this.lexer.error("break not allowed outside loop"),this.lexer.EOS(),new qe(" break ")}parseContinue(){return this.lexer.TER("continue"),this.loopLevel==0&&this.lexer.error("continue not allowed outside loop"),this.lexer.EOS(),new qe(" continue ")}};var $t="";function Sc(r,e=!1){let t=new Yt;$t=t.parse(r);let n=t.getLocalSymbols();return e&&console.log($t),new Qt().interpret($t,n),n}return xu(Bc);})();
/*!
 *  decimal.js v10.4.1
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
